(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";n.r(t);var r=function(e,t,n){return e.fields=t||[],e.fname=n,e};function i(e){return null==e?null:e.fname}function u(e){return null==e?null:e.fields}var a=function(e){throw Error(e)},o=function(e){var t,n,r,i=[],u=null,o=0,c=e.length,f="";function s(){i.push(f+e.substring(t,n)),f="",t=n+1}for(e+="",t=n=0;n<c;++n)if("\\"===(r=e[n]))f+=e.substring(t,n),t=++n;else if(r===u)s(),u=null,o=-1;else{if(u)continue;t===o&&'"'===r?(t=n+1,u=r):t===o&&"'"===r?(t=n+1,u=r):"."!==r||o?"["===r?(n>t&&s(),o=t=n+1):"]"===r&&(o||a("Access path missing open bracket: "+e),o>0&&s(),o=0,t=n+1):n>t?s():t=n+1}return o&&a("Access path missing closing bracket: "+e),u&&a("Access path missing closing quote: "+e),n>t&&(n++,s()),i},c=Array.isArray,f=function(e){return e===Object(e)},s=function(e){return"string"===typeof e};function l(e){return c(e)?"["+e.map(l)+"]":f(e)||s(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var d=function(e,t){var n=o(e),i="return _["+n.map(l).join("][")+"];";return r(Function("_",i),[e=1===n.length?n[0]:e],t||e)},h=[],p=d("id"),m=r(function(e){return e},h,"identity"),v=r(function(){return 0},h,"zero"),g=r(function(){return 1},h,"one"),b=r(function(){return!0},h,"true"),y=r(function(){return!1},h,"false");function x(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var w=function(e){var t=e||0;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=1&&x("error","ERROR",arguments),this},warn:function(){return t>=2&&x("warn","WARN",arguments),this},info:function(){return t>=3&&x("log","INFO",arguments),this},debug:function(){return t>=4&&x("log","DEBUG",arguments),this}}},_=function(e){return e[e.length-1]},A=function(e){return null==e||""===e?null:+e};function E(e){return function(t){return e*Math.exp(t)}}function O(e){return function(t){return Math.log(e*t)}}function k(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function D(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function F(e,t,n,r){var i=n(e[0]),u=n(_(e)),a=(u-i)*t;return[r(i-a),r(u-a)]}function M(e,t){return F(e,t,A,m)}function S(e,t){var n=Math.sign(e[0]);return F(e,t,O(n),E(n))}function j(e,t,n){return F(e,t,D(n),D(1/n))}function T(e,t,n){return F(e,t,k(n),C(n))}function N(e,t,n,r,i){var u=r(e[0]),a=r(_(e)),o=null!=t?r(t):(u+a)/2;return[i(o+(u-o)*n),i(o+(a-o)*n)]}function B(e,t,n){return N(e,t,n,A,m)}function P(e,t,n){var r=Math.sign(e[0]);return N(e,t,n,O(r),E(r))}function R(e,t,n,r){return N(e,t,n,D(r),D(1/r))}function z(e,t,n,r){return N(e,t,n,k(r),C(r))}function L(e){return 1+~~(new Date(e).getMonth()/3)}function I(e){return 1+~~(new Date(e).getUTCMonth()/3)}var U=function(e){return null!=e?c(e)?e:[e]:[]},q=function(e,t,n){var r,i=e[0],u=e[1];return u<i&&(r=u,u=i,i=r),(r=u-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},W=function(e){return"function"===typeof e},H=function(e,t){var n,i,a,c,f,s,d,h,p,m=[],v=(e=U(e)).map(function(e,t){return null==e?null:(m.push(t),W(e)?e:o(e).map(l).join("]["))}),g=m.length-1,b=U(t),y="var u,v;return ";if(g<0)return null;for(i=0;i<=g;++i)a=v[n=m[i]],W(a)?(c="(u=this."+(s="f"+n)+"(a))",f="(v=this."+s+"(b))",(d=d||{})[s]=a):(c="(u=a["+a+"])",f="(v=b["+a+"])"),s="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==b[n]?(p=1,h=-1):(p=-1,h=1),y+="("+c+"<"+f+"||u==null)&&v!=null?"+h+":(u>v||v==null)&&u!=null?"+p+":"+s+"!==u&&v===v?"+h+":v!==v&&u===u?"+p+(n<g?":":":0");return a=Function("a","b",y+";"),d&&(a=a.bind(d)),e=e.reduce(function(e,t){return W(t)?(u(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),r(a,Object.keys(e))},Y=function(e){return W(e)?e:function(){return e}},V=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},G=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},$=function(e,t){var n,r,i,u,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];null==r||r!==r;r=e[++a]);for(i=u=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>u&&(u=r))}else{for(r=t(e[a]);null==r||r!==r;r=t(e[++a]));for(i=u=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>u&&(u=r))}return[i,u]},X=function(e,t){var n,r,i,u,a,o=-1,c=e.length;if(null==t){for(;++o<c;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=e[o])&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}else{for(;++o<c;)if(null!=(r=t(e[o],o,e))&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}return[u,a]},J={},K=function(e){var t,n,r={};function i(e){return r.hasOwnProperty(e)&&r[e]!==J}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===J&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=J),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,u={},a=0;for(e in r)(i=r[e])===J||n&&n(i)||(u[e]=i,++a);t.size=a,t.empty=0,t.object=r=u}},e&&Object.keys(e).forEach(function(n){t.set(n,e[n])}),t},Q=function(e,t,n,r,i,u){if(!n&&0!==n)return u;var a,o,c=e[0],f=_(e),s=+n;return f<c&&(a=c,c=f,f=a),(a=Math.abs(t-c))<(o=Math.abs(f-t))&&a<=s?r:o<=s?i:u},Z=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},ee=function(e,t,n,r){var i,u=t[0],a=t[t.length-1];return u>a&&(i=u,u=a,a=i),r=void 0===r||r,((n=void 0===n||n)?u<=e:u<e)&&(r?e<=a:e<a)},te=function(e){return"boolean"===typeof e},ne=function(e){return"[object Date]"===Object.prototype.toString.call(e)},re=function(e){return"number"===typeof e},ie=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},ue=function(e,t){e&&(e=t?U(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):U(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?l(e):o(e).map(l).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return r(n,e,"key")},ae=function(e,t){var n=e[0],r=_(e),i=+t;return i?1===i?r:n+i*(r-n):n},oe=function(e,t,n,r){var i=t.length,u=n.length;if(!u)return t;if(!i)return n;for(var a=r||new t.constructor(i+u),o=0,c=0,f=0;o<i&&c<u;++f)a[f]=e(t[o],n[c])>0?n[c++]:t[o++];for(;o<i;++o,++f)a[f]=t[o];for(;c<u;++c,++f)a[f]=n[c];return a},ce=function(e,t){for(var n="";--t>=0;)n+=e;return n},fe=function(e,t,n,r){var i=n||" ",u=e+"",a=t-u.length;return a<=0?u:"left"===r?ce(i,a)+u:"center"===r?ce(i,~~(a/2))+u+ce(i,Math.ceil(a/2)):u+ce(i,a)},se=function(e){return _(e)-e[0]||0},le=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function de(e){return re(e)?e:ne(e)?e:Date.parse(e)}var he=function(e,t){return t=t||de,null==e||""===e?null:t(e)},pe=function(e){return null==e||""===e?null:e+""},me=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},ve=function(e,t,n,r){var i=null!=r?r:"\u2026",u=e+"",a=u.length,o=Math.max(0,t-i.length);return a<=t?u:"left"===n?i+u.slice(a-o):"center"===n?u.slice(0,Math.ceil(o/2))+i+u.slice(a-~~(o/2)):u.slice(0,o)+i},ge=function(e,t,n){if(e){var r,i=0,u=e.length;if(t)for(;i<u;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};n.d(t,"accessor",function(){return r}),n.d(t,"accessorName",function(){return i}),n.d(t,"accessorFields",function(){return u}),n.d(t,"id",function(){return p}),n.d(t,"identity",function(){return m}),n.d(t,"zero",function(){return v}),n.d(t,"one",function(){return g}),n.d(t,"truthy",function(){return b}),n.d(t,"falsy",function(){return y}),n.d(t,"logger",function(){return w}),n.d(t,"None",function(){return 0}),n.d(t,"Error",function(){return 1}),n.d(t,"Warn",function(){return 2}),n.d(t,"Info",function(){return 3}),n.d(t,"Debug",function(){return 4}),n.d(t,"panLinear",function(){return M}),n.d(t,"panLog",function(){return S}),n.d(t,"panPow",function(){return j}),n.d(t,"panSymlog",function(){return T}),n.d(t,"zoomLinear",function(){return B}),n.d(t,"zoomLog",function(){return P}),n.d(t,"zoomPow",function(){return R}),n.d(t,"zoomSymlog",function(){return z}),n.d(t,"quarter",function(){return L}),n.d(t,"utcquarter",function(){return I}),n.d(t,"array",function(){return U}),n.d(t,"clampRange",function(){return q}),n.d(t,"compare",function(){return H}),n.d(t,"constant",function(){return Y}),n.d(t,"debounce",function(){return V}),n.d(t,"error",function(){return a}),n.d(t,"extend",function(){return G}),n.d(t,"extent",function(){return $}),n.d(t,"extentIndex",function(){return X}),n.d(t,"fastmap",function(){return K}),n.d(t,"field",function(){return d}),n.d(t,"flush",function(){return Q}),n.d(t,"inherits",function(){return Z}),n.d(t,"inrange",function(){return ee}),n.d(t,"isArray",function(){return c}),n.d(t,"isBoolean",function(){return te}),n.d(t,"isDate",function(){return ne}),n.d(t,"isFunction",function(){return W}),n.d(t,"isNumber",function(){return re}),n.d(t,"isObject",function(){return f}),n.d(t,"isRegExp",function(){return ie}),n.d(t,"isString",function(){return s}),n.d(t,"key",function(){return ue}),n.d(t,"lerp",function(){return ae}),n.d(t,"merge",function(){return oe}),n.d(t,"pad",function(){return fe}),n.d(t,"peek",function(){return _}),n.d(t,"repeat",function(){return ce}),n.d(t,"span",function(){return se}),n.d(t,"splitAccessPath",function(){return o}),n.d(t,"stringValue",function(){return l}),n.d(t,"toBoolean",function(){return le}),n.d(t,"toDate",function(){return he}),n.d(t,"toNumber",function(){return A}),n.d(t,"toString",function(){return pe}),n.d(t,"toSet",function(){return me}),n.d(t,"truncate",function(){return ve}),n.d(t,"visitArray",function(){return ge})},function(e,t,n){"use strict";e.exports=n(115)},function(e,t,n){"use strict";n.r(t),n.d(t,"pick",function(){return c}),n.d(t,"omit",function(){return f}),n.d(t,"stringify",function(){return s}),n.d(t,"hash",function(){return l}),n.d(t,"contains",function(){return d}),n.d(t,"without",function(){return h}),n.d(t,"union",function(){return p}),n.d(t,"some",function(){return m}),n.d(t,"every",function(){return v}),n.d(t,"flatten",function(){return g}),n.d(t,"mergeDeep",function(){return b}),n.d(t,"unique",function(){return x}),n.d(t,"differ",function(){return w}),n.d(t,"hasIntersection",function(){return _}),n.d(t,"isNumeric",function(){return A}),n.d(t,"differArray",function(){return E}),n.d(t,"keys",function(){return O}),n.d(t,"vals",function(){return k}),n.d(t,"flagKeys",function(){return C}),n.d(t,"duplicate",function(){return D}),n.d(t,"isBoolean",function(){return F}),n.d(t,"varName",function(){return M}),n.d(t,"logicalExpr",function(){return S}),n.d(t,"deleteNestedProperty",function(){return j}),n.d(t,"titlecase",function(){return T}),n.d(t,"accessPathWithDatum",function(){return N}),n.d(t,"flatAccessWithDatum",function(){return B}),n.d(t,"replacePathInField",function(){return P}),n.d(t,"removePathFromField",function(){return R}),n.d(t,"accessPathDepth",function(){return z});var r=n(3),i=n(82),u=n.n(i),a=n(0),o=n(50);function c(e,t){for(var n={},r=0,i=t;r<i.length;r++){var u=i[r];e.hasOwnProperty(u)&&(n[u]=e[u])}return n}function f(e,t){for(var n=r.a({},e),i=0,u=t;i<u.length;i++){delete n[u[i]]}return n}var s=u.a;function l(e){if(Object(a.isNumber)(e))return e;var t=Object(a.isString)(e)?e:u()(e);if(t.length<100)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function d(e,t){return e.indexOf(t)>-1}function h(e,t){return e.filter(function(e){return!d(t,e)})}function p(e,t){return e.concat(h(t,e))}function m(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function v(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function g(e){return[].concat.apply([],e)}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=y(e,i[r])}return e}function y(e,t){if("object"!==typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!==typeof t[n]||Object(a.isArray)(t[n])||null===t[n]?e[n]=t[n]:"object"!==typeof e[n]||null===e[n]?e[n]=b(Object(a.isArray)(t[n].constructor)?[]:{},t[n]):b(e[n],t[n]));return e}function x(e,t){for(var n,r=[],i={},u=0,a=e;u<a.length;u++){var o=a[u];(n=t(o))in i||(i[n]=1,r.push(o))}return r}function w(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function _(e,t){for(var n in e)if(n in t)return!0;return!1}function A(e){return!isNaN(e)}function E(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}var O=Object.keys;function k(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function C(e){return O(e)}function D(e){return JSON.parse(JSON.stringify(e))}function F(e){return!0===e||!1===e}function M(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function S(e,t){return Object(o.c)(e)?"!("+S(e.not,t)+")":Object(o.b)(e)?"("+e.and.map(function(e){return S(e,t)}).join(") && (")+")":Object(o.d)(e)?"("+e.or.map(function(e){return S(e,t)}).join(") || (")+")":t(e)}function j(e,t){if(0===t.length)return!0;var n=t.shift();return j(e[n],t)&&delete e[n],0===Object.keys(e).length}function T(e){return e.charAt(0).toUpperCase()+e.substr(1)}function N(e,t){void 0===t&&(t="datum");for(var n=Object(a.splitAccessPath)(e),r=[],i=1;i<=n.length;i++){var u="["+n.slice(0,i).map(a.stringValue).join("][")+"]";r.push(""+t+u)}return r.join(" && ")}function B(e,t){return void 0===t&&(t="datum"),t+"["+Object(a.stringValue)(Object(a.splitAccessPath)(e).join("."))+"]"}function P(e){return""+Object(a.splitAccessPath)(e).map(function(e){return e.replace(".","\\.")}).join("\\.")}function R(e){return""+Object(a.splitAccessPath)(e).join(".")}function z(e){return e?Object(a.splitAccessPath)(e).length:0}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return a});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}},function(e,t,n){"use strict";n.r(t);var r=new Date,i=new Date;function u(e,t,n,a){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var u,a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;do{a.push(u=new Date(+n)),t(n,i),e(n)}while(u<n&&n<r);return a},o.filter=function(n){return u(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,u){return r.setTime(+t),i.setTime(+u),e(r),e(i),Math.floor(n(r,i))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(a?function(t){return a(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}var a=u(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):a:null};var o=a,c=a.range,f=6e4,s=6048e5,l=u(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),d=l,h=l.range,p=u(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*f)},function(e,t){return(t-e)/f},function(e){return e.getMinutes()}),m=p,v=p.range,g=u(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*f)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),b=g,y=g.range,x=u(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*f)/864e5},function(e){return e.getDate()-1}),w=x,_=x.range;function A(e){return u(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*f)/s})}var E=A(0),O=A(1),k=A(2),C=A(3),D=A(4),F=A(5),M=A(6),S=E.range,j=O.range,T=k.range,N=C.range,B=D.range,P=F.range,R=M.range,z=u(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),L=z,I=z.range,U=u(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});U.every=function(e){return isFinite(e=Math.floor(e))&&e>0?u(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var q=U,W=U.range,H=u(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*f)},function(e,t){return(t-e)/f},function(e){return e.getUTCMinutes()}),Y=H,V=H.range,G=u(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),$=G,X=G.range,J=u(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),K=J,Q=J.range;function Z(e){return u(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/s})}var ee=Z(0),te=Z(1),ne=Z(2),re=Z(3),ie=Z(4),ue=Z(5),ae=Z(6),oe=ee.range,ce=te.range,fe=ne.range,se=re.range,le=ie.range,de=ue.range,he=ae.range,pe=u(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),me=pe,ve=pe.range,ge=u(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ge.every=function(e){return isFinite(e=Math.floor(e))&&e>0?u(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var be=ge,ye=ge.range;n.d(t,"timeInterval",function(){return u}),n.d(t,"timeMillisecond",function(){return o}),n.d(t,"timeMilliseconds",function(){return c}),n.d(t,"utcMillisecond",function(){return o}),n.d(t,"utcMilliseconds",function(){return c}),n.d(t,"timeSecond",function(){return d}),n.d(t,"timeSeconds",function(){return h}),n.d(t,"utcSecond",function(){return d}),n.d(t,"utcSeconds",function(){return h}),n.d(t,"timeMinute",function(){return m}),n.d(t,"timeMinutes",function(){return v}),n.d(t,"timeHour",function(){return b}),n.d(t,"timeHours",function(){return y}),n.d(t,"timeDay",function(){return w}),n.d(t,"timeDays",function(){return _}),n.d(t,"timeWeek",function(){return E}),n.d(t,"timeWeeks",function(){return S}),n.d(t,"timeSunday",function(){return E}),n.d(t,"timeSundays",function(){return S}),n.d(t,"timeMonday",function(){return O}),n.d(t,"timeMondays",function(){return j}),n.d(t,"timeTuesday",function(){return k}),n.d(t,"timeTuesdays",function(){return T}),n.d(t,"timeWednesday",function(){return C}),n.d(t,"timeWednesdays",function(){return N}),n.d(t,"timeThursday",function(){return D}),n.d(t,"timeThursdays",function(){return B}),n.d(t,"timeFriday",function(){return F}),n.d(t,"timeFridays",function(){return P}),n.d(t,"timeSaturday",function(){return M}),n.d(t,"timeSaturdays",function(){return R}),n.d(t,"timeMonth",function(){return L}),n.d(t,"timeMonths",function(){return I}),n.d(t,"timeYear",function(){return q}),n.d(t,"timeYears",function(){return W}),n.d(t,"utcMinute",function(){return Y}),n.d(t,"utcMinutes",function(){return V}),n.d(t,"utcHour",function(){return $}),n.d(t,"utcHours",function(){return X}),n.d(t,"utcDay",function(){return K}),n.d(t,"utcDays",function(){return Q}),n.d(t,"utcWeek",function(){return ee}),n.d(t,"utcWeeks",function(){return oe}),n.d(t,"utcSunday",function(){return ee}),n.d(t,"utcSundays",function(){return oe}),n.d(t,"utcMonday",function(){return te}),n.d(t,"utcMondays",function(){return ce}),n.d(t,"utcTuesday",function(){return ne}),n.d(t,"utcTuesdays",function(){return fe}),n.d(t,"utcWednesday",function(){return re}),n.d(t,"utcWednesdays",function(){return se}),n.d(t,"utcThursday",function(){return ie}),n.d(t,"utcThursdays",function(){return le}),n.d(t,"utcFriday",function(){return ue}),n.d(t,"utcFridays",function(){return de}),n.d(t,"utcSaturday",function(){return ae}),n.d(t,"utcSaturdays",function(){return he}),n.d(t,"utcMonth",function(){return me}),n.d(t,"utcMonths",function(){return ve}),n.d(t,"utcYear",function(){return be}),n.d(t,"utcYears",function(){return ye})},function(e,t,n){"use strict";n.r(t),n.d(t,"isConditionalSelection",function(){return h}),n.d(t,"isRepeatRef",function(){return p}),n.d(t,"toFieldDefBase",function(){return m}),n.d(t,"isConditionalDef",function(){return v}),n.d(t,"hasConditionalFieldDef",function(){return g}),n.d(t,"hasConditionalValueDef",function(){return b}),n.d(t,"isFieldDef",function(){return y}),n.d(t,"isStringFieldDef",function(){return x}),n.d(t,"isValueDef",function(){return w}),n.d(t,"isScaleFieldDef",function(){return _}),n.d(t,"vgField",function(){return A}),n.d(t,"isDiscrete",function(){return E}),n.d(t,"isContinuous",function(){return O}),n.d(t,"isCount",function(){return k}),n.d(t,"verbalTitleFormatter",function(){return C}),n.d(t,"functionalTitleFormatter",function(){return D}),n.d(t,"defaultTitleFormatter",function(){return F}),n.d(t,"setTitleFormatter",function(){return S}),n.d(t,"resetTitleFormatter",function(){return j}),n.d(t,"title",function(){return T}),n.d(t,"defaultType",function(){return N}),n.d(t,"getFieldDef",function(){return B}),n.d(t,"normalize",function(){return P}),n.d(t,"normalizeFieldDef",function(){return R}),n.d(t,"normalizeBin",function(){return z}),n.d(t,"channelCompatibility",function(){return I}),n.d(t,"isNumberFieldDef",function(){return U}),n.d(t,"isTimeFieldDef",function(){return q}),n.d(t,"valueExpr",function(){return W}),n.d(t,"valueArray",function(){return H});var r=n(3),i=n(0),u=n(38),a=n(37),o=n(7),c=n(43),f=n(6),s=n(35),l=n(24),d=n(2);function h(e){return e.selection}function p(e){return e&&!Object(i.isString)(e)&&"repeat"in e}function m(e){var t=e.field,n=e.timeUnit,i=e.bin,u=e.aggregate;return r.a({},n?{timeUnit:n}:{},i?{bin:i}:{},u?{aggregate:u}:{},{field:t})}function v(e){return!!e&&!!e.condition}function g(e){return!!e&&!!e.condition&&!Object(i.isArray)(e.condition)&&y(e.condition)}function b(e){return!!e&&!!e.condition&&(Object(i.isArray)(e.condition)||w(e.condition))}function y(e){return!!e&&(!!e.field||"count"===e.aggregate)}function x(e){return y(e)&&Object(i.isString)(e.field)}function w(e){return e&&"value"in e&&void 0!==e.value}function _(e){return!!e&&(!!e.scale||!!e.sort)}function A(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(k(e))n="count_*";else{var u=void 0;t.nofn||(!function(e){return!!e.op}(e)?e.bin?(u=Object(a.binToString)(e.bin),i=t.binSuffix||""):e.aggregate?u=String(e.aggregate):e.timeUnit&&(u=String(e.timeUnit)):u=e.op),u&&(n=n?u+"_"+n:u)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr?Object(d.flatAccessWithDatum)(n,t.expr):Object(d.replacePathInField)(n)}function E(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"latitude":case"longitude":case"temporal":return!1}throw new Error(f.b.invalidFieldType(e.type))}function O(e){return!E(e)}function k(e){return"count"===e.aggregate}function C(e,t){var n=e.field,r=e.bin,i=e.timeUnit,u=e.aggregate;return"count"===u?t.countTitle:r?n+" (binned)":i?n+" ("+Object(s.getTimeUnitParts)(i).join("-")+")":u?Object(d.titlecase)(u)+" of "+n:n}function D(e,t){var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}var F=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return D(e);default:return C(e,t)}},M=F;function S(e){M=e}function j(){S(F)}function T(e,t){return M(e,t)}function N(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(Object(o.rangeType)(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}function B(e){return y(e)?e:g(e)?e.condition:void 0}function P(e,t){if(Object(i.isString)(e)||Object(i.isNumber)(e)||Object(i.isBoolean)(e)){var n=Object(i.isString)(e)?"string":Object(i.isNumber)(e)?"number":"boolean";return f.e(f.b.primitiveChannelDef(t,n,e)),{value:e}}return y(e)?R(e,t):g(e)?r.a({},e,{condition:R(e.condition,t)}):e}function R(e,t){if(e.aggregate&&!Object(u.isAggregateOp)(e.aggregate)){e.aggregate;var n=r.c(e,["aggregate"]);f.e(f.b.invalidAggregate(e.aggregate)),e=n}if(e.timeUnit&&(e=r.a({},e,{timeUnit:Object(s.normalizeTimeUnit)(e.timeUnit)})),e.bin&&(e=r.a({},e,{bin:z(e.bin,t)})),e.type){var i=Object(l.getFullName)(e.type);e.type!==i&&(e=r.a({},e,{type:i})),"quantitative"!==e.type&&Object(u.isCountingAggregateOp)(e.aggregate)&&(f.e(f.b.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=r.a({},e,{type:"quantitative"}))}else{var a=N(e,t);f.e(f.b.emptyOrInvalidFieldType(e.type,t,a)),e=r.a({},e,{type:a})}var o=I(e,t),c=o.compatible,d=o.warning;return c||f.e(d),e}function z(e,t){return Object(i.isBoolean)(e)?{maxbins:Object(a.autoMaxBins)(t)}:e.maxbins||e.step?e:r.a({},e,{maxbins:Object(a.autoMaxBins)(t)})}var L={compatible:!0};function I(e,t){var n=e.type;switch(t){case"row":case"column":return O(e)?{compatible:!1,warning:f.b.facetChannelShouldBeDiscrete(t)}:L;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return L;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==l.QUANTITATIVE?{compatible:!1,warning:"Channel "+t+" should be used with a quantitative field only, not "+e.type+" field."}:L;case"opacity":case"size":case"x2":case"y2":return"nominal"===n&&!e.sort||"geojson"===n?{compatible:!1,warning:"Channel "+t+" should not be used with an unsorted discrete field."}:L;case"shape":return"nominal"!==e.type&&"geojson"!==e.type?{compatible:!1,warning:"Shape channel should be used with only either nominal or geojson data"}:L;case"order":return"nominal"!==e.type||"sort"in e?L:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+t)}function U(e){return"quantitative"===e.type||!!e.bin}function q(e){return"temporal"===e.type||!!e.timeUnit}function W(e,t){var n,r=t.timeUnit,u=t.type,a=t.time,o=t.undefinedIfExprNotRequired,f=void 0;return Object(c.isDateTime)(e)?f=Object(c.dateTimeExpr)(e,!0):(Object(i.isString)(e)||Object(i.isNumber)(e))&&(r||"temporal"===u)&&(f=Object(s.isLocalSingleTimeUnit)(r)?Object(c.dateTimeExpr)(((n={})[r]=e,n),!0):Object(s.isUtcSingleTimeUnit)(r)?W(e,{timeUnit:Object(s.getLocalTimeUnit)(r)}):"datetime("+JSON.stringify(e)+")"),f?a?"time("+f+")":f:o?void 0:JSON.stringify(e)}function H(e,t){var n=e.timeUnit,r=e.type;return t.map(function(e){var t=W(e,{timeUnit:n,type:r,undefinedIfExprNotRequired:!0});return void 0!==t?{signal:t}:e})}},function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return r});var r,i=n(0),u=n(2),a=Object(i.logger)(i.Warn),o=a;!function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.warns).push.apply(e,t),this},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.infos).push.apply(e,t),this},e.prototype.debug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.debugs).push.apply(e,t),this}}();function c(e){return o=e}function f(){return o=a}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.warn.apply(o,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.debug.apply(o,arguments)}!function(e){e.INVALID_SPEC="Invalid spec",e.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',e.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',e.cannotProjectOnChannelWithoutField=function(e){return'Cannot project a selection on encoding channel "'+e+'", which has no field.'},e.nearestNotSupportForContinuous=function(e){return'The "nearest" transform is not supported for '+e+" marks."},e.selectionNotFound=function(e){return'Cannot find a selection named "'+e+'"'},e.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",e.noSuchRepeatedValue=function(e){return'Unknown repeated value "'+e+'".'},e.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views.",e.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views.",e.cannotSetTitleAnchor=function(e){return'Cannot set title "anchor" for a '+e+" spec"},e.unrecognizedParse=function(e){return'Unrecognized parse "'+e+'".'},e.differentParse=function(e,t,n){return'An ancestor parsed field "'+e+'" as '+n+" but a child wants to parse the field as "+t+"."},e.invalidTransformIgnored=function(e){return"Ignoring an invalid transform: "+Object(u.stringify)(e)+"."},e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',e.encodingOverridden=function(e){return"Layer's shared "+e.join(",")+" channel "+(1===e.length?"is":"are")+" overriden"},e.projectionOverridden=function(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection "+Object(u.stringify)(t)+" is overridden by a child projection "+Object(u.stringify)(n)+"."},e.primitiveChannelDef=function(e,t,n){return"Channel "+e+" is a "+t+". Converted to {value: "+Object(u.stringify)(n)+"}."},e.invalidFieldType=function(e){return'Invalid field type "'+e+'"'},e.nonZeroScaleUsedWithLengthMark=function(e,t,n){return"A "+(n.scaleType?n.scaleType+" scale":n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero")+" is used to encode "+e+"'s "+t+". This can be misleading as the "+("x"===t?"width":"height")+" of the "+e+" can be arbitrary based on the scale domain. You may want to use point mark instead."},e.invalidFieldTypeForCountAggregate=function(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'},e.invalidAggregate=function(e){return'Invalid aggregation operator "'+e+'"'},e.emptyOrInvalidFieldType=function(e,t,n){return'Invalid field type "'+e+'" for channel "'+t+'", using "'+n+'" instead.'},e.droppingColor=function(e,t){var n=t.fill,r=t.stroke;return"Dropping color "+e+" as the plot also has "+(n&&r?"fill and stroke":n?"fill":"stroke")},e.emptyFieldDef=function(e,t){return"Dropping "+Object(u.stringify)(e)+' from channel "'+t+'" since it does not contain data field or value.'},e.latLongDeprecated=function(e,t,n){return e+"-encoding with type "+t+" is deprecated. Replacing with "+n+"-encoding."},e.LINE_WITH_VARYING_SIZE="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",e.incompatibleChannel=function(e,t,n){return e+' dropped as it is incompatible with "'+t+'"'+(n?" when "+n:"")+"."},e.invalidEncodingChannel=function(e){return e+"-encoding is dropped as "+e+" is not a valid encoding channel."},e.facetChannelShouldBeDiscrete=function(e){return e+" encoding should be discrete (ordinal / nominal / binned)."},e.discreteChannelCannotEncode=function(e,t){return'Using discrete channel "'+e+'" to encode "'+t+'" field can be misleading as it does not encode '+("ordinal"===t?"order":"magnitude")+"."},e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.lineWithRange=function(e,t){return"Line mark is for continuous lines and thus cannot be used with "+(e&&t?"x2 and y2":e?"x2":"y2")+". We will use the rule mark (line segments) instead."},e.orientOverridden=function(e,t){return'Specified orient "'+e+'" overridden with "'+t+'"'},e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=function(e){return'Cannot use the scale property "'+e+'" with non-color channel.'},e.unaggregateDomainHasNoEffectForRawField=function(e){return"Using unaggregated domain with raw field has no effect ("+Object(u.stringify)(e)+")."},e.unaggregateDomainWithNonSharedDomainOp=function(e){return'Unaggregated domain not applicable for "'+e+'" since it produces values outside the origin domain of the source data.'},e.unaggregatedDomainWithLogScale=function(e){return"Unaggregated domain is currently unsupported for log scale ("+Object(u.stringify)(e)+")."},e.cannotApplySizeToNonOrientedMark=function(e){return'Cannot apply size to non-oriented mark "'+e+'".'},e.rangeStepDropped=function(e){return'rangeStep for "'+e+'" is dropped as top-level '+("x"===e?"width":"height")+" is provided."},e.scaleTypeNotWorkWithChannel=function(e,t,n){return'Channel "'+e+'" does not work with "'+t+'" scale. We are using "'+n+'" scale instead.'},e.scaleTypeNotWorkWithFieldDef=function(e,t){return'FieldDef does not work with "'+e+'" scale. We are using "'+t+'" scale instead.'},e.scalePropertyNotWorkWithScaleType=function(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."},e.scaleTypeNotWorkWithMark=function(e,t){return'Scale type "'+t+'" does not work with mark "'+e+'".'},e.mergeConflictingProperty=function(e,t,n,r){return"Conflicting "+t.toString()+' property "'+e.toString()+'" ('+Object(u.stringify)(n)+" and "+Object(u.stringify)(r)+").  Using "+Object(u.stringify)(n)+"."},e.independentScaleMeansIndependentGuide=function(e){return'Setting the scale to be independent for "'+e+'" means we also have to set the guide (axis or legend) to be independent.'},e.domainSortDropped=function(e){return"Dropping sort property "+Object(u.stringify)(e)+" as unioned domains only support boolean or op 'count'."},e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=function(e){return'Cannot stack "'+e+'" if there is already "'+e+'2"'},e.cannotStackNonLinearScale=function(e){return"Cannot stack non-linear scale ("+e+")"},e.stackNonSummativeAggregate=function(e){return'Stacking is applied even though the aggregate function is non-summative ("'+e+'")'},e.invalidTimeUnit=function(e,t){return"Invalid "+e+": "+Object(u.stringify)(t)},e.dayReplacedWithDate=function(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."},e.droppedDay=function(e){return"Dropping day from datetime "+Object(u.stringify)(e)+" as day cannot be combined with other units."}}(r||(r={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Channel",function(){return r}),n.d(t,"X",function(){return a}),n.d(t,"Y",function(){return o}),n.d(t,"X2",function(){return c}),n.d(t,"Y2",function(){return f}),n.d(t,"LATITUDE",function(){return s}),n.d(t,"LATITUDE2",function(){return l}),n.d(t,"LONGITUDE",function(){return d}),n.d(t,"LONGITUDE2",function(){return h}),n.d(t,"ROW",function(){return p}),n.d(t,"COLUMN",function(){return m}),n.d(t,"SHAPE",function(){return v}),n.d(t,"SIZE",function(){return g}),n.d(t,"COLOR",function(){return b}),n.d(t,"FILL",function(){return y}),n.d(t,"STROKE",function(){return x}),n.d(t,"TEXT",function(){return w}),n.d(t,"DETAIL",function(){return _}),n.d(t,"KEY",function(){return A}),n.d(t,"ORDER",function(){return E}),n.d(t,"OPACITY",function(){return O}),n.d(t,"TOOLTIP",function(){return k}),n.d(t,"HREF",function(){return C}),n.d(t,"GEOPOSITION_CHANNEL_INDEX",function(){return D}),n.d(t,"GEOPOSITION_CHANNELS",function(){return F}),n.d(t,"isColorChannel",function(){return S}),n.d(t,"CHANNELS",function(){return T}),n.d(t,"SINGLE_DEF_CHANNELS",function(){return B}),n.d(t,"isChannel",function(){return P}),n.d(t,"UNIT_CHANNELS",function(){return R}),n.d(t,"NONPOSITION_CHANNELS",function(){return L}),n.d(t,"POSITION_SCALE_CHANNELS",function(){return U}),n.d(t,"NONPOSITION_SCALE_CHANNELS",function(){return W}),n.d(t,"SCALE_CHANNELS",function(){return Y}),n.d(t,"isScaleChannel",function(){return V}),n.d(t,"supportMark",function(){return G}),n.d(t,"getSupportedMark",function(){return $}),n.d(t,"rangeType",function(){return X});var r,i=n(3),u=n(2);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.LATITUDE="latitude",e.LONGITUDE="longitude",e.LATITUDE2="latitude2",e.LONGITUDE2="longitude2",e.COLOR="color",e.FILL="fill",e.STROKE="stroke",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.KEY="key",e.TOOLTIP="tooltip",e.HREF="href"}(r||(r={}));var a=r.X,o=r.Y,c=r.X2,f=r.Y2,s=r.LATITUDE,l=r.LATITUDE2,d=r.LONGITUDE,h=r.LONGITUDE2,p=r.ROW,m=r.COLUMN,v=r.SHAPE,g=r.SIZE,b=r.COLOR,y=r.FILL,x=r.STROKE,w=r.TEXT,_=r.DETAIL,A=r.KEY,E=r.ORDER,O=r.OPACITY,k=r.TOOLTIP,C=r.HREF,D={longitude:1,longitude2:1,latitude:1,latitude2:1},F=Object(u.flagKeys)(D),M=i.a({x:1,y:1,x2:1,y2:1},D,{color:1,fill:1,stroke:1,opacity:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function S(e){return"color"===e||"fill"===e||"stroke"===e}var j=i.a({},M,{row:1,column:1}),T=Object(u.flagKeys)(j),N=(j.order,j.detail,i.c(j,["order","detail"])),B=Object(u.flagKeys)(N);function P(e){return!!j[e]}var R=Object(u.flagKeys)(M),z=(M.x,M.y,M.x2,M.y2,M.latitude,M.longitude,M.latitude2,M.longitude2,i.c(M,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"])),L=Object(u.flagKeys)(z),I={x:1,y:1},U=Object(u.flagKeys)(I),q=(z.text,z.tooltip,z.href,z.detail,z.key,z.order,i.c(z,["text","tooltip","href","detail","key","order"])),W=Object(u.flagKeys)(q),H=i.a({},I,q),Y=Object(u.flagKeys)(H);function V(e){return!!H[e]}function G(e,t){return t in $(e)}function $(e){switch(e){case b:case y:case x:case _:case A:case k:case C:case E:case O:case p:case m:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,trail:!0,area:!0,text:!0,geoshape:!0};case a:case o:case s:case d:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,trail:!0,area:!0,text:!0};case c:case f:case l:case h:return{rule:!0,bar:!0,rect:!0,area:!0};case g:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0,trail:!0};case v:return{point:!0,geoshape:!0};case w:return{text:!0}}}function X(e){switch(e){case a:case o:case g:case O:case c:case f:return"continuous";case p:case m:case v:case w:case k:case C:return"discrete";case b:case y:case x:return"flexible";case s:case d:case l:case h:case _:case A:case E:return}throw new Error("rangeType not implemented for "+e)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.r(t);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},u=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};var a=function(e){var t=u(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}})(t)};function o(){}var c=function(e){return null==e?o:function(){return this.querySelector(e)}};function f(){return[]}var s=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},l=function(e){return function(){return this.matches(e)}},d=function(e){return new Array(e.length)};function h(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}h.prototype={constructor:h,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var p="$";function m(e,t,n,r,i,u){for(var a,o=0,c=t.length,f=u.length;o<f;++o)(a=t[o])?(a.__data__=u[o],r[o]=a):n[o]=new h(e,u[o]);for(;o<c;++o)(a=t[o])&&(i[o]=a)}function v(e,t,n,r,i,u,a){var o,c,f,s={},l=t.length,d=u.length,m=new Array(l);for(o=0;o<l;++o)(c=t[o])&&(m[o]=f=p+a.call(c,c.__data__,o,t),f in s?i[o]=c:s[f]=c);for(o=0;o<d;++o)(c=s[f=p+a.call(e,u[o],o,u)])?(r[o]=c,c.__data__=u[o],s[f]=null):n[o]=new h(e,u[o]);for(o=0;o<l;++o)(c=t[o])&&s[m[o]]===c&&(i[o]=c)}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var b=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function y(e,t){return e.style.getPropertyValue(t)||b(e).getComputedStyle(e,null).getPropertyValue(t)}function x(e){return e.trim().split(/^|\s+/)}function w(e){return e.classList||new _(e)}function _(e){this._node=e,this._names=x(e.getAttribute("class")||"")}function A(e,t){for(var n=w(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function E(e,t){for(var n=w(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}_.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function O(){this.textContent=""}function k(){this.innerHTML=""}function C(){this.nextSibling&&this.parentNode.appendChild(this)}function D(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F(){return null}function M(){var e=this.parentNode;e&&e.removeChild(this)}function S(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function j(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var T={},N=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(T={mouseenter:"mouseover",mouseleave:"mouseout"}));function B(e,t,n){return e=P(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function P(e,t,n){return function(r){var i=N;N=r;try{e.call(this,this.__data__,t,n)}finally{N=i}}}function R(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,u=t.length;r<u;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function z(e,t,n){var r=T.hasOwnProperty(e.type)?B:P;return function(i,u,a){var o,c=this.__on,f=r(t,u,a);if(c)for(var s=0,l=c.length;s<l;++s)if((o=c[s]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=f,o.capture=n),void(o.value=t);this.addEventListener(e.type,f,n),o={type:e.type,name:e.name,value:t,listener:f,capture:n},c?c.push(o):this.__on=[o]}}function L(e,t,n,r){var i=N;e.sourceEvent=N,N=e;try{return t.apply(n,r)}finally{N=i}}function I(e,t,n){var r=b(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var U=[null];function q(e,t){this._groups=e,this._parents=t}function W(){return new q([[document.documentElement]],U)}q.prototype=W.prototype={constructor:q,select:function(e){"function"!==typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,a,o=t[i],f=o.length,s=r[i]=new Array(f),l=0;l<f;++l)(u=o[l])&&(a=e.call(u,u.__data__,l,o))&&("__data__"in u&&(a.__data__=u.__data__),s[l]=a);return new q(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=s(e));for(var t=this._groups,n=t.length,r=[],i=[],u=0;u<n;++u)for(var a,o=t[u],c=o.length,f=0;f<c;++f)(a=o[f])&&(r.push(e.call(a,a.__data__,f,o)),i.push(a));return new q(r,i)},filter:function(e){"function"!==typeof e&&(e=l(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,a=t[i],o=a.length,c=r[i]=[],f=0;f<o;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&c.push(u);return new q(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),s=-1,this.each(function(e){p[++s]=e}),p;var n,r=t?v:m,i=this._parents,u=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=u.length,o=new Array(a),c=new Array(a),f=new Array(a),s=0;s<a;++s){var l=i[s],d=u[s],h=d.length,p=e.call(l,l&&l.__data__,s,i),g=p.length,b=c[s]=new Array(g),y=o[s]=new Array(g);r(l,d,b,y,f[s]=new Array(h),p,t);for(var x,w,_=0,A=0;_<g;++_)if(x=b[_]){for(_>=A&&(A=_+1);!(w=y[A])&&++A<g;);x._next=w||null}}return(o=new q(o,i))._enter=c,o._exit=f,o},enter:function(){return new q(this._enter||this._groups.map(d),this._parents)},exit:function(){return new q(this._exit||this._groups.map(d),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,u=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?u.remove():n(u),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,u=Math.min(r,i),a=new Array(r),o=0;o<u;++o)for(var c,f=t[o],s=n[o],l=f.length,d=a[o]=new Array(l),h=0;h<l;++h)(c=f[h]||s[h])&&(d[h]=c);for(;o<r;++o)a[o]=t[o];return new q(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],u=i.length-1,a=i[u];--u>=0;)(r=i[u])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u){for(var a,o=n[u],c=o.length,f=i[u]=new Array(c),s=0;s<c;++s)(a=o[s])&&(f[s]=a);f.sort(t)}return new q(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,u=r.length;i<u;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,u=t[n],a=0,o=u.length;a<o;++a)(i=u[a])&&e.call(i,i.__data__,a,u);return this},attr:function(e,t){var n=u(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"===typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"===typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):y(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"===typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=x(e+"");if(arguments.length<2){for(var r=w(this.node()),i=-1,u=n.length;++i<u;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?function(e,t){return function(){(t.apply(this,arguments)?A:E)(this,e)}}:t?function(e){return function(){A(this,e)}}:function(e){return function(){E(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?O:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?k:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(C)},lower:function(){return this.each(D)},append:function(e){var t="function"===typeof e?e:a(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:a(e),r=null==t?F:"function"===typeof t?t:c(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(M)},clone:function(e){return this.select(e?j:S)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,u=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=u.length;if(!(arguments.length<2)){for(o=t?z:R,null==n&&(n=!1),r=0;r<a;++r)this.each(o(u[r],t,n));return this}var o=this.node().__on;if(o)for(var c,f=0,s=o.length;f<s;++f)for(r=0,c=o[f];r<a;++r)if((i=u[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"===typeof t?function(e,t){return function(){return I(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return I(this,e,t)}})(e,t))}};var H=W,Y=function(e){return"string"===typeof e?new q([[document.querySelector(e)]],[document.documentElement]):new q([[e]],U)},V=function(e){return Y(a(e).call(document.documentElement))},G=0;function $(){return new X}function X(){this._="@"+(++G).toString(36)}X.prototype=$.prototype={constructor:X,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var J=function(){for(var e,t=N;e=t.sourceEvent;)t=e;return t},K=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},Q=function(e){var t=J();return t.changedTouches&&(t=t.changedTouches[0]),K(e,t)},Z=function(e){return"string"===typeof e?new q([document.querySelectorAll(e)],[document.documentElement]):new q([null==e?[]:e],U)},ee=function(e,t,n){arguments.length<3&&(n=t,t=J().changedTouches);for(var r,i=0,u=t?t.length:0;i<u;++i)if((r=t[i]).identifier===n)return K(e,r);return null},te=function(e,t){null==t&&(t=J().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=K(e,t[n]);return i};n.d(t,"create",function(){return V}),n.d(t,"creator",function(){return a}),n.d(t,"local",function(){return $}),n.d(t,"matcher",function(){return l}),n.d(t,"mouse",function(){return Q}),n.d(t,"namespace",function(){return u}),n.d(t,"namespaces",function(){return i}),n.d(t,"clientPoint",function(){return K}),n.d(t,"select",function(){return Y}),n.d(t,"selectAll",function(){return Z}),n.d(t,"selection",function(){return H}),n.d(t,"selector",function(){return c}),n.d(t,"selectorAll",function(){return s}),n.d(t,"style",function(){return y}),n.d(t,"touch",function(){return ee}),n.d(t,"touches",function(){return te}),n.d(t,"window",function(){return b}),n.d(t,"event",function(){return N}),n.d(t,"customEvent",function(){return L})},function(e,t,n){e.exports=n(121)},function(e,t,n){"use strict";n.r(t),n.d(t,"ScaleType",function(){return r}),n.d(t,"SCALE_TYPES",function(){return l}),n.d(t,"scaleCompatible",function(){return d}),n.d(t,"scaleTypePrecedence",function(){return p}),n.d(t,"CONTINUOUS_TO_CONTINUOUS_SCALES",function(){return m}),n.d(t,"CONTINUOUS_DOMAIN_SCALES",function(){return g}),n.d(t,"DISCRETE_DOMAIN_SCALES",function(){return y}),n.d(t,"TIME_SCALE_TYPES",function(){return _}),n.d(t,"hasDiscreteDomain",function(){return A}),n.d(t,"isBinScale",function(){return E}),n.d(t,"hasContinuousDomain",function(){return O}),n.d(t,"isContinuousToContinuous",function(){return k}),n.d(t,"defaultScaleConfig",function(){return C}),n.d(t,"isExtendedScheme",function(){return D}),n.d(t,"isSelectionDomain",function(){return F}),n.d(t,"SCALE_PROPERTIES",function(){return S}),n.d(t,"NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES",function(){return T}),n.d(t,"SCALE_TYPE_INDEX",function(){return N}),n.d(t,"scaleTypeSupportProperty",function(){return B}),n.d(t,"channelScalePropertyIncompatability",function(){return P}),n.d(t,"scaleTypeSupportDataType",function(){return R}),n.d(t,"channelSupportScaleType",function(){return z}),n.d(t,"getSupportedScaleType",function(){return L});var r,i=n(3),u=n(0),a=n(7),o=n(6),c=n(24),f=n(2);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(r||(r={}));var s={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"},l=Object(f.keys)(s);function d(e,t){var n=s[e],r=s[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var h={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:10,band:11,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};function p(e){return h[e]}var m=["linear","bin-linear","log","pow","sqrt","time","utc"],v=Object(u.toSet)(m),g=m.concat(["sequential"]),b=Object(u.toSet)(g),y=["ordinal","bin-ordinal","point","band"],x=Object(u.toSet)(y),w=Object(u.toSet)(["bin-linear","bin-ordinal"]),_=["time","utc"];function A(e){return e in x}function E(e){return e in w}function O(e){return e in b}function k(e){return e in v}var C={textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4};function D(e){return e&&!!e.name}function F(e){return e&&e.selection}var M={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},S=Object(f.flagKeys)(M),j=i.c(M,["type","domain","range","rangeStep","scheme"]),T=Object(f.flagKeys)(j),N=function(){for(var e={},t=0,n=a.CHANNELS;t<n.length;t++)for(var r=n[t],i=0,u=Object(f.keys)(c.TYPE_INDEX);i<u.length;i++)for(var o=u[i],s=0,d=l;s<d.length;s++)for(var h=d[s],p=0,m=[!1,!0];p<m.length;p++){var v=m[p],g=I(r,o,v);z(r,h)&&R(h,o,v)&&(e[g]=e[g]||[],e[g].push(h))}return e}();function B(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return Object(f.contains)(["sequential","ordinal","bin-ordinal","quantile","quantize"],e);case"interpolate":return Object(f.contains)(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return k(e)||"band"===e||"point"===e;case"padding":return k(e)||Object(f.contains)(["point","band"],e);case"paddingOuter":case"rangeStep":return Object(f.contains)(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return k(e)||"sequential"===e;case"nice":return k(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"zero":return O(e)&&!Object(f.contains)(["log","time","utc","bin-linear","threshold","quantile"],e)}throw new Error("Invalid scale property "+t+".")}function P(e,t){switch(t){case"interpolate":case"scheme":return Object(a.isColorChannel)(e)?void 0:o.b.cannotUseScalePropertyWithNonColor(e);case"type":case"domain":case"range":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+t+'".')}function R(e,t,n){return Object(f.contains)([c.Type.ORDINAL,c.Type.NOMINAL],t)?void 0===e||A(e):t===c.Type.TEMPORAL?Object(f.contains)([r.TIME,r.UTC,r.SEQUENTIAL,void 0],e):t!==c.Type.QUANTITATIVE||(n?Object(f.contains)([r.BIN_LINEAR,r.BIN_ORDINAL,r.LINEAR],e):Object(f.contains)([r.LOG,r.POW,r.SQRT,r.QUANTILE,r.QUANTIZE,r.LINEAR,r.SEQUENTIAL,void 0],e))}function z(e,t){switch(e){case a.Channel.X:case a.Channel.Y:case a.Channel.SIZE:case a.Channel.OPACITY:return k(t)||Object(f.contains)(["band","point"],t);case a.Channel.COLOR:case a.Channel.FILL:case a.Channel.STROKE:return"band"!==t;case a.Channel.SHAPE:return"ordinal"===t}return!1}function L(e,t,n){return N[I(e,t,n)]}function I(e,t,n){var r=e+"_"+t;return n?r+"_bin":r}},function(e,t,n){"use strict";n.r(t),n.d(t,"Mark",function(){return r}),n.d(t,"AREA",function(){return a}),n.d(t,"BAR",function(){return o}),n.d(t,"LINE",function(){return c}),n.d(t,"POINT",function(){return f}),n.d(t,"TEXT",function(){return s}),n.d(t,"TICK",function(){return l}),n.d(t,"TRAIL",function(){return d}),n.d(t,"RECT",function(){return h}),n.d(t,"RULE",function(){return p}),n.d(t,"GEOSHAPE",function(){return m}),n.d(t,"CIRCLE",function(){return v}),n.d(t,"SQUARE",function(){return g}),n.d(t,"isMark",function(){return y}),n.d(t,"isPathMark",function(){return x}),n.d(t,"PRIMITIVE_MARKS",function(){return w}),n.d(t,"isMarkDef",function(){return _}),n.d(t,"isPrimitiveMark",function(){return E}),n.d(t,"STROKE_CONFIG",function(){return O}),n.d(t,"FILL_CONFIG",function(){return k}),n.d(t,"FILL_STROKE_CONFIG",function(){return C}),n.d(t,"VL_ONLY_MARK_CONFIG_PROPERTIES",function(){return D}),n.d(t,"VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX",function(){return F}),n.d(t,"defaultMarkConfig",function(){return M}),n.d(t,"defaultBarConfig",function(){return S}),n.d(t,"defaultTickConfig",function(){return j});var r,i=n(0),u=n(2);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.TRAIL="trail",e.CIRCLE="circle",e.SQUARE="square",e.GEOSHAPE="geoshape"}(r||(r={}));var a=r.AREA,o=r.BAR,c=r.LINE,f=r.POINT,s=r.TEXT,l=r.TICK,d=r.TRAIL,h=r.RECT,p=r.RULE,m=r.GEOSHAPE,v=r.CIRCLE,g=r.SQUARE,b={area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1};function y(e){return!!b[e]}function x(e){return Object(u.contains)(["line","area","trail"],e)}var w=Object(u.flagKeys)(b);function _(e){return e.type}var A=Object(i.toSet)(w);function E(e){return(_(e)?e.type:e)in A}var O=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],k=["fill","fillOpacity"],C=[].concat(O,k),D=["filled","color"],F={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},M={color:"#4c78a8"},S={binSpacing:1,continuousBandSize:5},j={thickness:1}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var u=n(13);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(u.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.r(t);var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},i=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){return new o(e)}function o(e){if(!(t=u.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}a.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c,f,s,l,d=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},h=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],u=n[1];return u<0?"0."+new Array(-u).join("0")+i:i.length>u+1?i.slice(0,u+1)+"."+i.slice(u+1):i+new Array(u-i.length+2).join("0")},p={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return h(100*e,t)},r:h,s:function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],u=n[1],a=u-(c=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},m=function(e){return e},v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],g=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,u=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),u.push(e.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return u.reverse().join(n)}):m,u=e.currency,o=e.decimal,f=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):m,s=e.percent||"%";function l(e){var t=(e=a(e)).fill,n=e.align,i=e.sign,l=e.symbol,h=e.zero,m=e.width,g=e.comma,b=e.precision,y=e.trim,x=e.type;"n"===x?(g=!0,x="g"):p[x]||(null==b&&(b=12),y=!0,x="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var w="$"===l?u[0]:"#"===l&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",_="$"===l?u[1]:/[%p]/.test(x)?s:"",A=p[x],E=/[defgprs%]/.test(x);function O(e){var u,a,s,l=w,p=_;if("c"===x)p=A(e)+p,e="";else{var O=(e=+e)<0;if(e=A(Math.abs(e),b),y&&(e=d(e)),O&&0===+e&&(O=!1),l=(O?"("===i?i:"-":"-"===i||"("===i?"":i)+l,p=("s"===x?v[8+c/3]:"")+p+(O&&"("===i?")":""),E)for(u=-1,a=e.length;++u<a;)if(48>(s=e.charCodeAt(u))||s>57){p=(46===s?o+e.slice(u+1):e.slice(u))+p,e=e.slice(0,u);break}}g&&!h&&(e=r(e,1/0));var k=l.length+e.length+p.length,C=k<m?new Array(m-k+1).join(t):"";switch(g&&h&&(e=r(C+e,C.length?m-p.length:1/0),C=""),n){case"<":e=l+e+p+C;break;case"=":e=l+C+e+p;break;case"^":e=C.slice(0,k=C.length>>1)+l+e+p+C.slice(k);break;default:e=C+l+e+p}return f(e)}return b=null==b?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),O.toString=function(){return e+""},O}return{format:l,formatPrefix:function(e,t){var n=l(((e=a(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),u=Math.pow(10,-r),o=v[8+r/3];return function(e){return n(u*e)+o}}}};function b(e){return f=g(e),s=f.format,l=f.formatPrefix,f}b({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-i(Math.abs(e)))},x=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},w=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};n.d(t,"formatDefaultLocale",function(){return b}),n.d(t,"format",function(){return s}),n.d(t,"formatPrefix",function(){return l}),n.d(t,"formatLocale",function(){return g}),n.d(t,"formatSpecifier",function(){return a}),n.d(t,"precisionFixed",function(){return y}),n.d(t,"precisionPrefix",function(){return x}),n.d(t,"precisionRound",function(){return w})},function(e,t,n){"use strict";n.r(t);var r=n(22);function i(e,t,n,r,i){var u=e*e,a=u*e;return((1-3*e+3*u-a)*t+(4-6*u+3*a)*n+(1+3*e+3*u-3*a)*r+a*i)/6}var u=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),u=e[r],a=e[r+1],o=r>0?e[r-1]:2*u-a,c=r<t-1?e[r+2]:2*a-u;return i((n-r/t)*t,o,u,a,c)}},a=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),u=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],c=e[(r+2)%t];return i((n-r/t)*t,u,a,o,c)}},o=function(e){return function(){return e}};function c(e,t){return function(n){return e+n*t}}function f(e,t){var n=t-e;return n?c(e,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(e)?t:e)}function s(e){return 1===(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):o(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?c(e,n):o(isNaN(e)?t:e)}var d=function e(t){var n=s(t);function i(e,t){var i=n((e=Object(r.h)(e)).r,(t=Object(r.h)(t)).r),u=n(e.g,t.g),a=n(e.b,t.b),o=l(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=u(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function h(e){return function(t){var n,i,u=t.length,a=new Array(u),o=new Array(u),c=new Array(u);for(n=0;n<u;++n)i=Object(r.h)(t[n]),a[n]=i.r||0,o[n]=i.g||0,c[n]=i.b||0;return a=e(a),o=e(o),c=e(c),i.opacity=1,function(e){return i.r=a(e),i.g=o(e),i.b=c(e),i+""}}}var p=h(u),m=h(a),v=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,u=new Array(i),a=new Array(r);for(n=0;n<i;++n)u[n]=C(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=u[n](e);return a}},g=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},b=function(e,t){return t-=e=+e,function(n){return e+t*n}},y=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=C(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(x.source,"g");var _,A,E,O,k=function(e,t){var n,r,i,u=x.lastIndex=w.lastIndex=0,a=-1,o=[],c=[];for(e+="",t+="";(n=x.exec(e))&&(r=w.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,c.push({i:a,x:b(n,r)})),u=w.lastIndex;return u<t.length&&(i=t.slice(u),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)o[(n=c[r]).i]=n.x(e);return o.join("")})},C=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?o(t):("number"===i?b:"string"===i?(n=Object(r.a)(t))?(t=n,d):k:t instanceof r.a?d:t instanceof Date?g:Array.isArray(t)?v:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?y:b)(e,t)},D=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},F=function(e,t){var n=f(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},M=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},S=180/Math.PI,j={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},T=function(e,t,n,r,i,u){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:u,rotate:Math.atan2(t,e)*S,skewX:Math.atan(c)*S,scaleX:a,scaleY:o}};function N(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(u,a){var o=[],c=[];return u=e(u),a=e(a),function(e,r,i,u,a,o){if(e!==i||r!==u){var c=a.push("translate(",null,t,null,n);o.push({i:c-4,x:b(e,i)},{i:c-2,x:b(r,u)})}else(i||u)&&a.push("translate("+i+t+u+n)}(u.translateX,u.translateY,a.translateX,a.translateY,o,c),function(e,t,n,u){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),u.push({i:n.push(i(n)+"rotate(",null,r)-2,x:b(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(u.rotate,a.rotate,o,c),function(e,t,n,u){e!==t?u.push({i:n.push(i(n)+"skewX(",null,r)-2,x:b(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(u.skewX,a.skewX,o,c),function(e,t,n,r,u,a){if(e!==n||t!==r){var o=u.push(i(u)+"scale(",null,",",null,")");a.push({i:o-4,x:b(e,n)},{i:o-2,x:b(t,r)})}else 1===n&&1===r||u.push(i(u)+"scale("+n+","+r+")")}(u.scaleX,u.scaleY,a.scaleX,a.scaleY,o,c),u=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)o[(t=c[n]).i]=t.x(e);return o.join("")}}}var B=N(function(e){return"none"===e?j:(_||(_=document.createElement("DIV"),A=document.documentElement,E=document.defaultView),_.style.transform=e,e=E.getComputedStyle(A.appendChild(_),null).getPropertyValue("transform"),A.removeChild(_),e=e.slice(7,-1).split(","),T(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),P=N(function(e){return null==e?j:(O||(O=document.createElementNS("http://www.w3.org/2000/svg","g")),O.setAttribute("transform",e),(e=O.transform.baseVal.consolidate())?(e=e.matrix,T(e.a,e.b,e.c,e.d,e.e,e.f)):j)},", ",")",")"),R=Math.SQRT2;function z(e){return((e=Math.exp(e))+1/e)/2}var L=function(e,t){var n,r,i=e[0],u=e[1],a=e[2],o=t[0],c=t[1],f=t[2],s=o-i,l=c-u,d=s*s+l*l;if(d<1e-12)r=Math.log(f/a)/R,n=function(e){return[i+e*s,u+e*l,a*Math.exp(R*e*r)]};else{var h=Math.sqrt(d),p=(f*f-a*a+4*d)/(2*a*2*h),m=(f*f-a*a-4*d)/(2*f*2*h),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/R,n=function(e){var t,n=e*r,o=z(v),c=a/(2*h)*(o*(t=R*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+c*s,u+c*l,a*o/z(R*n+v)]}}return n.duration=1e3*r,n};function I(e){return function(t,n){var i=e((t=Object(r.e)(t)).h,(n=Object(r.e)(n)).h),u=l(t.s,n.s),a=l(t.l,n.l),o=l(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=u(e),t.l=a(e),t.opacity=o(e),t+""}}}var U=I(f),q=I(l);function W(e,t){var n=l((e=Object(r.f)(e)).l,(t=Object(r.f)(t)).l),i=l(e.a,t.a),u=l(e.b,t.b),a=l(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=u(t),e.opacity=a(t),e+""}}function H(e){return function(t,n){var i=e((t=Object(r.d)(t)).h,(n=Object(r.d)(n)).h),u=l(t.c,n.c),a=l(t.l,n.l),o=l(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=u(e),t.l=a(e),t.opacity=o(e),t+""}}}var Y=H(f),V=H(l);function G(e){return function t(n){function i(t,i){var u=e((t=Object(r.b)(t)).h,(i=Object(r.b)(i)).h),a=l(t.s,i.s),o=l(t.l,i.l),c=l(t.opacity,i.opacity);return function(e){return t.h=u(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,i.gamma=t,i}(1)}var $=G(f),X=G(l);function J(e,t){for(var n=0,r=t.length-1,i=t[0],u=new Array(r<0?0:r);n<r;)u[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return u[t](e-t)}}var K=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};n.d(t,"interpolate",function(){return C}),n.d(t,"interpolateArray",function(){return v}),n.d(t,"interpolateBasis",function(){return u}),n.d(t,"interpolateBasisClosed",function(){return a}),n.d(t,"interpolateDate",function(){return g}),n.d(t,"interpolateDiscrete",function(){return D}),n.d(t,"interpolateHue",function(){return F}),n.d(t,"interpolateNumber",function(){return b}),n.d(t,"interpolateObject",function(){return y}),n.d(t,"interpolateRound",function(){return M}),n.d(t,"interpolateString",function(){return k}),n.d(t,"interpolateTransformCss",function(){return B}),n.d(t,"interpolateTransformSvg",function(){return P}),n.d(t,"interpolateZoom",function(){return L}),n.d(t,"interpolateRgb",function(){return d}),n.d(t,"interpolateRgbBasis",function(){return p}),n.d(t,"interpolateRgbBasisClosed",function(){return m}),n.d(t,"interpolateHsl",function(){return U}),n.d(t,"interpolateHslLong",function(){return q}),n.d(t,"interpolateLab",function(){return W}),n.d(t,"interpolateHcl",function(){return Y}),n.d(t,"interpolateHclLong",function(){return V}),n.d(t,"interpolateCubehelix",function(){return $}),n.d(t,"interpolateCubehelixLong",function(){return X}),n.d(t,"piecewise",function(){return J}),n.d(t,"quantize",function(){return K})},function(e,t,n){"use strict";var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var u=i(r),a=u.right,o=u.left,c=a,f=function(e,t){null==t&&(t=s);for(var n=0,r=e.length-1,i=e[0],u=new Array(r<0?0:r);n<r;)u[n]=t(i,i=e[++n]);return u};function s(e,t){return[e,t]}var l=function(e,t,n){var r,i,u,a,o=e.length,c=t.length,f=new Array(o*c);for(null==n&&(n=s),r=u=0;r<o;++r)for(a=e[r],i=0;i<c;++i,++u)f[u]=n(a,t[i]);return f},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,u=0,a=-1,o=0,c=0;if(null==t)for(;++a<i;)isNaN(n=h(e[a]))||(c+=(r=n-o)*(n-(o+=r/++u)));else for(;++a<i;)isNaN(n=h(t(e[a],a,e)))||(c+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return c/(u-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,r,i,u=e.length,a=-1;if(null==t){for(;++a<u;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<u;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<u;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<u;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,b=g.slice,y=g.map,x=function(e){return function(){return e}},w=function(e){return e},_=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u},A=Math.sqrt(50),E=Math.sqrt(10),O=Math.sqrt(2),k=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=C(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function C(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=A?10:u>=E?5:u>=O?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=A?10:u>=E?5:u>=O?2:1)}function D(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=A?i*=10:u>=E?i*=5:u>=O&&(i*=2),t<e?-i:i}var F=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){var e=w,t=v,n=F;function r(r){var i,u,a=r.length,o=new Array(a);for(i=0;i<a;++i)o[i]=e(r[i],i,r);var f=t(o),s=f[0],l=f[1],d=n(o,s,l);Array.isArray(d)||(d=D(s,l,d),d=_(Math.ceil(s/d)*d,l,d));for(var h=d.length;d[0]<=s;)d.shift(),--h;for(;d[h-1]>l;)d.pop(),--h;var p,m=new Array(h+1);for(i=0;i<=h;++i)(p=m[i]=[]).x0=i>0?d[i-1]:s,p.x1=i<h?d[i]:l;for(i=0;i<a;++i)s<=(u=o[i])&&u<=l&&m[c(d,u,0,h)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:x(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:x([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?x(b.call(e)):x(e),r):n},r},S=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}},j=function(e,t,n){return e=y.call(e,h).sort(r),Math.ceil((n-t)/(2*(S(e,.75)-S(e,.25))*Math.pow(e.length,-1/3)))},T=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},N=function(e,t){var n,r,i=e.length,u=-1;if(null==t){for(;++u<i;)if(null!=(n=e[u])&&n>=n)for(r=n;++u<i;)null!=(n=e[u])&&n>r&&(r=n)}else for(;++u<i;)if(null!=(n=t(e[u],u,e))&&n>=n)for(r=n;++u<i;)null!=(n=t(e[u],u,e))&&n>r&&(r=n);return r},B=function(e,t){var n,r=e.length,i=r,u=-1,a=0;if(null==t)for(;++u<r;)isNaN(n=h(e[u]))?--i:a+=n;else for(;++u<r;)isNaN(n=h(t(e[u],u,e)))?--i:a+=n;if(i)return a/i},P=function(e,t){var n,i=e.length,u=-1,a=[];if(null==t)for(;++u<i;)isNaN(n=h(e[u]))||a.push(n);else for(;++u<i;)isNaN(n=h(t(e[u],u,e)))||a.push(n);return S(a.sort(r),.5)},R=function(e){for(var t,n,r,i=e.length,u=-1,a=0;++u<i;)a+=e[u].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},z=function(e,t){var n,r,i=e.length,u=-1;if(null==t){for(;++u<i;)if(null!=(n=e[u])&&n>=n)for(r=n;++u<i;)null!=(n=e[u])&&r>n&&(r=n)}else for(;++u<i;)if(null!=(n=t(e[u],u,e))&&n>=n)for(r=n;++u<i;)null!=(n=t(e[u],u,e))&&r>n&&(r=n);return r},L=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},I=function(e,t){if(n=e.length){var n,i,u=0,a=0,o=e[a];for(null==t&&(t=r);++u<n;)(t(i=e[u],o)<0||0!==t(o,o))&&(o=i,a=u);return 0===t(o,o)?a:void 0}},U=function(e,t,n){for(var r,i,u=(null==n?e.length:n)-(t=null==t?0:+t);u;)i=Math.random()*u--|0,r=e[u+t],e[u+t]=e[i+t],e[i+t]=r;return e},q=function(e,t){var n,r=e.length,i=-1,u=0;if(null==t)for(;++i<r;)(n=+e[i])&&(u+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(u+=n);return u},W=function(e){if(!(i=e.length))return[];for(var t=-1,n=z(e,H),r=new Array(n);++t<n;)for(var i,u=-1,a=r[t]=new Array(i);++u<i;)a[u]=e[u][t];return r};function H(e){return e.length}var Y=function(){return W(arguments)};n.d(t,"b",function(){return c}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return M}),n.d(t,"w",function(){return j}),n.d(t,"x",function(){return T}),n.d(t,"y",function(){return F}),n.d(t,"k",function(){return N}),n.d(t,"l",function(){return B}),n.d(t,"m",function(){return P}),n.d(t,"n",function(){return R}),n.d(t,"o",function(){return z}),n.d(t,"p",function(){return f}),n.d(t,"q",function(){return L}),n.d(t,"r",function(){return S}),n.d(t,"s",function(){return _}),n.d(t,"t",function(){return I}),n.d(t,"u",function(){return U}),n.d(t,"v",function(){return q}),n.d(t,"B",function(){return k}),n.d(t,"z",function(){return C}),n.d(t,"A",function(){return D}),n.d(t,"C",function(){return W}),n.d(t,"D",function(){return p}),n.d(t,"E",function(){return Y})},function(e,t,n){"use strict";var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function u(){}var a="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3})$/,s=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),h=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),p=new RegExp("^rgba\\("+[c,c,c,o]+"\\)$"),m=new RegExp("^hsl\\("+[o,c,c]+"\\)$"),v=new RegExp("^hsla\\("+[o,c,c,o]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(e){var t;return e=(e+"").trim().toLowerCase(),(t=f.exec(e))?new A((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=s.exec(e))?y(parseInt(t[1],16)):(t=l.exec(e))?new A(t[1],t[2],t[3],1):(t=d.exec(e))?new A(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?x(t[1],t[2],t[3],t[4]):(t=p.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?y(g[e]):"transparent"===e?new A(NaN,NaN,NaN,0):null}function y(e){return new A(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new A(e,t,n,r)}function w(e){return e instanceof u||(e=b(e)),e?new A((e=e.rgb()).r,e.g,e.b,e.opacity):new A}function _(e,t,n,r){return 1===arguments.length?w(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function O(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,n,r)}function k(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof u||(e=b(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,f=(a+i)/2;return c?(o=t===a?(n-r)/c+6*(n<r):n===a?(r-t)/c+2:(t-n)/c+4,c/=f<.5?a+i:2-a-i,o*=60):c=f>0&&f<1?0:o,new C(o,c,f,e.opacity)}(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function D(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(u,b,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(A,_,i(u,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+E(this.r)+E(this.g)+E(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(C,k,i(u,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new A(D(e>=240?e-240:e+120,i,r),D(e,i,r),D(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var F=Math.PI/180,M=180/Math.PI,S=.96422,j=1,T=.82521,N=4/29,B=6/29,P=3*B*B,R=B*B*B;function z(e){if(e instanceof U)return new U(e.l,e.a,e.b,e.opacity);if(e instanceof X){if(isNaN(e.h))return new U(e.l,0,0,e.opacity);var t=e.h*F;return new U(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof A||(e=w(e));var n,r,i=Y(e.r),u=Y(e.g),a=Y(e.b),o=q((.2225045*i+.7168786*u+.0606169*a)/j);return i===u&&u===a?n=r=o:(n=q((.4360747*i+.3850649*u+.1430804*a)/S),r=q((.0139322*i+.0971045*u+.7141733*a)/T)),new U(116*o-16,500*(n-o),200*(o-r),e.opacity)}function L(e,t){return new U(e,0,0,null==t?1:t)}function I(e,t,n,r){return 1===arguments.length?z(e):new U(e,t,n,null==r?1:r)}function U(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function q(e){return e>R?Math.pow(e,1/3):e/P+N}function W(e){return e>B?e*e*e:P*(e-N)}function H(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Y(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function V(e){if(e instanceof X)return new X(e.h,e.c,e.l,e.opacity);if(e instanceof U||(e=z(e)),0===e.a&&0===e.b)return new X(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*M;return new X(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function G(e,t,n,r){return 1===arguments.length?V(e):new X(n,t,e,null==r?1:r)}function $(e,t,n,r){return 1===arguments.length?V(e):new X(e,t,n,null==r?1:r)}function X(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(U,I,i(u,{brighter:function(e){return new U(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new U(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new A(H(3.1338561*(t=S*W(t))-1.6168667*(e=j*W(e))-.4906146*(n=T*W(n))),H(-.9787684*t+1.9161415*e+.033454*n),H(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r(X,$,i(u,{brighter:function(e){return new X(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new X(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return z(this).rgb()}}));var J=-.14861,K=1.78277,Q=-.29227,Z=-.90649,ee=1.97294,te=ee*Z,ne=ee*K,re=K*Q-Z*J;function ie(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);e instanceof A||(e=w(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(re*r+te*t-ne*n)/(re+te-ne),u=r-i,a=(ee*(n-i)-Q*u)/Z,o=Math.sqrt(a*a+u*u)/(ee*i*(1-i)),c=o?Math.atan2(a,u)*M-120:NaN;return new ue(c<0?c+360:c,o,i,e.opacity)}(e):new ue(e,t,n,null==r?1:r)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(ue,ie,i(u,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*F,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new A(255*(t+n*(J*r+K*i)),255*(t+n*(Q*r+Z*i)),255*(t+n*(ee*r)),this.opacity)}})),n.d(t,"a",function(){return b}),n.d(t,"h",function(){return _}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return I}),n.d(t,"d",function(){return $}),n.d(t,"g",function(){return G}),n.d(t,"c",function(){return L}),n.d(t,"b",function(){return ie})},function(e,t,n){"use strict";n.r(t);var r=n(4);function i(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){var t=e.dateTime,n=e.date,o=e.time,c=e.periods,f=e.days,s=e.shortDays,l=e.months,d=e.shortMonths,p=y(c),m=x(c),v=y(f),g=x(f),b=y(s),Ae=x(s),Ee=y(l),Oe=x(l),ke=y(d),Ce=x(d),De={a:function(e){return s[e.getDay()]},A:function(e){return f[e.getDay()]},b:function(e){return d[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:I,e:I,f:Y,H:U,I:q,j:W,L:H,m:V,M:G,p:function(e){return c[+(e.getHours()>=12)]},Q:we,s:_e,S:$,u:X,U:J,V:K,w:Q,W:Z,x:null,X:null,y:ee,Y:te,Z:ne,"%":xe},Fe={a:function(e){return s[e.getUTCDay()]},A:function(e){return f[e.getUTCDay()]},b:function(e){return d[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:re,e:re,f:ce,H:ie,I:ue,j:ae,L:oe,m:fe,M:se,p:function(e){return c[+(e.getUTCHours()>=12)]},Q:we,s:_e,S:le,u:de,U:he,V:pe,w:me,W:ve,x:null,X:null,y:ge,Y:be,Z:ye,"%":xe},Me={a:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.w=Ae[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.w=g[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=ke.exec(t.slice(n));return r?(e.m=Ce[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.m=Oe[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return Te(e,t,n,r)},d:M,e:M,f:P,H:j,I:j,j:S,L:B,m:F,M:T,p:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.p=m[r[0].toLowerCase()],n+r[0].length):-1},Q:z,s:L,S:N,u:_,U:A,V:E,w:w,W:O,x:function(e,t,r){return Te(e,n,t,r)},X:function(e,t,n){return Te(e,o,t,n)},y:C,Y:k,Z:D,"%":R};function Se(e,t){return function(n){var r,i,u,a=[],o=-1,c=0,f=e.length;for(n instanceof Date||(n=new Date(+n));++o<f;)37===e.charCodeAt(o)&&(a.push(e.slice(c,o)),null!=(i=h[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(u=t[r])&&(r=u(n,i)),a.push(r),c=o+1);return a.push(e.slice(c,o)),a.join("")}}function je(e,t){return function(n){var i,o,c=a(1900);if(Te(c,e,n+="",0)!=n.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(o=(i=u(a(c.y))).getUTCDay(),i=o>4||0===o?r.utcMonday.ceil(i):Object(r.utcMonday)(i),i=r.utcDay.offset(i,7*(c.V-1)),c.y=i.getUTCFullYear(),c.m=i.getUTCMonth(),c.d=i.getUTCDate()+(c.w+6)%7):(o=(i=t(a(c.y))).getDay(),i=o>4||0===o?r.timeMonday.ceil(i):Object(r.timeMonday)(i),i=r.timeDay.offset(i,7*(c.V-1)),c.y=i.getFullYear(),c.m=i.getMonth(),c.d=i.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),o="Z"in c?u(a(c.y)).getUTCDay():t(a(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(o+5)%7:c.w+7*c.U-(o+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,u(c)):t(c)}}function Te(e,t,n,r){for(var i,u,a=0,o=t.length,c=n.length;a<o;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(u=Me[i in h?t.charAt(a++):i])||(r=u(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return De.x=Se(n,De),De.X=Se(o,De),De.c=Se(t,De),Fe.x=Se(n,Fe),Fe.X=Se(o,Fe),Fe.c=Se(t,Fe),{format:function(e){var t=Se(e+="",De);return t.toString=function(){return e},t},parse:function(e){var t=je(e+="",i);return t.toString=function(){return e},t},utcFormat:function(e){var t=Se(e+="",Fe);return t.toString=function(){return e},t},utcParse:function(e){var t=je(e,u);return t.toString=function(){return e},t}}}var c,f,s,l,d,h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,m=/^%/,v=/[\\^$*+?|[\]().{}]/g;function g(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",u=i.length;return r+(u<n?new Array(n-u+1).join(t)+i:i)}function b(e){return e.replace(v,"\\$&")}function y(e){return new RegExp("^(?:"+e.map(b).join("|")+")","i")}function x(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function w(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function A(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function O(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function k(e,t,n){var r=p.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function C(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function D(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function F(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function M(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function j(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function T(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function B(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P(e,t,n){var r=p.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function R(e,t,n){var r=m.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function z(e,t,n){var r=p.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function L(e,t,n){var r=p.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function I(e,t){return g(e.getDate(),t,2)}function U(e,t){return g(e.getHours(),t,2)}function q(e,t){return g(e.getHours()%12||12,t,2)}function W(e,t){return g(1+r.timeDay.count(Object(r.timeYear)(e),e),t,3)}function H(e,t){return g(e.getMilliseconds(),t,3)}function Y(e,t){return H(e,t)+"000"}function V(e,t){return g(e.getMonth()+1,t,2)}function G(e,t){return g(e.getMinutes(),t,2)}function $(e,t){return g(e.getSeconds(),t,2)}function X(e){var t=e.getDay();return 0===t?7:t}function J(e,t){return g(r.timeSunday.count(Object(r.timeYear)(e),e),t,2)}function K(e,t){var n=e.getDay();return e=n>=4||0===n?Object(r.timeThursday)(e):r.timeThursday.ceil(e),g(r.timeThursday.count(Object(r.timeYear)(e),e)+(4===Object(r.timeYear)(e).getDay()),t,2)}function Q(e){return e.getDay()}function Z(e,t){return g(r.timeMonday.count(Object(r.timeYear)(e),e),t,2)}function ee(e,t){return g(e.getFullYear()%100,t,2)}function te(e,t){return g(e.getFullYear()%1e4,t,4)}function ne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+g(t/60|0,"0",2)+g(t%60,"0",2)}function re(e,t){return g(e.getUTCDate(),t,2)}function ie(e,t){return g(e.getUTCHours(),t,2)}function ue(e,t){return g(e.getUTCHours()%12||12,t,2)}function ae(e,t){return g(1+r.utcDay.count(Object(r.utcYear)(e),e),t,3)}function oe(e,t){return g(e.getUTCMilliseconds(),t,3)}function ce(e,t){return oe(e,t)+"000"}function fe(e,t){return g(e.getUTCMonth()+1,t,2)}function se(e,t){return g(e.getUTCMinutes(),t,2)}function le(e,t){return g(e.getUTCSeconds(),t,2)}function de(e){var t=e.getUTCDay();return 0===t?7:t}function he(e,t){return g(r.utcSunday.count(Object(r.utcYear)(e),e),t,2)}function pe(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(r.utcThursday)(e):r.utcThursday.ceil(e),g(r.utcThursday.count(Object(r.utcYear)(e),e)+(4===Object(r.utcYear)(e).getUTCDay()),t,2)}function me(e){return e.getUTCDay()}function ve(e,t){return g(r.utcMonday.count(Object(r.utcYear)(e),e),t,2)}function ge(e,t){return g(e.getUTCFullYear()%100,t,2)}function be(e,t){return g(e.getUTCFullYear()%1e4,t,4)}function ye(){return"+0000"}function xe(){return"%"}function we(e){return+e}function _e(e){return Math.floor(+e/1e3)}function Ae(e){return c=o(e),f=c.format,s=c.parse,l=c.utcFormat,d=c.utcParse,c}Ae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ee=Date.prototype.toISOString?function(e){return e.toISOString()}:l("%Y-%m-%dT%H:%M:%S.%LZ");var Oe=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:d("%Y-%m-%dT%H:%M:%S.%LZ");n.d(t,"timeFormatDefaultLocale",function(){return Ae}),n.d(t,"timeFormat",function(){return f}),n.d(t,"timeParse",function(){return s}),n.d(t,"utcFormat",function(){return l}),n.d(t,"utcParse",function(){return d}),n.d(t,"timeFormatLocale",function(){return o}),n.d(t,"isoFormat",function(){return Ee}),n.d(t,"isoParse",function(){return Oe})},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Type",function(){return r}),n.d(t,"TYPE_INDEX",function(){return i}),n.d(t,"isType",function(){return u}),n.d(t,"QUANTITATIVE",function(){return a}),n.d(t,"ORDINAL",function(){return o}),n.d(t,"TEMPORAL",function(){return c}),n.d(t,"NOMINAL",function(){return f}),n.d(t,"GEOJSON",function(){return s}),n.d(t,"getFullName",function(){return l}),function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal",e.LATITUDE="latitude",e.LONGITUDE="longitude",e.GEOJSON="geojson"}(r||(r={}));var i={quantitative:1,ordinal:1,temporal:1,nominal:1,latitude:1,longitude:1,geojson:1};function u(e){return!!i[e]}var a=r.QUANTITATIVE,o=r.ORDINAL,c=r.TEMPORAL,f=r.NOMINAL,s=r.GEOJSON;function l(e){if(e)switch(e=e.toLowerCase()){case"q":case a:return"quantitative";case"t":case c:return"temporal";case"o":case o:return"ordinal";case"n":case f:return"nominal";case r.LATITUDE:return"latitude";case r.LONGITUDE:return"longitude";case s:return"geojson"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"channelHasField",function(){return s}),n.d(t,"isAggregate",function(){return l}),n.d(t,"normalizeEncoding",function(){return d}),n.d(t,"isRanged",function(){return h}),n.d(t,"fieldDefs",function(){return p}),n.d(t,"forEach",function(){return m}),n.d(t,"reduce",function(){return v});var r=n(3),i=n(0),u=n(7),a=n(5),o=n(6),c=n(24),f=n(2);function s(e,t){var n=e&&e[t];return!!n&&(Object(i.isArray)(n)?Object(f.some)(n,function(e){return!!e.field}):Object(a.isFieldDef)(n)||Object(a.hasConditionalFieldDef)(n))}function l(e){return Object(f.some)(u.CHANNELS,function(t){if(s(e,t)){var n=e[t];if(Object(i.isArray)(n))return Object(f.some)(n,function(e){return!!e.aggregate});var r=Object(a.getFieldDef)(n);return r&&!!r.aggregate}return!1})}function d(e,t){return Object(f.keys)(e).reduce(function(n,s){var l;if(!Object(u.isChannel)(s))return o.e(o.b.invalidEncodingChannel(s)),n;if(!Object(u.supportMark)(s,t))return o.e(o.b.incompatibleChannel(s,t)),n;if("size"===s&&"line"===t&&((h=Object(a.getFieldDef)(e[s]))&&h.aggregate))return o.e(o.b.LINE_WITH_VARYING_SIZE),n;if("color"===s&&("fill"in e||"stroke"in e))return o.e(o.b.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),n;var d=e[s];if("detail"===s||"order"===s&&!Object(i.isArray)(d)&&!Object(a.isValueDef)(d)||"tooltip"===s&&Object(i.isArray)(d))d&&(n[s]=(Object(i.isArray)(d)?d:[d]).reduce(function(e,t){return Object(a.isFieldDef)(t)?e.push(Object(a.normalizeFieldDef)(t,s)):o.e(o.b.emptyFieldDef(t,s)),e},[]));else{var h;if((h=Object(a.getFieldDef)(e[s]))&&Object(f.contains)([c.Type.LATITUDE,c.Type.LONGITUDE],h.type)){var p=s,m=(n[p],r.c(n,["symbol"===typeof p?p:p+""])),v="x"===s?"longitude":"y"===s?"latitude":"x2"===s?"longitude2":"y2"===s?"latitude2":void 0;return o.e(o.b.latLongDeprecated(s,h.type,v)),r.a({},m,((l={})[v]=r.a({},Object(a.normalize)(h,s),{type:"quantitative"}),l))}if(!Object(a.isFieldDef)(d)&&!Object(a.isValueDef)(d)&&!Object(a.isConditionalDef)(d))return o.e(o.b.emptyFieldDef(d,s)),n;n[s]=Object(a.normalize)(d,s)}return n},{})}function h(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function p(e){var t=[];return u.CHANNELS.forEach(function(n){if(s(e,n)){var r=e[n];(Object(i.isArray)(r)?r:[r]).forEach(function(e){Object(a.isFieldDef)(e)?t.push(e):Object(a.hasConditionalFieldDef)(e)&&t.push(e.condition)})}}),t}function m(e,t,n){if(e)for(var r=function(r){Object(i.isArray)(e[r])?e[r].forEach(function(e){t.call(n,e,r)}):t.call(n,e[r],r)},u=0,a=Object(f.keys)(e);u<a.length;u++){r(a[u])}}function v(e,t,n,r){return e?Object(f.keys)(e).reduce(function(n,u){var a=e[u];return Object(i.isArray)(a)?a.reduce(function(e,n){return t.call(r,e,n,u)},n):t.call(r,n,a,u)},n):n}},,function(e,t,n){"use strict";var r=n(32),i=function(e){return function(){return e}},u=Math.abs,a=Math.atan2,o=Math.cos,c=Math.max,f=Math.min,s=Math.sin,l=Math.sqrt,d=1e-12,h=Math.PI,p=h/2,m=2*h;function v(e){return e>=1?p:e<=-1?-p:Math.asin(e)}function g(e){return e.innerRadius}function b(e){return e.outerRadius}function y(e){return e.startAngle}function x(e){return e.endAngle}function w(e){return e&&e.padAngle}function _(e,t,n,r,i,u,a){var o=e-n,f=t-r,s=(a?u:-u)/l(o*o+f*f),d=s*f,h=-s*o,p=e+d,m=t+h,v=n+d,g=r+h,b=(p+v)/2,y=(m+g)/2,x=v-p,w=g-m,_=x*x+w*w,A=i-u,E=p*g-v*m,O=(w<0?-1:1)*l(c(0,A*A*_-E*E)),k=(E*w-x*O)/_,C=(-E*x-w*O)/_,D=(E*w+x*O)/_,F=(-E*x+w*O)/_,M=k-b,S=C-y,j=D-b,T=F-y;return M*M+S*S>j*j+T*T&&(k=D,C=F),{cx:k,cy:C,x01:-d,y01:-h,x11:k*(i/A-1),y11:C*(i/A-1)}}var A=function(){var e=g,t=b,n=i(0),c=null,A=y,E=x,O=w,k=null;function C(){var i,g,b,y=+e.apply(this,arguments),x=+t.apply(this,arguments),w=A.apply(this,arguments)-p,C=E.apply(this,arguments)-p,D=u(C-w),F=C>w;if(k||(k=i=Object(r.a)()),x<y&&(g=x,x=y,y=g),x>d)if(D>m-d)k.moveTo(x*o(w),x*s(w)),k.arc(0,0,x,w,C,!F),y>d&&(k.moveTo(y*o(C),y*s(C)),k.arc(0,0,y,C,w,F));else{var M,S,j=w,T=C,N=w,B=C,P=D,R=D,z=O.apply(this,arguments)/2,L=z>d&&(c?+c.apply(this,arguments):l(y*y+x*x)),I=f(u(x-y)/2,+n.apply(this,arguments)),U=I,q=I;if(L>d){var W=v(L/y*s(z)),H=v(L/x*s(z));(P-=2*W)>d?(N+=W*=F?1:-1,B-=W):(P=0,N=B=(w+C)/2),(R-=2*H)>d?(j+=H*=F?1:-1,T-=H):(R=0,j=T=(w+C)/2)}var Y=x*o(j),V=x*s(j),G=y*o(B),$=y*s(B);if(I>d){var X,J=x*o(T),K=x*s(T),Q=y*o(N),Z=y*s(N);if(D<h&&(X=function(e,t,n,r,i,u,a,o){var c=n-e,f=r-t,s=a-i,l=o-u,h=l*c-s*f;if(!(h*h<d))return[e+(h=(s*(t-u)-l*(e-i))/h)*c,t+h*f]}(Y,V,Q,Z,J,K,G,$))){var ee=Y-X[0],te=V-X[1],ne=J-X[0],re=K-X[1],ie=1/s(((b=(ee*ne+te*re)/(l(ee*ee+te*te)*l(ne*ne+re*re)))>1?0:b<-1?h:Math.acos(b))/2),ue=l(X[0]*X[0]+X[1]*X[1]);U=f(I,(y-ue)/(ie-1)),q=f(I,(x-ue)/(ie+1))}}R>d?q>d?(M=_(Q,Z,Y,V,x,q,F),S=_(J,K,G,$,x,q,F),k.moveTo(M.cx+M.x01,M.cy+M.y01),q<I?k.arc(M.cx,M.cy,q,a(M.y01,M.x01),a(S.y01,S.x01),!F):(k.arc(M.cx,M.cy,q,a(M.y01,M.x01),a(M.y11,M.x11),!F),k.arc(0,0,x,a(M.cy+M.y11,M.cx+M.x11),a(S.cy+S.y11,S.cx+S.x11),!F),k.arc(S.cx,S.cy,q,a(S.y11,S.x11),a(S.y01,S.x01),!F))):(k.moveTo(Y,V),k.arc(0,0,x,j,T,!F)):k.moveTo(Y,V),y>d&&P>d?U>d?(M=_(G,$,J,K,y,-U,F),S=_(Y,V,Q,Z,y,-U,F),k.lineTo(M.cx+M.x01,M.cy+M.y01),U<I?k.arc(M.cx,M.cy,U,a(M.y01,M.x01),a(S.y01,S.x01),!F):(k.arc(M.cx,M.cy,U,a(M.y01,M.x01),a(M.y11,M.x11),!F),k.arc(0,0,y,a(M.cy+M.y11,M.cx+M.x11),a(S.cy+S.y11,S.cx+S.x11),F),k.arc(S.cx,S.cy,U,a(S.y11,S.x11),a(S.y01,S.x01),!F))):k.arc(0,0,y,B,N,F):k.lineTo(G,$)}else k.moveTo(0,0);if(k.closePath(),i)return k=null,i+""||null}return C.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+A.apply(this,arguments)+ +E.apply(this,arguments))/2-h/2;return[o(r)*n,s(r)*n]},C.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:i(+t),C):e},C.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:i(+e),C):t},C.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:i(+e),C):n},C.padRadius=function(e){return arguments.length?(c=null==e?null:"function"===typeof e?e:i(+e),C):c},C.startAngle=function(e){return arguments.length?(A="function"===typeof e?e:i(+e),C):A},C.endAngle=function(e){return arguments.length?(E="function"===typeof e?e:i(+e),C):E},C.padAngle=function(e){return arguments.length?(O="function"===typeof e?e:i(+e),C):O},C.context=function(e){return arguments.length?(k=null==e?null:e,C):k},C};function E(e){this._context=e}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var O=function(e){return new E(e)};function k(e){return e[0]}function C(e){return e[1]}var D=function(){var e=k,t=C,n=i(!0),u=null,a=O,o=null;function c(i){var c,f,s,l=i.length,d=!1;for(null==u&&(o=a(s=Object(r.a)())),c=0;c<=l;++c)!(c<l&&n(f=i[c],c,i))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,c,i),+t(f,c,i));if(s)return o=null,s+""||null}return c.x=function(t){return arguments.length?(e="function"===typeof t?t:i(+t),c):e},c.y=function(e){return arguments.length?(t="function"===typeof e?e:i(+e),c):t},c.defined=function(e){return arguments.length?(n="function"===typeof e?e:i(!!e),c):n},c.curve=function(e){return arguments.length?(a=e,null!=u&&(o=a(u)),c):a},c.context=function(e){return arguments.length?(null==e?u=o=null:o=a(u=e),c):u},c},F=function(){var e=k,t=null,n=i(0),u=C,a=i(!0),o=null,c=O,f=null;function s(i){var s,l,d,h,p,m=i.length,v=!1,g=new Array(m),b=new Array(m);for(null==o&&(f=c(p=Object(r.a)())),s=0;s<=m;++s){if(!(s<m&&a(h=i[s],s,i))===v)if(v=!v)l=s,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),d=s-1;d>=l;--d)f.point(g[d],b[d]);f.lineEnd(),f.areaEnd()}v&&(g[s]=+e(h,s,i),b[s]=+n(h,s,i),f.point(t?+t(h,s,i):g[s],u?+u(h,s,i):b[s]))}if(p)return f=null,p+""||null}function l(){return D().defined(a).curve(c).context(o)}return s.x=function(n){return arguments.length?(e="function"===typeof n?n:i(+n),t=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:i(+t),s):e},s.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:i(+e),s):t},s.y=function(e){return arguments.length?(n="function"===typeof e?e:i(+e),u=null,s):n},s.y0=function(e){return arguments.length?(n="function"===typeof e?e:i(+e),s):n},s.y1=function(e){return arguments.length?(u=null==e?null:"function"===typeof e?e:i(+e),s):u},s.lineX0=s.lineY0=function(){return l().x(e).y(n)},s.lineY1=function(){return l().x(e).y(u)},s.lineX1=function(){return l().x(t).y(n)},s.defined=function(e){return arguments.length?(a="function"===typeof e?e:i(!!e),s):a},s.curve=function(e){return arguments.length?(c=e,null!=o&&(f=c(o)),s):c},s.context=function(e){return arguments.length?(null==e?o=f=null:f=c(o=e),s):o},s},M=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},S=function(e){return e},j=function(){var e=S,t=M,n=null,r=i(0),u=i(m),a=i(0);function o(i){var o,c,f,s,l,d=i.length,h=0,p=new Array(d),v=new Array(d),g=+r.apply(this,arguments),b=Math.min(m,Math.max(-m,u.apply(this,arguments)-g)),y=Math.min(Math.abs(b)/d,a.apply(this,arguments)),x=y*(b<0?-1:1);for(o=0;o<d;++o)(l=v[p[o]=o]=+e(i[o],o,i))>0&&(h+=l);for(null!=t?p.sort(function(e,n){return t(v[e],v[n])}):null!=n&&p.sort(function(e,t){return n(i[e],i[t])}),o=0,f=h?(b-d*x)/h:0;o<d;++o,g=s)c=p[o],s=g+((l=v[c])>0?l*f:0)+x,v[c]={data:i[c],index:o,value:l,startAngle:g,endAngle:s,padAngle:y};return v}return o.value=function(t){return arguments.length?(e="function"===typeof t?t:i(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:i(+e),o):r},o.endAngle=function(e){return arguments.length?(u="function"===typeof e?e:i(+e),o):u},o.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:i(+e),o):a},o},T=B(O);function N(e){this._curve=e}function B(e){function t(t){return new N(e(t))}return t._curve=e,t}function P(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(B(e)):t()._curve},e}N.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var R=function(){return P(D().curve(T))},z=function(){var e=F().curve(T),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,u=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return P(n())},delete e.lineX0,e.lineEndAngle=function(){return P(r())},delete e.lineX1,e.lineInnerRadius=function(){return P(i())},delete e.lineY0,e.lineOuterRadius=function(){return P(u())},delete e.lineY1,e.curve=function(e){return arguments.length?t(B(e)):t()._curve},e},L=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},I=Array.prototype.slice;function U(e){return e.source}function q(e){return e.target}function W(e){var t=U,n=q,u=k,a=C,o=null;function c(){var i,c=I.call(arguments),f=t.apply(this,c),s=n.apply(this,c);if(o||(o=i=Object(r.a)()),e(o,+u.apply(this,(c[0]=f,c)),+a.apply(this,c),+u.apply(this,(c[0]=s,c)),+a.apply(this,c)),i)return o=null,i+""||null}return c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.x=function(e){return arguments.length?(u="function"===typeof e?e:i(+e),c):u},c.y=function(e){return arguments.length?(a="function"===typeof e?e:i(+e),c):a},c.context=function(e){return arguments.length?(o=null==e?null:e,c):o},c}function H(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function Y(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function V(e,t,n,r,i){var u=L(t,n),a=L(t,n=(n+i)/2),o=L(r,n),c=L(r,i);e.moveTo(u[0],u[1]),e.bezierCurveTo(a[0],a[1],o[0],o[1],c[0],c[1])}function G(){return W(H)}function $(){return W(Y)}function X(){var e=W(V);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var J={draw:function(e,t){var n=Math.sqrt(t/h);e.moveTo(n,0),e.arc(0,0,n,0,m)}},K={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Q=Math.sqrt(1/3),Z=2*Q,ee={draw:function(e,t){var n=Math.sqrt(t/Z),r=n*Q;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},te=Math.sin(h/10)/Math.sin(7*h/10),ne=Math.sin(m/10)*te,re=-Math.cos(m/10)*te,ie={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=ne*n,i=re*n;e.moveTo(0,-n),e.lineTo(r,i);for(var u=1;u<5;++u){var a=m*u/5,o=Math.cos(a),c=Math.sin(a);e.lineTo(c*n,-o*n),e.lineTo(o*r-c*i,c*r+o*i)}e.closePath()}},ue={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},ae=Math.sqrt(3),oe={draw:function(e,t){var n=-Math.sqrt(t/(3*ae));e.moveTo(0,2*n),e.lineTo(-ae*n,-n),e.lineTo(ae*n,-n),e.closePath()}},ce=Math.sqrt(3)/2,fe=1/Math.sqrt(12),se=3*(fe/2+1),le={draw:function(e,t){var n=Math.sqrt(t/se),r=n/2,i=n*fe,u=r,a=n*fe+n,o=-u,c=a;e.moveTo(r,i),e.lineTo(u,a),e.lineTo(o,c),e.lineTo(-.5*r-ce*i,ce*r+-.5*i),e.lineTo(-.5*u-ce*a,ce*u+-.5*a),e.lineTo(-.5*o-ce*c,ce*o+-.5*c),e.lineTo(-.5*r+ce*i,-.5*i-ce*r),e.lineTo(-.5*u+ce*a,-.5*a-ce*u),e.lineTo(-.5*o+ce*c,-.5*c-ce*o),e.closePath()}},de=[J,K,ee,ue,ie,oe,le],he=function(){var e=i(J),t=i(64),n=null;function u(){var i;if(n||(n=i=Object(r.a)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return u.type=function(t){return arguments.length?(e="function"===typeof t?t:i(t),u):e},u.size=function(e){return arguments.length?(t="function"===typeof e?e:i(+e),u):t},u.context=function(e){return arguments.length?(n=null==e?null:e,u):n},u},pe=function(){};function me(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ve(e){this._context=e}ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:me(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ge=function(e){return new ve(e)};function be(e){this._context=e}be.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ye=function(e){return new be(e)};function xe(e){this._context=e}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var we=function(e){return new xe(e)};function _e(e,t){this._basis=new ve(e),this._beta=t}_e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],u=t[0],a=e[n]-i,o=t[n]-u,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*a),this._beta*t[c]+(1-this._beta)*(u+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ae=function e(t){function n(e){return 1===t?new ve(e):new _e(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Ee(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ee(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ee(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ke=function e(t){function n(e){return new Oe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ce(e,t){this._context=e,this._k=(1-t)/6}Ce.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ee(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var De=function e(t){function n(e){return new Ce(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Fe(e,t){this._context=e,this._k=(1-t)/6}Fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ee(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Me=function e(t){function n(e){return new Fe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Se(e,t,n){var r=e._x1,i=e._y1,u=e._x2,a=e._y2;if(e._l01_a>d){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>d){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);u=(u*f+e._x1*e._l23_2a-t*e._l12_2a)/s,a=(a*f+e._y1*e._l23_2a-n*e._l12_2a)/s}e._context.bezierCurveTo(r,i,u,a,e._x2,e._y2)}function je(e,t){this._context=e,this._alpha=t}je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Se(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Te=function e(t){function n(e){return t?new je(e,t):new Oe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ne(e,t){this._context=e,this._alpha=t}Ne.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Se(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Be=function e(t){function n(e){return t?new Ne(e,t):new Ce(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Pe(e,t){this._context=e,this._alpha=t}Pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Se(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Re=function e(t){function n(e){return t?new Pe(e,t):new Fe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ze(e){this._context=e}ze.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Le=function(e){return new ze(e)};function Ie(e){return e<0?-1:1}function Ue(e,t,n){var r=e._x1-e._x0,i=t-e._x1,u=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(u*i+a*r)/(r+i);return(Ie(u)+Ie(a))*Math.min(Math.abs(u),Math.abs(a),.5*Math.abs(o))||0}function qe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function We(e,t,n){var r=e._x0,i=e._y0,u=e._x1,a=e._y1,o=(u-r)/3;e._context.bezierCurveTo(r+o,i+o*t,u-o,a-o*n,u,a)}function He(e){this._context=e}function Ye(e){this._context=new Ve(e)}function Ve(e){this._context=e}function Ge(e){return new He(e)}function $e(e){return new Ye(e)}function Xe(e){this._context=e}function Je(e){var t,n,r=e.length-1,i=new Array(r),u=new Array(r),a=new Array(r);for(i[0]=0,u[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,u[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,u[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/u[t-1],u[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/u[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/u[t];for(u[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)u[t]=2*e[t+1]-i[t+1];return[i,u]}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:We(this,this._t0,qe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,We(this,qe(this,n=Ue(this,e,t)),n);break;default:We(this,this._t0,n=Ue(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ye.prototype=Object.create(He.prototype)).point=function(e,t){He.prototype.point.call(this,t,e)},Ve.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,u){this._context.bezierCurveTo(t,e,r,n,u,i)}},Xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Je(e),i=Je(t),u=0,a=1;a<n;++u,++a)this._context.bezierCurveTo(r[0][u],i[0][u],r[1][u],i[1][u],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ke=function(e){return new Xe(e)};function Qe(e,t){this._context=e,this._t=t}Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ze=function(e){return new Qe(e,.5)};function et(e){return new Qe(e,0)}function tt(e){return new Qe(e,1)}var nt=function(e,t){if((i=e.length)>1)for(var n,r,i,u=1,a=e[t[0]],o=a.length;u<i;++u)for(r=a,a=e[t[u]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},rt=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function it(e,t){return e[t]}var ut=function(){var e=i([]),t=rt,n=nt,r=it;function u(i){var u,a,o=e.apply(this,arguments),c=i.length,f=o.length,s=new Array(f);for(u=0;u<f;++u){for(var l,d=o[u],h=s[u]=new Array(c),p=0;p<c;++p)h[p]=l=[0,+r(i[p],d,p,i)],l.data=i[p];h.key=d}for(u=0,a=t(s);u<f;++u)s[a[u]].index=u;return n(s,a),s}return u.keys=function(t){return arguments.length?(e="function"===typeof t?t:i(I.call(t)),u):e},u.value=function(e){return arguments.length?(r="function"===typeof e?e:i(+e),u):r},u.order=function(e){return arguments.length?(t=null==e?rt:"function"===typeof e?e:i(I.call(e)),u):t},u.offset=function(e){return arguments.length?(n=null==e?nt:e,u):n},u},at=function(e,t){if((r=e.length)>0){for(var n,r,i,u=0,a=e[0].length;u<a;++u){for(i=n=0;n<r;++n)i+=e[n][u][1]||0;if(i)for(n=0;n<r;++n)e[n][u][1]/=i}nt(e,t)}},ot=function(e,t){if((o=e.length)>1)for(var n,r,i,u,a,o,c=0,f=e[t[0]].length;c<f;++c)for(u=a=0,n=0;n<o;++n)(i=(r=e[t[n]][c])[1]-r[0])>=0?(r[0]=u,r[1]=u+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=u},ct=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],u=i.length;r<u;++r){for(var a=0,o=0;a<n;++a)o+=e[a][r][1]||0;i[r][1]+=i[r][0]=-o/2}nt(e,t)}},ft=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,u=0,a=1;a<r;++a){for(var o=0,c=0,f=0;o<i;++o){for(var s=e[t[o]],l=s[a][1]||0,d=(l-(s[a-1][1]||0))/2,h=0;h<o;++h){var p=e[t[h]];d+=(p[a][1]||0)-(p[a-1][1]||0)}c+=l,f+=d*l}n[a-1][1]+=n[a-1][0]=u,c&&(u-=f/c)}n[a-1][1]+=n[a-1][0]=u,nt(e,t)}},st=function(e){var t=e.map(lt);return rt(e).sort(function(e,n){return t[e]-t[n]})};function lt(e){for(var t,n=-1,r=0,i=e.length,u=-1/0;++n<i;)(t=+e[n][1])>u&&(u=t,r=n);return r}var dt=function(e){var t=e.map(ht);return rt(e).sort(function(e,n){return t[e]-t[n]})};function ht(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var pt=function(e){return dt(e).reverse()},mt=function(e){var t,n,r=e.length,i=e.map(ht),u=st(e),a=0,o=0,c=[],f=[];for(t=0;t<r;++t)n=u[t],a<o?(a+=i[n],c.push(n)):(o+=i[n],f.push(n));return f.reverse().concat(c)},vt=function(e){return rt(e).reverse()};n.d(t,"a",function(){return A}),n.d(t,"b",function(){return F}),n.d(t,"v",function(){return D}),n.d(t,"A",function(){return j}),n.d(t,"c",function(){return z}),n.d(t,"C",function(){return z}),n.d(t,"w",function(){return R}),n.d(t,"D",function(){return R}),n.d(t,"B",function(){return L}),n.d(t,"x",function(){return G}),n.d(t,"z",function(){return $}),n.d(t,"y",function(){return X}),n.d(t,"Q",function(){return he}),n.d(t,"Y",function(){return de}),n.d(t,"R",function(){return J}),n.d(t,"S",function(){return K}),n.d(t,"T",function(){return ee}),n.d(t,"U",function(){return ue}),n.d(t,"V",function(){return ie}),n.d(t,"W",function(){return oe}),n.d(t,"X",function(){return le}),n.d(t,"e",function(){return ye}),n.d(t,"f",function(){return we}),n.d(t,"d",function(){return ge}),n.d(t,"g",function(){return Ae}),n.d(t,"i",function(){return De}),n.d(t,"j",function(){return Me}),n.d(t,"h",function(){return ke}),n.d(t,"l",function(){return Be}),n.d(t,"m",function(){return Re}),n.d(t,"k",function(){return Te}),n.d(t,"o",function(){return Le}),n.d(t,"n",function(){return O}),n.d(t,"p",function(){return Ge}),n.d(t,"q",function(){return $e}),n.d(t,"r",function(){return Ke}),n.d(t,"s",function(){return Ze}),n.d(t,"t",function(){return tt}),n.d(t,"u",function(){return et}),n.d(t,"E",function(){return ut}),n.d(t,"G",function(){return at}),n.d(t,"F",function(){return ot}),n.d(t,"H",function(){return nt}),n.d(t,"I",function(){return ct}),n.d(t,"J",function(){return ft}),n.d(t,"K",function(){return st}),n.d(t,"L",function(){return dt}),n.d(t,"M",function(){return pt}),n.d(t,"N",function(){return mt}),n.d(t,"O",function(){return rt}),n.d(t,"P",function(){return vt})},function(e,t,n){"use strict";var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){a(u,e,this.t),a(this,u.s,this.s),this.s?this.t+=u.t:this.s=u.t},valueOf:function(){return this.s}};var u=new i;function a(e,t,n){var r=e.s=t+n,i=r-t,u=r-i;e.t=t-u+(n-i)}var o=1e-6,c=Math.PI,f=c/2,s=c/4,l=2*c,d=180/c,h=c/180,p=Math.abs,m=Math.atan,v=Math.atan2,g=Math.cos,b=Math.ceil,y=Math.exp,x=(Math.floor,Math.log),w=Math.pow,_=Math.sin,A=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,O=Math.tan;function k(e){return e>1?0:e<-1?c:Math.acos(e)}function C(e){return e>1?f:e<-1?-f:Math.asin(e)}function D(e){return(e=_(e/2))*e}function F(){}function M(e,t){e&&j.hasOwnProperty(e.type)&&j[e.type](e,t)}var S={Feature:function(e,t){M(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)M(n[r].geometry,t)}},j={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){T(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)T(n[r],t,0)},Polygon:function(e,t){N(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)N(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)M(n[r],t)}};function T(e,t,n){var r,i=-1,u=e.length-n;for(t.lineStart();++i<u;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function N(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)T(e[n],t,1);t.polygonEnd()}var B,P,R,z,L,I=function(e,t){e&&S.hasOwnProperty(e.type)?S[e.type](e,t):M(e,t)},U=r(),q=r(),W={point:F,lineStart:F,lineEnd:F,polygonStart:function(){U.reset(),W.lineStart=H,W.lineEnd=Y},polygonEnd:function(){var e=+U;q.add(e<0?l+e:e),this.lineStart=this.lineEnd=this.point=F},sphere:function(){q.add(l)}};function H(){W.point=V}function Y(){G(B,P)}function V(e,t){W.point=G,B=e,P=t,R=e*=h,z=g(t=(t*=h)/2+s),L=_(t)}function G(e,t){var n=(e*=h)-R,r=n>=0?1:-1,i=r*n,u=g(t=(t*=h)/2+s),a=_(t),o=L*a,c=z*u+o*g(i),f=o*r*_(i);U.add(v(f,c)),R=e,z=u,L=a}var $=function(e){return q.reset(),I(e,W),2*q};function X(e){return[v(e[1],e[0]),C(e[2])]}function J(e){var t=e[0],n=e[1],r=g(n);return[r*g(t),r*_(t),_(n)]}function K(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Z(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function te(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,re,ie,ue,ae,oe,ce,fe,se,le,de=r(),he={point:pe,lineStart:ve,lineEnd:ge,polygonStart:function(){he.point=be,he.lineStart=ye,he.lineEnd=xe,de.reset(),W.polygonStart()},polygonEnd:function(){W.polygonEnd(),he.point=pe,he.lineStart=ve,he.lineEnd=ge,U<0?(ne=-(ie=180),re=-(ue=90)):de>o?ue=90:de<-o&&(re=-90),le[0]=ne,le[1]=ie}};function pe(e,t){se.push(le=[ne=e,ie=e]),t<re&&(re=t),t>ue&&(ue=t)}function me(e,t){var n=J([e*h,t*h]);if(fe){var r=Q(fe,n),i=Q([r[1],-r[0],0],r);te(i),i=X(i);var u,a=e-ae,o=a>0?1:-1,c=i[0]*d*o,f=p(a)>180;f^(o*ae<c&&c<o*e)?(u=i[1]*d)>ue&&(ue=u):f^(o*ae<(c=(c+360)%360-180)&&c<o*e)?(u=-i[1]*d)<re&&(re=u):(t<re&&(re=t),t>ue&&(ue=t)),f?e<ae?we(ne,e)>we(ne,ie)&&(ie=e):we(e,ie)>we(ne,ie)&&(ne=e):ie>=ne?(e<ne&&(ne=e),e>ie&&(ie=e)):e>ae?we(ne,e)>we(ne,ie)&&(ie=e):we(e,ie)>we(ne,ie)&&(ne=e)}else se.push(le=[ne=e,ie=e]);t<re&&(re=t),t>ue&&(ue=t),fe=n,ae=e}function ve(){he.point=me}function ge(){le[0]=ne,le[1]=ie,he.point=pe,fe=null}function be(e,t){if(fe){var n=e-ae;de.add(p(n)>180?n+(n>0?360:-360):n)}else oe=e,ce=t;W.point(e,t),me(e,t)}function ye(){W.lineStart()}function xe(){be(oe,ce),W.lineEnd(),p(de)>o&&(ne=-(ie=180)),le[0]=ne,le[1]=ie,fe=null}function we(e,t){return(t-=e)<0?t+360:t}function _e(e,t){return e[0]-t[0]}function Ae(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Ee,Oe,ke,Ce,De,Fe,Me,Se,je,Te,Ne,Be,Pe,Re,ze,Le,Ie=function(e){var t,n,r,i,u,a,o;if(ue=ie=-(ne=re=1/0),se=[],I(e,he),n=se.length){for(se.sort(_e),t=1,u=[r=se[0]];t<n;++t)Ae(r,(i=se[t])[0])||Ae(r,i[1])?(we(r[0],i[1])>we(r[0],r[1])&&(r[1]=i[1]),we(i[0],r[1])>we(r[0],r[1])&&(r[0]=i[0])):u.push(r=i);for(a=-1/0,t=0,r=u[n=u.length-1];t<=n;r=i,++t)i=u[t],(o=we(r[1],i[0]))>a&&(a=o,ne=i[0],ie=r[1])}return se=le=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[ie,ue]]},Ue={sphere:F,point:qe,lineStart:He,lineEnd:Ge,polygonStart:function(){Ue.lineStart=$e,Ue.lineEnd=Xe},polygonEnd:function(){Ue.lineStart=He,Ue.lineEnd=Ge}};function qe(e,t){e*=h;var n=g(t*=h);We(n*g(e),n*_(e),_(t))}function We(e,t,n){ke+=(e-ke)/++Ee,Ce+=(t-Ce)/Ee,De+=(n-De)/Ee}function He(){Ue.point=Ye}function Ye(e,t){e*=h;var n=g(t*=h);Re=n*g(e),ze=n*_(e),Le=_(t),Ue.point=Ve,We(Re,ze,Le)}function Ve(e,t){e*=h;var n=g(t*=h),r=n*g(e),i=n*_(e),u=_(t),a=v(E((a=ze*u-Le*i)*a+(a=Le*r-Re*u)*a+(a=Re*i-ze*r)*a),Re*r+ze*i+Le*u);Oe+=a,Fe+=a*(Re+(Re=r)),Me+=a*(ze+(ze=i)),Se+=a*(Le+(Le=u)),We(Re,ze,Le)}function Ge(){Ue.point=qe}function $e(){Ue.point=Je}function Xe(){Ke(Be,Pe),Ue.point=qe}function Je(e,t){Be=e,Pe=t,e*=h,t*=h,Ue.point=Ke;var n=g(t);Re=n*g(e),ze=n*_(e),Le=_(t),We(Re,ze,Le)}function Ke(e,t){e*=h;var n=g(t*=h),r=n*g(e),i=n*_(e),u=_(t),a=ze*u-Le*i,o=Le*r-Re*u,c=Re*i-ze*r,f=E(a*a+o*o+c*c),s=C(f),l=f&&-s/f;je+=l*a,Te+=l*o,Ne+=l*c,Oe+=s,Fe+=s*(Re+(Re=r)),Me+=s*(ze+(ze=i)),Se+=s*(Le+(Le=u)),We(Re,ze,Le)}var Qe=function(e){Ee=Oe=ke=Ce=De=Fe=Me=Se=je=Te=Ne=0,I(e,Ue);var t=je,n=Te,r=Ne,i=t*t+n*n+r*r;return i<1e-12&&(t=Fe,n=Me,r=Se,Oe<o&&(t=ke,n=Ce,r=De),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,t)*d,C(r/E(i))*d]},Ze=function(e){return function(){return e}},et=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function tt(e,t){return[p(e)>c?e+Math.round(-e/l)*l:e,t]}function nt(e,t,n){return(e%=l)?t||n?et(it(e),ut(t,n)):it(e):t||n?ut(t,n):tt}function rt(e){return function(t,n){return[(t+=e)>c?t-l:t<-c?t+l:t,n]}}function it(e){var t=rt(e);return t.invert=rt(-e),t}function ut(e,t){var n=g(e),r=_(e),i=g(t),u=_(t);function a(e,t){var a=g(t),o=g(e)*a,c=_(e)*a,f=_(t),s=f*n+o*r;return[v(c*i-s*u,o*n-f*r),C(s*i+c*u)]}return a.invert=function(e,t){var a=g(t),o=g(e)*a,c=_(e)*a,f=_(t),s=f*i-c*u;return[v(c*i+f*u,o*n+s*r),C(s*n-o*r)]},a}tt.invert=tt;var at=function(e){function t(t){return(t=e(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t}return e=nt(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return(t=e.invert(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t},t};function ot(e,t,n,r,i,u){if(n){var a=g(t),o=_(t),c=r*n;null==i?(i=t+r*l,u=t-c/2):(i=ct(a,i),u=ct(a,u),(r>0?i<u:i>u)&&(i+=r*l));for(var f,s=i;r>0?s>u:s<u;s-=c)f=X([a,-o*g(s),-o*_(s)]),e.point(f[0],f[1])}}function ct(e,t){(t=J(t))[0]-=e,te(t);var n=k(-t[1]);return((-t[2]<0?-n:n)+l-o)%l}var ft=function(){var e,t,n=Ze([0,0]),r=Ze(90),i=Ze(6),u={point:function(n,r){e.push(n=t(n,r)),n[0]*=d,n[1]*=d}};function a(){var a=n.apply(this,arguments),o=r.apply(this,arguments)*h,c=i.apply(this,arguments)*h;return e=[],t=nt(-a[0]*h,-a[1]*h,0).invert,ot(u,o,c,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"===typeof e?e:Ze([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"===typeof e?e:Ze(+e),a):r},a.precision=function(e){return arguments.length?(i="function"===typeof e?e:Ze(+e),a):i},a},st=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:F,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},lt=function(e,t){return p(e[0]-t[0])<o&&p(e[1]-t[1])<o};function dt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ht=function(e,t,n,r,i){var u,a,o=[],c=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(lt(r,a)){for(i.lineStart(),u=0;u<t;++u)i.point((r=e[u])[0],r[1]);i.lineEnd()}else o.push(n=new dt(r,e,null,!0)),c.push(n.o=new dt(r,null,n,!1)),o.push(n=new dt(a,e,null,!1)),c.push(n.o=new dt(a,null,n,!0))}}),o.length){for(c.sort(t),pt(o),pt(c),u=0,a=c.length;u<a;++u)c[u].e=n=!n;for(var f,s,l=o[0];;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;f=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(u=0,a=f.length;u<a;++u)i.point((s=f[u])[0],s[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(f=d.p.z,u=f.length-1;u>=0;--u)i.point((s=f[u])[0],s[1]);else r(d.x,d.p.x,-1,i);d=d.p}f=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function pt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var mt=r(),vt=function(e,t){var n=t[0],r=t[1],i=_(r),u=[_(n),-g(n),0],a=0,d=0;mt.reset(),1===i?r=f+o:-1===i&&(r=-f-o);for(var h=0,p=e.length;h<p;++h)if(b=(m=e[h]).length)for(var m,b,y=m[b-1],x=y[0],w=y[1]/2+s,A=_(w),E=g(w),O=0;O<b;++O,x=D,A=M,E=S,y=k){var k=m[O],D=k[0],F=k[1]/2+s,M=_(F),S=g(F),j=D-x,T=j>=0?1:-1,N=T*j,B=N>c,P=A*M;if(mt.add(v(P*T*_(N),E*S+P*g(N))),a+=B?j+T*l:j,B^x>=n^D>=n){var R=Q(J(y),J(k));te(R);var z=Q(u,R);te(z);var L=(B^j>=0?-1:1)*C(z[2]);(r>L||r===L&&(R[0]||R[1]))&&(d+=B^j>=0?1:-1)}}return(a<-o||a<o&&mt<-o)^1&d},gt=n(21),bt=function(e,t,n,r){return function(i){var u,a,o,c=t(i),f=st(),s=t(f),l=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=b,d.lineEnd=y,a=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,a=Object(gt.n)(a);var e=vt(u,r);a.length?(l||(i.polygonStart(),l=!0),ht(a,xt,e,n,i)):e&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){c.point(e,t)}function m(){d.point=p,c.lineStart()}function v(){d.point=h,c.lineEnd()}function g(e,t){o.push([e,t]),s.point(e,t)}function b(){s.lineStart(),o=[]}function y(){g(o[0][0],o[0][1]),s.lineEnd();var e,t,n,r,c=s.clean(),d=f.result(),h=d.length;if(o.pop(),u.push(o),o=null,h)if(1&c){if((t=(n=d[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&c&&d.push(d.pop().concat(d.shift())),a.push(d.filter(yt))}return d}};function yt(e){return e.length>1}function xt(e,t){return((e=e.x)[0]<0?e[1]-f-o:f-e[1])-((t=t.x)[0]<0?t[1]-f-o:f-t[1])}var wt=bt(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(u,a){var s=u>0?c:-c,l=p(u-n);p(l-c)<o?(e.point(n,r=(r+a)/2>0?f:-f),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(u,r),t=0):i!==s&&l>=c&&(p(n-i)<o&&(n-=i*o),p(u-s)<o&&(u-=s*o),r=function(e,t,n,r){var i,u,a=_(e-n);return p(a)>o?m((_(t)*(u=g(r))*_(n)-_(r)*(i=g(t))*_(e))/(i*u*a)):(t+r)/2}(n,r,u,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=u,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*f,r.point(-c,i),r.point(0,i),r.point(c,i),r.point(c,0),r.point(c,-i),r.point(0,-i),r.point(-c,-i),r.point(-c,0),r.point(-c,i);else if(p(e[0]-t[0])>o){var u=e[0]<t[0]?c:-c;i=n*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])},[-c,-f]);var _t=function(e){var t=g(e),n=6*h,r=t>0,i=p(t)>o;function u(e,n){return g(e)*g(n)>t}function a(e,n,r){var i=[1,0,0],u=Q(J(e),J(n)),a=K(u,u),f=u[0],s=a-f*f;if(!s)return!r&&e;var l=t*a/s,d=-t*f/s,h=Q(i,u),m=ee(i,l);Z(m,ee(u,d));var v=h,g=K(m,v),b=K(v,v),y=g*g-b*(K(m,m)-1);if(!(y<0)){var x=E(y),w=ee(v,(-g-x)/b);if(Z(w,m),w=X(w),!r)return w;var _,A=e[0],O=n[0],k=e[1],C=n[1];O<A&&(_=A,A=O,O=_);var D=O-A,F=p(D-c)<o;if(!F&&C<k&&(_=k,k=C,C=_),F||D<o?F?k+C>0^w[1]<(p(w[0]-A)<o?k:C):k<=w[1]&&w[1]<=C:D>c^(A<=w[0]&&w[0]<=O)){var M=ee(v,(-g+x)/b);return Z(M,m),[w,X(M)]}}}function f(t,n){var i=r?e:c-e,u=0;return t<-i?u|=1:t>i&&(u|=2),n<-i?u|=4:n>i&&(u|=8),u}return bt(u,function(e){var t,n,s,l,d;return{lineStart:function(){l=s=!1,d=1},point:function(h,p){var m,v=[h,p],g=u(h,p),b=r?g?0:f(h,p):g?f(h+(h<0?c:-c),p):0;if(!t&&(l=s=g)&&e.lineStart(),g!==s&&(!(m=a(t,v))||lt(t,m)||lt(v,m))&&(v[0]+=o,v[1]+=o,g=u(v[0],v[1])),g!==s)d=0,g?(e.lineStart(),m=a(v,t),e.point(m[0],m[1])):(m=a(t,v),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^g){var y;b&n||!(y=a(v,t,!0))||(d=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!g||t&&lt(t,v)||e.point(v[0],v[1]),t=v,s=g,n=b},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return d|(l&&s)<<1}}},function(t,r,i,u){ot(u,e,n,i,t,r)},r?[0,-e]:[-c,e-c])},At=function(e,t,n,r,i,u){var a,o=e[0],c=e[1],f=0,s=1,l=t[0]-o,d=t[1]-c;if(a=n-o,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>f&&(f=a)}if(a=i-o,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<s&&(s=a)}if(a=r-c,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<s&&(s=a)}else if(d>0){if(a>s)return;a>f&&(f=a)}if(a=u-c,d||!(a<0)){if(a/=d,d<0){if(a>s)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<s&&(s=a)}return f>0&&(e[0]=o+f*l,e[1]=c+f*d),s<1&&(t[0]=o+s*l,t[1]=c+s*d),!0}}}}},Et=1e9,Ot=-Et;function kt(e,t,n,r){function i(i,u){return e<=i&&i<=n&&t<=u&&u<=r}function u(i,u,o,c){var s=0,l=0;if(null==i||(s=a(i,o))!==(l=a(u,o))||f(i,u)<0^o>0)do{c.point(0===s||3===s?e:n,s>1?r:t)}while((s=(s+o+4)%4)!==l);else c.point(u[0],u[1])}function a(r,i){return p(r[0]-e)<o?i>0?0:3:p(r[0]-n)<o?i>0?2:1:p(r[1]-t)<o?i>0?1:0:i>0?3:2}function c(e,t){return f(e.x,t.x)}function f(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var o,f,s,l,d,h,p,m,v,g,b,y=a,x=st(),w={point:_,lineStart:function(){w.point=A,f&&f.push(s=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){o&&(A(l,d),h&&v&&x.rejoin(),o.push(x.result()));w.point=_,v&&y.lineEnd()},polygonStart:function(){y=x,o=[],f=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=f.length;n<i;++n)for(var u,a,o=f[n],c=1,s=o.length,l=o[0],d=l[0],h=l[1];c<s;++c)u=d,a=h,l=o[c],d=l[0],h=l[1],a<=r?h>r&&(d-u)*(r-a)>(h-a)*(e-u)&&++t:h<=r&&(d-u)*(r-a)<(h-a)*(e-u)&&--t;return t}(),n=b&&t,i=(o=Object(gt.n)(o)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),i&&ht(o,c,t,u,a),a.polygonEnd());y=a,o=f=s=null}};function _(e,t){i(e,t)&&y.point(e,t)}function A(u,a){var o=i(u,a);if(f&&s.push([u,a]),g)l=u,d=a,h=o,g=!1,o&&(y.lineStart(),y.point(u,a));else if(o&&v)y.point(u,a);else{var c=[p=Math.max(Ot,Math.min(Et,p)),m=Math.max(Ot,Math.min(Et,m))],x=[u=Math.max(Ot,Math.min(Et,u)),a=Math.max(Ot,Math.min(Et,a))];At(c,x,e,t,n,r)?(v||(y.lineStart(),y.point(c[0],c[1])),y.point(x[0],x[1]),o||y.lineEnd(),b=!1):o&&(y.lineStart(),y.point(u,a),b=!1)}p=u,m=a,v=o}return w}}var Ct,Dt,Ft,Mt=function(){var e,t,n,r=0,i=0,u=960,a=500;return n={stream:function(n){return e&&t===n?e:e=kt(r,i,u,a)(t=n)},extent:function(o){return arguments.length?(r=+o[0][0],i=+o[0][1],u=+o[1][0],a=+o[1][1],e=t=null,n):[[r,i],[u,a]]}}},St=r(),jt={sphere:F,point:F,lineStart:function(){jt.point=Nt,jt.lineEnd=Tt},lineEnd:F,polygonStart:F,polygonEnd:F};function Tt(){jt.point=jt.lineEnd=F}function Nt(e,t){Ct=e*=h,Dt=_(t*=h),Ft=g(t),jt.point=Bt}function Bt(e,t){e*=h;var n=_(t*=h),r=g(t),i=p(e-Ct),u=g(i),a=r*_(i),o=Ft*n-Dt*r*u,c=Dt*n+Ft*r*u;St.add(v(E(a*a+o*o),c)),Ct=e,Dt=n,Ft=r}var Pt=function(e){return St.reset(),I(e,jt),+St},Rt=[null,null],zt={type:"LineString",coordinates:Rt},Lt=function(e,t){return Rt[0]=e,Rt[1]=t,Pt(zt)},It={Feature:function(e,t){return qt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(qt(n[r].geometry,t))return!0;return!1}},Ut={Sphere:function(){return!0},Point:function(e,t){return Wt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Wt(n[r],t))return!0;return!1},LineString:function(e,t){return Ht(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ht(n[r],t))return!0;return!1},Polygon:function(e,t){return Yt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Yt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(qt(n[r],t))return!0;return!1}};function qt(e,t){return!(!e||!Ut.hasOwnProperty(e.type))&&Ut[e.type](e,t)}function Wt(e,t){return 0===Lt(e,t)}function Ht(e,t){var n=Lt(e[0],e[1]);return Lt(e[0],t)+Lt(t,e[1])<=n+o}function Yt(e,t){return!!vt(e.map(Vt),Gt(t))}function Vt(e){return(e=e.map(Gt)).pop(),e}function Gt(e){return[e[0]*h,e[1]*h]}var $t=function(e,t){return(e&&It.hasOwnProperty(e.type)?It[e.type]:qt)(e,t)};function Xt(e,t,n){var r=Object(gt.s)(e,t-o,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function Jt(e,t,n){var r=Object(gt.s)(e,t-o,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function Kt(){var e,t,n,r,i,u,a,c,f,s,l,d,h=10,m=h,v=90,g=360,y=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(gt.s)(b(r/v)*v,n,v).map(l).concat(Object(gt.s)(b(c/g)*g,a,g).map(d)).concat(Object(gt.s)(b(t/h)*h,e,h).filter(function(e){return p(e%v)>o}).map(f)).concat(Object(gt.s)(b(u/m)*m,i,m).filter(function(e){return p(e%g)>o}).map(s))}return x.lines=function(){return w().map(function(e){return{type:"LineString",coordinates:e}})},x.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(d(a).slice(1),l(n).reverse().slice(1),d(c).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.extentMajor(e).extentMinor(e):x.extentMinor()},x.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],c=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),c>a&&(e=c,c=a,a=e),x.precision(y)):[[r,c],[n,a]]},x.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],u=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),u>i&&(n=u,u=i,i=n),x.precision(y)):[[t,u],[e,i]]},x.step=function(e){return arguments.length?x.stepMajor(e).stepMinor(e):x.stepMinor()},x.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],x):[v,g]},x.stepMinor=function(e){return arguments.length?(h=+e[0],m=+e[1],x):[h,m]},x.precision=function(o){return arguments.length?(y=+o,f=Xt(u,i,90),s=Jt(t,e,y),l=Xt(c,a,90),d=Jt(r,n,y),x):y},x.extentMajor([[-180,-90+o],[180,90-o]]).extentMinor([[-180,-80-o],[180,80+o]])}function Qt(){return Kt()()}var Zt,en,tn,nn,rn=function(e,t){var n=e[0]*h,r=e[1]*h,i=t[0]*h,u=t[1]*h,a=g(r),o=_(r),c=g(u),f=_(u),s=a*g(n),l=a*_(n),p=c*g(i),m=c*_(i),b=2*C(E(D(u-r)+a*c*D(i-n))),y=_(b),x=b?function(e){var t=_(e*=b)/y,n=_(b-e)/y,r=n*s+t*p,i=n*l+t*m,u=n*o+t*f;return[v(i,r)*d,v(u,E(r*r+i*i))*d]}:function(){return[n*d,r*d]};return x.distance=b,x},un=function(e){return e},an=r(),on=r(),cn={point:F,lineStart:F,lineEnd:F,polygonStart:function(){cn.lineStart=fn,cn.lineEnd=dn},polygonEnd:function(){cn.lineStart=cn.lineEnd=cn.point=F,an.add(p(on)),on.reset()},result:function(){var e=an/2;return an.reset(),e}};function fn(){cn.point=sn}function sn(e,t){cn.point=ln,Zt=tn=e,en=nn=t}function ln(e,t){on.add(nn*e-tn*t),tn=e,nn=t}function dn(){ln(Zt,en)}var hn=cn,pn=1/0,mn=pn,vn=-pn,gn=vn;var bn,yn,xn,wn,_n={point:function(e,t){e<pn&&(pn=e);e>vn&&(vn=e);t<mn&&(mn=t);t>gn&&(gn=t)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F,result:function(){var e=[[pn,mn],[vn,gn]];return vn=gn=-(mn=pn=1/0),e}},An=0,En=0,On=0,kn=0,Cn=0,Dn=0,Fn=0,Mn=0,Sn=0,jn={point:Tn,lineStart:Nn,lineEnd:Rn,polygonStart:function(){jn.lineStart=zn,jn.lineEnd=Ln},polygonEnd:function(){jn.point=Tn,jn.lineStart=Nn,jn.lineEnd=Rn},result:function(){var e=Sn?[Fn/Sn,Mn/Sn]:Dn?[kn/Dn,Cn/Dn]:On?[An/On,En/On]:[NaN,NaN];return An=En=On=kn=Cn=Dn=Fn=Mn=Sn=0,e}};function Tn(e,t){An+=e,En+=t,++On}function Nn(){jn.point=Bn}function Bn(e,t){jn.point=Pn,Tn(xn=e,wn=t)}function Pn(e,t){var n=e-xn,r=t-wn,i=E(n*n+r*r);kn+=i*(xn+e)/2,Cn+=i*(wn+t)/2,Dn+=i,Tn(xn=e,wn=t)}function Rn(){jn.point=Tn}function zn(){jn.point=In}function Ln(){Un(bn,yn)}function In(e,t){jn.point=Un,Tn(bn=xn=e,yn=wn=t)}function Un(e,t){var n=e-xn,r=t-wn,i=E(n*n+r*r);kn+=i*(xn+e)/2,Cn+=i*(wn+t)/2,Dn+=i,Fn+=(i=wn*e-xn*t)*(xn+e),Mn+=i*(wn+t),Sn+=3*i,Tn(xn=e,wn=t)}var qn=jn;function Wn(e){this._context=e}Wn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,l)}},result:F};var Hn,Yn,Vn,Gn,$n,Xn=r(),Jn={point:F,lineStart:function(){Jn.point=Kn},lineEnd:function(){Hn&&Qn(Yn,Vn),Jn.point=F},polygonStart:function(){Hn=!0},polygonEnd:function(){Hn=null},result:function(){var e=+Xn;return Xn.reset(),e}};function Kn(e,t){Jn.point=Qn,Yn=Gn=e,Vn=$n=t}function Qn(e,t){Gn-=e,$n-=t,Xn.add(E(Gn*Gn+$n*$n)),Gn=e,$n=t}var Zn=Jn;function er(){this._string=[]}function tr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}er.prototype={_radius:4.5,_circle:tr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=tr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var nr=function(e,t){var n,r,i=4.5;function u(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),I(e,n(r))),r.result()}return u.area=function(e){return I(e,n(hn)),hn.result()},u.measure=function(e){return I(e,n(Zn)),Zn.result()},u.bounds=function(e){return I(e,n(_n)),_n.result()},u.centroid=function(e){return I(e,n(qn)),qn.result()},u.projection=function(t){return arguments.length?(n=null==t?(e=null,un):(e=t).stream,u):e},u.context=function(e){return arguments.length?(r=null==e?(t=null,new er):new Wn(t=e),"function"!==typeof i&&r.pointRadius(i),u):t},u.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),u):i},u.projection(e).context(t)},rr=function(e){return{stream:ir(e)}};function ir(e){return function(t){var n=new ur;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ur(){}function ar(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),I(n,e.stream(_n)),t(_n.result()),null!=r&&e.clipExtent(r),e}function or(e,t,n){return ar(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],u=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-u*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(i-u*(n[1][1]+n[0][1]))/2;e.scale(150*u).translate([a,o])},n)}function cr(e,t,n){return or(e,[[0,0],t],n)}function fr(e,t,n){return ar(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),u=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([u,a])},n)}function sr(e,t,n){return ar(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),u=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([u,a])},n)}ur.prototype={constructor:ur,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lr=16,dr=g(30*h),hr=function(e,t){return+t?function(e,t){function n(r,i,u,a,c,f,s,l,d,h,m,g,b,y){var x=s-r,w=l-i,_=x*x+w*w;if(_>4*t&&b--){var A=a+h,O=c+m,k=f+g,D=E(A*A+O*O+k*k),F=C(k/=D),M=p(p(k)-1)<o||p(u-d)<o?(u+d)/2:v(O,A),S=e(M,F),j=S[0],T=S[1],N=j-r,B=T-i,P=w*N-x*B;(P*P/_>t||p((x*N+w*B)/_-.5)>.3||a*h+c*m+f*g<dr)&&(n(r,i,u,a,c,f,j,T,M,A/=D,O/=D,k,b,y),y.point(j,T),n(j,T,M,A,O,k,s,l,d,h,m,g,b,y))}}return function(t){var r,i,u,a,o,c,f,s,l,d,h,p,m={point:v,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=x},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){s=NaN,m.point=b,t.lineStart()}function b(r,i){var u=J([r,i]),a=e(r,i);n(s,l,f,d,h,p,s=a[0],l=a[1],f=r,d=u[0],h=u[1],p=u[2],lr,t),t.point(s,l)}function y(){m.point=v,t.lineEnd()}function x(){g(),m.point=w,m.lineEnd=_}function w(e,t){b(r=e,t),i=s,u=l,a=d,o=h,c=p,m.point=b}function _(){n(s,l,f,d,h,p,i,u,r,a,o,c,lr,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return ir({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var pr=ir({point:function(e,t){this.stream.point(e*h,t*h)}});function mr(e,t,n,r){var i=g(r),u=_(r),a=i*e,o=u*e,c=i/e,f=u/e,s=(u*n-i*t)/e,l=(u*t+i*n)/e;function d(e,r){return[a*e-o*r+t,n-o*e-a*r]}return d.invert=function(e,t){return[c*e-f*t+s,l-f*e-c*t]},d}function vr(e){return gr(function(){return e})()}function gr(e){var t,n,r,i,u,a,o,c,f,s,l=150,p=480,m=250,v=0,g=0,b=0,y=0,x=0,w=0,_=null,A=wt,O=null,k=un,C=.5;function D(e){return c(e[0]*h,e[1]*h)}function F(e){return(e=c.invert(e[0],e[1]))&&[e[0]*d,e[1]*d]}function M(){var e=mr(l,0,0,w).apply(null,t(v,g)),r=(w?mr:function(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r})(l,p-e[0],m-e[1],w);return n=nt(b,y,x),o=et(t,r),c=et(n,o),a=hr(o,C),S()}function S(){return f=s=null,D}return D.stream=function(e){return f&&s===e?f:f=pr(function(e){return ir({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(A(a(k(s=e)))))},D.preclip=function(e){return arguments.length?(A=e,_=void 0,S()):A},D.postclip=function(e){return arguments.length?(k=e,O=r=i=u=null,S()):k},D.clipAngle=function(e){return arguments.length?(A=+e?_t(_=e*h):(_=null,wt),S()):_*d},D.clipExtent=function(e){return arguments.length?(k=null==e?(O=r=i=u=null,un):kt(O=+e[0][0],r=+e[0][1],i=+e[1][0],u=+e[1][1]),S()):null==O?null:[[O,r],[i,u]]},D.scale=function(e){return arguments.length?(l=+e,M()):l},D.translate=function(e){return arguments.length?(p=+e[0],m=+e[1],M()):[p,m]},D.center=function(e){return arguments.length?(v=e[0]%360*h,g=e[1]%360*h,M()):[v*d,g*d]},D.rotate=function(e){return arguments.length?(b=e[0]%360*h,y=e[1]%360*h,x=e.length>2?e[2]%360*h:0,M()):[b*d,y*d,x*d]},D.angle=function(e){return arguments.length?(w=e%360*h,M()):w*d},D.precision=function(e){return arguments.length?(a=hr(o,C=e*e),S()):E(C)},D.fitExtent=function(e,t){return or(D,e,t)},D.fitSize=function(e,t){return cr(D,e,t)},D.fitWidth=function(e,t){return fr(D,e,t)},D.fitHeight=function(e,t){return sr(D,e,t)},function(){return t=e.apply(this,arguments),D.invert=t.invert&&F,M()}}function br(e){var t=0,n=c/3,r=gr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*h,n=e[1]*h):[t*d,n*d]},i}function yr(e,t){var n=_(e),r=(n+_(t))/2;if(p(r)<o)return function(e){var t=g(e);function n(e,n){return[e*t,_(n)/t]}return n.invert=function(e,n){return[e/t,C(n*t)]},n}(e);var i=1+n*(2*r-n),u=E(i)/r;function a(e,t){var n=E(i-2*r*_(t))/r;return[n*_(e*=r),u-n*g(e)]}return a.invert=function(e,t){var n=u-t;return[v(e,p(n))/r*A(n),C((i-(e*e+n*n)*r*r)/(2*r))]},a}var xr=function(){return br(yr).scale(155.424).center([0,33.6442])},wr=function(){return xr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var _r=function(){var e,t,n,r,i,u,a=wr(),c=xr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=xr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,t){u=[e,t]}};function l(e){var t=e[0],a=e[1];return u=null,n.point(t,a),u||(r.point(t,a),u)||(i.point(t,a),u)}function d(){return e=t=null,l}return l.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:a).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),c.stream(n),f.stream(n)])},l.precision=function(e){return arguments.length?(a.precision(e),c.precision(e),f.precision(e),d()):a.precision()},l.scale=function(e){return arguments.length?(a.scale(e),c.scale(.35*e),f.scale(e),l.translate(a.translate())):a.scale()},l.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),u=+e[0],l=+e[1];return n=a.translate(e).clipExtent([[u-.455*t,l-.238*t],[u+.455*t,l+.238*t]]).stream(s),r=c.translate([u-.307*t,l+.201*t]).clipExtent([[u-.425*t+o,l+.12*t+o],[u-.214*t-o,l+.234*t-o]]).stream(s),i=f.translate([u-.205*t,l+.212*t]).clipExtent([[u-.214*t+o,l+.166*t+o],[u-.115*t-o,l+.234*t-o]]).stream(s),d()},l.fitExtent=function(e,t){return or(l,e,t)},l.fitSize=function(e,t){return cr(l,e,t)},l.fitWidth=function(e,t){return fr(l,e,t)},l.fitHeight=function(e,t){return sr(l,e,t)},l.scale(1070)};function Ar(e){return function(t,n){var r=g(t),i=g(n),u=e(r*i);return[u*i*_(t),u*_(n)]}}function Er(e){return function(t,n){var r=E(t*t+n*n),i=e(r),u=_(i),a=g(i);return[v(t*u,r*a),C(r&&n*u/r)]}}var Or=Ar(function(e){return E(2/(1+e))});Or.invert=Er(function(e){return 2*C(e/2)});var kr=function(){return vr(Or).scale(124.75).clipAngle(179.999)},Cr=Ar(function(e){return(e=k(e))&&e/_(e)});Cr.invert=Er(function(e){return e});var Dr=function(){return vr(Cr).scale(79.4188).clipAngle(179.999)};function Fr(e,t){return[e,x(O((f+t)/2))]}Fr.invert=function(e,t){return[e,2*m(y(t))-f]};var Mr=function(){return Sr(Fr).scale(961/l)};function Sr(e){var t,n,r,i=vr(e),u=i.center,a=i.scale,o=i.translate,f=i.clipExtent,s=null;function l(){var u=c*a(),o=i(at(i.rotate()).invert([0,0]));return f(null==s?[[o[0]-u,o[1]-u],[o[0]+u,o[1]+u]]:e===Fr?[[Math.max(o[0]-u,s),t],[Math.min(o[0]+u,n),r]]:[[s,Math.max(o[1]-u,t)],[n,Math.min(o[1]+u,r)]])}return i.scale=function(e){return arguments.length?(a(e),l()):a()},i.translate=function(e){return arguments.length?(o(e),l()):o()},i.center=function(e){return arguments.length?(u(e),l()):u()},i.clipExtent=function(e){return arguments.length?(null==e?s=t=n=r=null:(s=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==s?null:[[s,t],[n,r]]},l()}function jr(e){return O((f+e)/2)}function Tr(e,t){var n=g(e),r=e===t?_(e):x(n/g(t))/x(jr(t)/jr(e)),i=n*w(jr(e),r)/r;if(!r)return Fr;function u(e,t){i>0?t<-f+o&&(t=-f+o):t>f-o&&(t=f-o);var n=i/w(jr(t),r);return[n*_(r*e),i-n*g(r*e)]}return u.invert=function(e,t){var n=i-t,u=A(r)*E(e*e+n*n);return[v(e,p(n))/r*A(n),2*m(w(i/u,1/r))-f]},u}var Nr=function(){return br(Tr).scale(109.5).parallels([30,30])};function Br(e,t){return[e,t]}Br.invert=Br;var Pr=function(){return vr(Br).scale(152.63)};function Rr(e,t){var n=g(e),r=e===t?_(e):(n-g(t))/(t-e),i=n/r+e;if(p(r)<o)return Br;function u(e,t){var n=i-t,u=r*e;return[n*_(u),i-n*g(u)]}return u.invert=function(e,t){var n=i-t;return[v(e,p(n))/r*A(n),i-A(r)*E(e*e+n*n)]},u}var zr=function(){return br(Rr).scale(131.154).center([0,13.9389])},Lr=1.340264,Ir=-.081106,Ur=893e-6,qr=.003796,Wr=E(3)/2;function Hr(e,t){var n=C(Wr*_(t)),r=n*n,i=r*r*r;return[e*g(n)/(Wr*(Lr+3*Ir*r+i*(7*Ur+9*qr*r))),n*(Lr+Ir*r+i*(Ur+qr*r))]}Hr.invert=function(e,t){for(var n,r=t,i=r*r,u=i*i*i,a=0;a<12&&(u=(i=(r-=n=(r*(Lr+Ir*i+u*(Ur+qr*i))-t)/(Lr+3*Ir*i+u*(7*Ur+9*qr*i)))*r)*i*i,!(p(n)<1e-12));++a);return[Wr*e*(Lr+3*Ir*i+u*(7*Ur+9*qr*i))/g(r),C(_(r)/Wr)]};var Yr=function(){return vr(Hr).scale(177.158)};function Vr(e,t){var n=g(t),r=g(e)*n;return[n*_(e)/r,_(t)/r]}Vr.invert=Er(m);var Gr=function(){return vr(Vr).scale(144.049).clipAngle(60)};function $r(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?un:ir({point:function(i,u){this.stream.point(i*e+n,u*t+r)}})}var Xr=function(){var e,t,n,r,i,u,a=1,o=0,c=0,f=1,s=1,l=un,d=null,h=un;function p(){return r=i=null,u}return u={stream:function(e){return r&&i===e?r:r=l(h(i=e))},postclip:function(r){return arguments.length?(h=r,d=e=t=n=null,p()):h},clipExtent:function(r){return arguments.length?(h=null==r?(d=e=t=n=null,un):kt(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(l=$r((a=+e)*f,a*s,o,c),p()):a},translate:function(e){return arguments.length?(l=$r(a*f,a*s,o=+e[0],c=+e[1]),p()):[o,c]},reflectX:function(e){return arguments.length?(l=$r(a*(f=e?-1:1),a*s,o,c),p()):f<0},reflectY:function(e){return arguments.length?(l=$r(a*f,a*(s=e?-1:1),o,c),p()):s<0},fitExtent:function(e,t){return or(u,e,t)},fitSize:function(e,t){return cr(u,e,t)},fitWidth:function(e,t){return fr(u,e,t)},fitHeight:function(e,t){return sr(u,e,t)}}};function Jr(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Jr.invert=function(e,t){var n,r=t,i=25;do{var u=r*r,a=u*u;r-=n=(r*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-t)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(p(n)>o&&--i>0);return[e/(.8707+(u=r*r)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),r]};var Kr=function(){return vr(Jr).scale(175.295)};function Qr(e,t){return[g(t)*_(e),_(t)]}Qr.invert=Er(C);var Zr=function(){return vr(Qr).scale(249.5).clipAngle(90+o)};function ei(e,t){var n=g(t),r=1+g(e)*n;return[n*_(e)/r,_(t)/r]}ei.invert=Er(function(e){return 2*m(e)});var ti=function(){return vr(ei).scale(250).clipAngle(142)};function ni(e,t){return[x(O((f+t)/2)),-e]}ni.invert=function(e,t){return[-t,2*m(y(e))-f]};var ri=function(){var e=Sr(ni),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};n.d(t,"c",function(){return $}),n.d(t,"h",function(){return Ie}),n.d(t,"i",function(){return Qe}),n.d(t,"j",function(){return ft}),n.d(t,"k",function(){return wt}),n.d(t,"l",function(){return _t}),n.d(t,"m",function(){return Mt}),n.d(t,"n",function(){return kt}),n.d(t,"u",function(){return $t}),n.d(t,"v",function(){return Lt}),n.d(t,"C",function(){return Kt}),n.d(t,"D",function(){return Qt}),n.d(t,"F",function(){return rn}),n.d(t,"G",function(){return Pt}),n.d(t,"N",function(){return nr}),n.d(t,"a",function(){return wr}),n.d(t,"b",function(){return _r}),n.d(t,"d",function(){return kr}),n.d(t,"e",function(){return Or}),n.d(t,"f",function(){return Dr}),n.d(t,"g",function(){return Cr}),n.d(t,"o",function(){return Nr}),n.d(t,"p",function(){return Tr}),n.d(t,"q",function(){return xr}),n.d(t,"r",function(){return yr}),n.d(t,"s",function(){return zr}),n.d(t,"t",function(){return Rr}),n.d(t,"w",function(){return Yr}),n.d(t,"x",function(){return Hr}),n.d(t,"y",function(){return Pr}),n.d(t,"z",function(){return Br}),n.d(t,"A",function(){return Gr}),n.d(t,"B",function(){return Vr}),n.d(t,"E",function(){return Xr}),n.d(t,"O",function(){return vr}),n.d(t,"P",function(){return gr}),n.d(t,"H",function(){return Mr}),n.d(t,"I",function(){return Fr}),n.d(t,"J",function(){return Kr}),n.d(t,"K",function(){return Jr}),n.d(t,"L",function(){return Zr}),n.d(t,"M",function(){return Qr}),n.d(t,"R",function(){return ti}),n.d(t,"S",function(){return ei}),n.d(t,"V",function(){return ri}),n.d(t,"W",function(){return ni}),n.d(t,"Q",function(){return at}),n.d(t,"T",function(){return I}),n.d(t,"U",function(){return rr})},function(e,t,n){e.exports=n(150)()},function(e,t,n){"use strict";n.r(t),n.d(t,"isFacetSpec",function(){return d}),n.d(t,"isUnitSpec",function(){return h}),n.d(t,"isLayerSpec",function(){return p}),n.d(t,"isRepeatSpec",function(){return m}),n.d(t,"isConcatSpec",function(){return v}),n.d(t,"isVConcatSpec",function(){return g}),n.d(t,"isHConcatSpec",function(){return b}),n.d(t,"normalize",function(){return y}),n.d(t,"fieldDefs",function(){return O}),n.d(t,"isStacked",function(){return k});var r=n(3),i=n(0),u=n(7),a=n(47),o=n(25),c=n(6),f=n(12),s=n(53),l=n(2);function d(e){return void 0!==e.facet}function h(e){return!!e.mark}function p(e){return void 0!==e.layer}function m(e){return void 0!==e.repeat}function v(e){return g(e)||b(e)}function g(e){return void 0!==e.vconcat}function b(e){return void 0!==e.hconcat}function y(e,t){if(d(e))return function(e,t){var n=e.spec,i=r.c(e,["spec"]);return r.a({},i,{spec:y(n,t)})}(e,t);if(p(e))return function e(t,n,i,u){var a=t.layer,o=t.encoding,c=t.projection,f=r.c(t,["layer","encoding","projection"]);var s=x({parentEncoding:i,encoding:o});var l=w({parentProjection:u,projection:c});return r.a({},f,{layer:a.map(function(t){return p(t)?e(t,n,s,l):_(t,n,s,l)})})}(e,t);if(m(e))return function(e,t){var n=e.spec,i=r.c(e,["spec"]);return r.a({},i,{spec:y(n,t)})}(e,t);if(g(e))return function(e,t){var n=e.vconcat,i=r.c(e,["vconcat"]);return r.a({},i,{vconcat:n.map(function(e){return y(e,t)})})}(e,t);if(b(e))return function(e,t){var n=e.hconcat,i=r.c(e,["hconcat"]);return r.a({},i,{hconcat:n.map(function(e){return y(e,t)})})}(e,t);if(h(e)){var n=Object(o.channelHasField)(e.encoding,u.ROW),i=Object(o.channelHasField)(e.encoding,u.COLUMN);return n||i?function(e,t){var n=e.encoding,i=n.row,u=n.column,a=r.c(n,["row","column"]),o=e.mark,c=e.width,f=e.projection,s=e.height,l=e.selection,d=(e.encoding,r.c(e,["mark","width","projection","height","selection","encoding"]));return r.a({},d,{facet:r.a({},i?{row:i}:{},u?{column:u}:{}),spec:_(r.a({},f?{projection:f}:{},{mark:o},c?{width:c}:{},s?{height:s}:{},{encoding:a},l?{selection:l}:{}),t)})}(e,t):_(e,t)}throw new Error(c.b.INVALID_SPEC)}function x(e){var t=e.parentEncoding,n=e.encoding;if(t&&n){var i=Object(l.keys)(t).reduce(function(e,t){return n[t]&&e.push(t),e},[]);i.length>0&&c.e(c.b.encodingOverridden(i))}var u=r.a({},t||{},n||{});return Object(l.keys)(u).length>0?u:void 0}function w(e){var t=e.parentProjection,n=e.projection;return t&&n&&c.e(c.b.projectionOverridden({parentProjection:t,projection:n})),n||t}function _(e,t,n,d){var h=e.encoding,p=e.projection,m=Object(f.isMarkDef)(e.mark)?e.mark.type:e.mark;if(n||d){var v=w({parentProjection:d,projection:p}),g=x({parentEncoding:n,encoding:h});return _(r.a({},e,v?{projection:v}:{},g?{encoding:g}:{}),t)}return function(e){return Object(f.isPrimitiveMark)(e.mark)}(e)?Object(o.isRanged)(h)?function(e){var t=Object(o.channelHasField)(e.encoding,u.X),n=Object(o.channelHasField)(e.encoding,u.Y),r=Object(o.channelHasField)(e.encoding,u.X2),i=Object(o.channelHasField)(e.encoding,u.Y2);if(r&&!t||i&&!n){var a=Object(l.duplicate)(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}(e):"line"===m&&(h.x2||h.y2)?(c.e(c.b.lineWithRange(!!h.x2,!!h.y2)),_(r.a({mark:"rule"},e),t,n,d)):Object(f.isPathMark)(m)?function(e,t){void 0===t&&(t={});var n,u=e.selection,a=e.projection,o=e.encoding,c=e.mark,d=r.c(e,["selection","projection","encoding","mark"]),h=Object(f.isMarkDef)(c)?c:{type:c},p=function(e,t,n){return"transparent"===e.point?{opacity:0}:e.point?Object(i.isObject)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(i.isObject)(t.point)?t.point:{}:null}(h,t[h.type],o),m="area"===h.type&&function(e,t){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:null}(h,t[h.type]);if(!p&&!m)return r.a({},e,{mark:A(h)});var v=[r.a({},u?{selection:u}:{},{mark:A(r.a({},h,"area"===h.type?{opacity:.7}:{})),encoding:Object(l.omit)(o,["shape"])})],g=Object(s.stack)(h,o,t?t.stack:void 0),b=o;if(g){var y=g.fieldChannel,x=g.offset;b=r.a({},o,((n={})[y]=r.a({},o[y],x?{stack:x}:{}),n))}m&&v.push(r.a({},a?{projection:a}:{},{mark:r.a({type:"line"},Object(l.pick)(h,["clip","interpolate"]),m),encoding:b}));p&&v.push(r.a({},a?{projection:a}:{},{mark:r.a({type:"point",opacity:1,filled:!0},Object(l.pick)(h,["clip"]),p),encoding:b}));return r.a({},d,{layer:v})}(e,t):e:a.normalize(e,t)}function A(e){e.point,e.line;var t=r.c(e,["point","line"]);return Object(l.keys)(t).length>1?t:t.type}function E(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=Object(l.hash)(n);e[r]=e[r]||t}),e}function O(e){return Object(l.vals)(function e(t,n){void 0===n&&(n={}),p(t)?t.layer.forEach(function(t){h(t)?E(n,o.fieldDefs(t.encoding)):e(t,n)}):d(t)?(E(n,o.fieldDefs(t.facet)),e(t.spec,n)):m(t)?e(t.spec,n):v(t)?(g(t)?t.vconcat:t.hconcat).forEach(function(t){return e(t,n)}):E(n,o.fieldDefs(t.encoding));return n}(e))}function k(e,t){return t=t||e.config,!!Object(f.isPrimitiveMark)(e.mark)&&null!==Object(s.stack)(e.mark,e.encoding,t?t.stack:void 0)}},function(e,t,n){"use strict";function r(e,t){return e.parent===t.parent?1:2}function i(e,t){return e+t.x}function u(e,t){return Math.max(e,t.y)}var a=function(){var e=r,t=1,n=1,a=!1;function o(r){var o,c=0;r.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(i,0)/e.length}(n),t.y=function(e){return 1+e.reduce(u,0)}(n)):(t.x=o?c+=e(t,o):0,t.y=0,o=t)});var f=function(e){for(var t;t=e.children;)e=t[0];return e}(r),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(r),l=f.x-e(f,s)/2,d=s.x+e(s,f)/2;return r.eachAfter(a?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-l)/(d-l)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(a=!1,t=+e[0],n=+e[1],o):a?null:[t,n]},o.nodeSize=function(e){return arguments.length?(a=!0,t=+e[0],n=+e[1],o):a?[t,n]:null},o};function o(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function c(e,t){var n,r,i,u,a,o=new d(e),c=+e.value&&(o.value=e.value),s=[o];for(null==t&&(t=f);n=s.pop();)if(c&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),u=a-1;u>=0;--u)s.push(r=n.children[u]=new d(i[u])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(l)}function f(e){return e.children}function s(e){e.data=e.data.data}function l(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function d(e){this.data=e,this.depth=this.height=0,this.parent=null}d.prototype=c.prototype={constructor:d,count:function(){return this.eachAfter(o)},each:function(e){var t,n,r,i,u=this,a=[u];do{for(t=a.reverse(),a=[];u=t.pop();)if(e(u),n=u.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,u=[i],a=[];i=u.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)u.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return c(this).eachBefore(s)}};var h=Array.prototype.slice;var p=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(h.call(e))).length,u=[];r<i;)t=e[r],n&&g(n,t)?++r:(n=y(u=m(u,t)),r=0);return n};function m(e,t){var n,r;if(b(t,e))return[t];for(n=0;n<e.length;++n)if(v(t,e[n])&&b(x(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(v(x(e[n],e[r]),t)&&v(x(e[n],t),e[r])&&v(x(e[r],t),e[n])&&b(w(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function v(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function g(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function b(e,t){for(var n=0;n<t.length;++n)if(!g(e,t[n]))return!1;return!0}function y(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return x(e[0],e[1]);case 3:return w(e[0],e[1],e[2])}var t}function x(e,t){var n=e.x,r=e.y,i=e.r,u=t.x,a=t.y,o=t.r,c=u-n,f=a-r,s=o-i,l=Math.sqrt(c*c+f*f);return{x:(n+u+c/l*s)/2,y:(r+a+f/l*s)/2,r:(l+i+o)/2}}function w(e,t,n){var r=e.x,i=e.y,u=e.r,a=t.x,o=t.y,c=t.r,f=n.x,s=n.y,l=n.r,d=r-a,h=r-f,p=i-o,m=i-s,v=c-u,g=l-u,b=r*r+i*i-u*u,y=b-a*a-o*o+c*c,x=b-f*f-s*s+l*l,w=h*p-d*m,_=(p*x-m*y)/(2*w)-r,A=(m*v-p*g)/w,E=(h*y-d*x)/(2*w)-i,O=(d*g-h*v)/w,k=A*A+O*O-1,C=2*(u+_*A+E*O),D=_*_+E*E-u*u,F=-(k?(C+Math.sqrt(C*C-4*k*D))/(2*k):D/C);return{x:r+_+A*F,y:i+E+O*F,r:F}}function _(e,t,n){var r,i,u,a,o=e.x-t.x,c=e.y-t.y,f=o*o+c*c;f?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(f+a-i)/(2*f),u=Math.sqrt(Math.max(0,a/f-r*r)),n.x=e.x-r*o-u*c,n.y=e.y-r*c+u*o):(r=(f+i-a)/(2*f),u=Math.sqrt(Math.max(0,i/f-r*r)),n.x=t.x+r*o-u*c,n.y=t.y+r*c+u*o)):(n.x=t.x+n.r,n.y=t.y)}function A(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function E(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,u=(t.y*n.r+n.y*t.r)/r;return i*i+u*u}function O(e){this._=e,this.next=null,this.previous=null}function k(e){if(!(i=e.length))return 0;var t,n,r,i,u,a,o,c,f,s,l;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;_(n,t,r=e[2]),t=new O(t),n=new O(n),r=new O(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(o=3;o<i;++o){_(t._,n._,r=e[o]),r=new O(r),c=n.next,f=t.previous,s=n._.r,l=t._.r;do{if(s<=l){if(A(c._,r._)){n=c,t.next=n,n.previous=t,--o;continue e}s+=c._.r,c=c.next}else{if(A(f._,r._)){(t=f).next=n,n.previous=t,--o;continue e}l+=f._.r,f=f.previous}}while(c!==f.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,u=E(t);(r=r.next)!==n;)(a=E(r))<u&&(t=r,u=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=p(t),o=0;o<i;++o)(t=e[o]).x-=r.x,t.y-=r.y;return r.r}var C=function(e){return k(e),e};function D(e){if("function"!==typeof e)throw new Error;return e}function F(){return 0}var M=function(e){return function(){return e}};function S(e){return Math.sqrt(e.value)}var j=function(){var e=null,t=1,n=1,r=F;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(T(e)).eachAfter(N(r,.5)).eachBefore(B(1)):i.eachBefore(T(S)).eachAfter(N(F,1)).eachAfter(N(r,i.r/Math.min(t,n))).eachBefore(B(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=null==(n=t)?null:D(n),i):e;var n},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:M(+e),i):r},i};function T(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function N(e,t){return function(n){if(r=n.children){var r,i,u,a=r.length,o=e(n)*t||0;if(o)for(i=0;i<a;++i)r[i].r+=o;if(u=k(r),o)for(i=0;i<a;++i)r[i].r-=o;n.r=u+o}}}function B(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var P=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},R=function(e,t,n,r,i){for(var u,a=e.children,o=-1,c=a.length,f=e.value&&(r-t)/e.value;++o<c;)(u=a[o]).y0=n,u.y1=i,u.x0=t,u.x1=t+=u.value*f},z=function(){var e=1,t=1,n=0,r=!1;function i(i){var u=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/u,i.eachBefore(function(e,t){return function(r){r.children&&R(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,u=r.y0,a=r.x1-n,o=r.y1-n;a<i&&(i=a=(i+a)/2),o<u&&(u=o=(u+o)/2),r.x0=i,r.y0=u,r.x1=a,r.y1=o}}(t,u)),r&&i.eachBefore(P),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},L="$",I={depth:-1},U={};function q(e){return e.id}function W(e){return e.parentId}var H=function(){var e=q,t=W;function n(n){var r,i,u,a,o,c,f,s=n.length,h=new Array(s),p={};for(i=0;i<s;++i)r=n[i],o=h[i]=new d(r),null!=(c=e(r,i,n))&&(c+="")&&(p[f=L+(o.id=c)]=f in p?U:o);for(i=0;i<s;++i)if(o=h[i],null!=(c=t(n[i],i,n))&&(c+="")){if(!(a=p[L+c]))throw new Error("missing: "+c);if(a===U)throw new Error("ambiguous: "+c);a.children?a.children.push(o):a.children=[o],o.parent=a}else{if(u)throw new Error("multiple roots");u=o}if(!u)throw new Error("no root");if(u.parent=I,u.eachBefore(function(e){e.depth=e.parent.depth+1,--s}).eachBefore(l),u.parent=null,s>0)throw new Error("cycle");return u}return n.id=function(t){return arguments.length?(e=D(t),n):e},n.parentId=function(e){return arguments.length?(t=D(e),n):t},n};function Y(e,t){return e.parent===t.parent?1:2}function V(e){var t=e.children;return t?t[0]:e.t}function G(e){var t=e.children;return t?t[t.length-1]:e.t}function $(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function X(e,t,n){return e.a.parent===t.parent?e.a:n}function J(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}J.prototype=Object.create(d.prototype);var K=function(){var e=Y,t=1,n=1,r=null;function i(i){var c=function(e){for(var t,n,r,i,u,a=new J(e,0),o=[a];t=o.pop();)if(r=t._.children)for(t.children=new Array(u=r.length),i=u-1;i>=0;--i)o.push(n=t.children[i]=new J(r[i],i)),n.parent=t;return(a.parent=new J(null,0)).children=[a],a}(i);if(c.eachAfter(u),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(o);else{var f=i,s=i,l=i;i.eachBefore(function(e){e.x<f.x&&(f=e),e.x>s.x&&(s=e),e.depth>l.depth&&(l=e)});var d=f===s?1:e(f,s)/2,h=d-f.x,p=t/(s.x+d+h),m=n/(l.depth||1);i.eachBefore(function(e){e.x=(e.x+h)*p,e.y=e.depth*m})}return i}function u(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,u=i.length;--u>=0;)(t=i[u]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var u=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-u):t.z=u}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,u=t,a=t,o=n,c=u.parent.children[0],f=u.m,s=a.m,l=o.m,d=c.m;o=G(o),u=V(u),o&&u;)c=V(c),(a=G(a)).a=t,(i=o.z+l-u.z-f+e(o._,u._))>0&&($(X(o,t,r),t,i),f+=i,s+=i),l+=o.m,f+=u.m,d+=c.m,s+=a.m;o&&!G(a)&&(a.t=o,a.m+=l-s),u&&!V(c)&&(c.t=u,c.m+=f-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},Q=function(e,t,n,r,i){for(var u,a=e.children,o=-1,c=a.length,f=e.value&&(i-n)/e.value;++o<c;)(u=a[o]).x0=t,u.x1=r,u.y0=n,u.y1=n+=u.value*f},Z=(1+Math.sqrt(5))/2;function ee(e,t,n,r,i,u){for(var a,o,c,f,s,l,d,h,p,m,v,g=[],b=t.children,y=0,x=0,w=b.length,_=t.value;y<w;){c=i-n,f=u-r;do{s=b[x++].value}while(!s&&x<w);for(l=d=s,v=s*s*(m=Math.max(f/c,c/f)/(_*e)),p=Math.max(d/v,v/l);x<w;++x){if(s+=o=b[x].value,o<l&&(l=o),o>d&&(d=o),v=s*s*m,(h=Math.max(d/v,v/l))>p){s-=o;break}p=h}g.push(a={value:s,dice:c<f,children:b.slice(y,x)}),a.dice?R(a,n,r,i,_?r+=f*s/_:u):Q(a,n,r,_?n+=c*s/_:i,u),_-=s,y=x}return g}var te=function e(t){function n(e,n,r,i,u){ee(t,e,n,r,i,u)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Z),ne=function(){var e=te,t=!1,n=1,r=1,i=[0],u=F,a=F,o=F,c=F,f=F;function s(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(l),i=[0],t&&e.eachBefore(P),e}function l(t){var n=i[t.depth],r=t.x0+n,s=t.y0+n,l=t.x1-n,d=t.y1-n;l<r&&(r=l=(r+l)/2),d<s&&(s=d=(s+d)/2),t.x0=r,t.y0=s,t.x1=l,t.y1=d,t.children&&(n=i[t.depth+1]=u(t)/2,r+=f(t)-n,s+=a(t)-n,(l-=o(t)-n)<r&&(r=l=(r+l)/2),(d-=c(t)-n)<s&&(s=d=(s+d)/2),e(t,r,s,l,d))}return s.round=function(e){return arguments.length?(t=!!e,s):t},s.size=function(e){return arguments.length?(n=+e[0],r=+e[1],s):[n,r]},s.tile=function(t){return arguments.length?(e=D(t),s):e},s.padding=function(e){return arguments.length?s.paddingInner(e).paddingOuter(e):s.paddingInner()},s.paddingInner=function(e){return arguments.length?(u="function"===typeof e?e:M(+e),s):u},s.paddingOuter=function(e){return arguments.length?s.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):s.paddingTop()},s.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:M(+e),s):a},s.paddingRight=function(e){return arguments.length?(o="function"===typeof e?e:M(+e),s):o},s.paddingBottom=function(e){return arguments.length?(c="function"===typeof e?e:M(+e),s):c},s.paddingLeft=function(e){return arguments.length?(f="function"===typeof e?e:M(+e),s):f},s},re=function(e,t,n,r,i){var u,a,o=e.children,c=o.length,f=new Array(c+1);for(f[0]=a=u=0;u<c;++u)f[u+1]=a+=o[u].value;!function e(t,n,r,i,u,a,c){if(t>=n-1){var s=o[t];return s.x0=i,s.y0=u,s.x1=a,void(s.y1=c)}var l=f[t],d=r/2+l,h=t+1,p=n-1;for(;h<p;){var m=h+p>>>1;f[m]<d?h=m+1:p=m}d-f[h-1]<f[h]-d&&t+1<h&&--h;var v=f[h]-l,g=r-v;if(a-i>c-u){var b=(i*g+a*v)/r;e(t,h,v,i,u,b,c),e(h,n,g,b,u,a,c)}else{var y=(u*g+c*v)/r;e(t,h,v,i,u,a,y),e(h,n,g,i,y,a,c)}}(0,c,e.value,t,n,r,i)},ie=function(e,t,n,r,i){(1&e.depth?Q:R)(e,t,n,r,i)},ue=function e(t){function n(e,n,r,i,u){if((a=e._squarify)&&a.ratio===t)for(var a,o,c,f,s,l=-1,d=a.length,h=e.value;++l<d;){for(c=(o=a[l]).children,f=o.value=0,s=c.length;f<s;++f)o.value+=c[f].value;o.dice?R(o,n,r,i,r+=(u-r)*o.value/h):Q(o,n,r,n+=(i-n)*o.value/h,u),h-=o.value}else e._squarify=a=ee(t,e,n,r,i,u),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Z);n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return j}),n.d(t,"e",function(){return C}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return z}),n.d(t,"g",function(){return H}),n.d(t,"h",function(){return K}),n.d(t,"i",function(){return ne}),n.d(t,"j",function(){return re}),n.d(t,"k",function(){return R}),n.d(t,"m",function(){return Q}),n.d(t,"n",function(){return ie}),n.d(t,"o",function(){return te}),n.d(t,"l",function(){return ue})},function(e,t,n){"use strict";var r=Math.PI,i=2*r,u=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new a}a.prototype=o.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,u){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(e,t,n,i,u){e=+e,t=+t,n=+n,i=+i,u=+u;var a=this._x1,o=this._y1,c=n-e,f=i-t,s=a-e,l=o-t,d=s*s+l*l;if(u<0)throw new Error("negative radius: "+u);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(l*c-f*s)>1e-6&&u){var h=n-a,p=i-o,m=c*c+f*f,v=h*h+p*p,g=Math.sqrt(m),b=Math.sqrt(d),y=u*Math.tan((r-Math.acos((m+d-v)/(2*g*b)))/2),x=y/b,w=y/g;Math.abs(x-1)>1e-6&&(this._+="L"+(e+x*s)+","+(t+x*l)),this._+="A"+u+","+u+",0,0,"+ +(l*h>s*p)+","+(this._x1=e+w*c)+","+(this._y1=t+w*f)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,o,c){e=+e,t=+t;var f=(n=+n)*Math.cos(a),s=n*Math.sin(a),l=e+f,d=t+s,h=1^c,p=c?a-o:o-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+d:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+l+","+d),n&&(p<0&&(p=p%i+i),p>u?this._+="A"+n+","+n+",0,1,"+h+","+(e-f)+","+(t-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=d):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+h+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var c=o;n.d(t,"a",function(){return c})},function(e,t,n){"use strict";var r,i,u=e.exports=n(45),a=n(93);u.codegen=n(205),u.fetch=n(206),u.path=n(207),u.fs=u.inquire("fs"),u.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},u.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var o=/\\/g,c=/"/g;u.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},u.safeProp=function(e){return!/^[$\w_]+$/.test(e)||u.isReserved(e)?'["'+e.replace(o,"\\\\").replace(c,'\\"')+'"]':"."+e},u.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var f=/_([a-z])/g;u.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(f,function(e,t){return t.toUpperCase()})},u.compareFieldsById=function(e,t){return e.id-t.id},u.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(u.decorateRoot.remove(e.$type),e.$type.name=t,u.decorateRoot.add(e.$type)),e.$type;r||(r=n(76));var i=new r(t||e.name);return u.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var s=0;u.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(41));var t=new i("Enum"+s++,e);return u.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(u,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(n(81)))}})},function(e,t,n){"use strict";var r,i,u=0,a=0,o=0,c=1e3,f=0,s=0,l=0,d="object"===typeof performance&&performance.now?performance:Date,h="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return s||(h(m),s=d.now()+l)}function m(){s=0}function v(){this._call=this._time=this._next=null}function g(e,t,n){var r=new v;return r.restart(e,t,n),r}function b(){p(),++u;for(var e,t=r;t;)(e=s-t._time)>=0&&t._call.call(null,e),t=t._next;--u}function y(){s=(f=d.now())+l,u=a=0;try{b()}finally{u=0,function(){var e,t,n=r,u=1/0;for(;n;)n._call?(u>n._time&&(u=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,w(u)}(),s=0}}function x(){var e=d.now(),t=e-f;t>c&&(l-=t,f=e)}function w(e){u||(a&&(a=clearTimeout(a)),e-s>24?(e<1/0&&(a=setTimeout(y,e-d.now()-l)),o&&(o=clearInterval(o))):(o||(f=d.now(),o=setInterval(x,c)),u=1,h(y)))}v.prototype=g.prototype={constructor:v,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var _=function(e,t,n){var r=new v;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},A=function(e,t,n){var r=new v,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?p():+n,r.restart(function u(a){a+=i,r.restart(u,i+=t,n),e(a)},t,n),r)};n.d(t,"b",function(){return p}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return A})},function(e,t,n){"use strict";n.r(t),n.d(t,"TimeUnit",function(){return r}),n.d(t,"TIMEUNIT_PARTS",function(){return f}),n.d(t,"isLocalSingleTimeUnit",function(){return s}),n.d(t,"isUtcSingleTimeUnit",function(){return d}),n.d(t,"isUTCTimeUnit",function(){return m}),n.d(t,"getLocalTimeUnit",function(){return v}),n.d(t,"TIMEUNITS",function(){return b}),n.d(t,"isTimeUnit",function(){return y}),n.d(t,"convert",function(){return w}),n.d(t,"getTimeUnitParts",function(){return A}),n.d(t,"containsTimeUnit",function(){return E}),n.d(t,"fieldExpr",function(){return O}),n.d(t,"formatExpression",function(){return k}),n.d(t,"normalizeTimeUnit",function(){return C});var r,i=n(3),u=n(43),a=n(6),o=n(2);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(r||(r={}));var c={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},f=Object(o.flagKeys)(c);function s(e){return!!c[e]}var l={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};function d(e){return!!l[e]}var h={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},p=i.a({},l,h);function m(e){return!!p[e]}function v(e){return e.substr(3)}var g=i.a({},c,l,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},h),b=Object(o.flagKeys)(g);function y(e){return!!g[e]}var x={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};function w(e,t){for(var n=m(e),i=n?new Date(Date.UTC(0,0,1,0,0,0,0)):new Date(0,0,1,0,0,0,0),u=0,a=f;u<a.length;u++){var o=a[u];if(E(e,o))switch(o){case r.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case r.QUARTER:var c=_("month",n),s=c.getDateMethod;i[c.setDateMethod](3*Math.floor(t[s]()/3));break;default:var l=_(o,n),d=l.getDateMethod;i[l.setDateMethod](t[d]())}}return i}function _(e,t){var n=x[e];return{setDateMethod:t?"setUTC"+n.substr(3):n,getDateMethod:"get"+(t?"UTC":"")+n.substr(3)}}function A(e){return f.reduce(function(t,n){return E(e,n)?t.concat(n):t},[])}function E(e,t){var n=e.indexOf(t);return n>-1&&(t!==r.SECONDS||0===n||"i"!==e.charAt(n-1))}function O(e,t){var n=Object(o.accessPathWithDatum)(t),i=m(e)?"utc":"";var a=f.reduce(function(t,u){var a;return E(e,u)&&(t[u]=(a=u)===r.QUARTER?"("+i+"quarter("+n+")-1)":""+i+a+"("+n+")"),t},{});return Object(u.dateTimeExpr)(a)}function k(e,t,n,i){if(e){var u=[],a="",o=E(e,r.YEAR);E(e,r.QUARTER)&&(a="'Q' + quarter("+t+")"),E(e,r.MONTH)&&u.push(!1!==n?"%b":"%B"),E(e,r.DAY)?u.push(n?"%a":"%A"):E(e,r.DATE)&&u.push("%d"+(o?",":"")),o&&u.push(n?"%y":"%Y");var c=[];E(e,r.HOURS)&&c.push("%H"),E(e,r.MINUTES)&&c.push("%M"),E(e,r.SECONDS)&&c.push("%S"),E(e,r.MILLISECONDS)&&c.push("%L");var f=[];return u.length>0&&f.push(u.join(" ")),c.length>0&&f.push(c.join(":")),f.length>0&&(a&&(a+=" + ' ' + "),a+=i?"utcFormat("+t+", '"+f.join(" ")+"')":"timeFormat("+t+", '"+f.join(" ")+"')"),a||void 0}}function C(e){return"day"!==e&&e.indexOf("day")>=0?(a.e(a.b.dayReplacedWithDate(e)),e.replace("day","date")):e}},function(e,t,n){"use strict";var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new u(r)}function u(e){this._=e}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function o(e,t,n){for(var i=0,u=e.length;i<u;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}u.prototype=i.prototype={constructor:u,on:function(e,t){var n,r,i=this._,u=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),c=-1,f=u.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++c<f;)if(n=(e=u[c]).type)i[n]=o(i[n],e.name,t);else if(null==t)for(n in i)i[n]=o(i[n],e.name,null);return this}for(;++c<f;)if((n=(e=u[c]).type)&&(n=a(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new u(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),u=0;u<n;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=0,n=(r=this._[e]).length;u<n;++u)r[u].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,u=r.length;i<u;++i)r[i].value.apply(t,n)}};var c=i;n.d(t,"a",function(){return c})},function(e,t,n){"use strict";n.r(t),n.d(t,"binToString",function(){return a}),n.d(t,"isBinParams",function(){return o}),n.d(t,"autoMaxBins",function(){return c});var r=n(0),i=n(7),u=n(2);function a(e){return Object(r.isBoolean)(e)?"bin":"bin"+Object(u.keys)(e).map(function(t){return Object(u.varName)("_"+t+"_"+e[t])}).join("")}function o(e){return e&&!Object(r.isBoolean)(e)}function c(e){switch(e){case i.ROW:case i.COLUMN:case i.SIZE:case i.COLOR:case i.FILL:case i.STROKE:case i.OPACITY:case i.SHAPE:return 6;default:return 10}}},function(e,t,n){"use strict";n.r(t),n.d(t,"AGGREGATE_OPS",function(){return a}),n.d(t,"isAggregateOp",function(){return o}),n.d(t,"COUNTING_OPS",function(){return c}),n.d(t,"isCountingAggregateOp",function(){return f}),n.d(t,"SUM_OPS",function(){return s}),n.d(t,"SHARED_DOMAIN_OPS",function(){return l}),n.d(t,"SHARED_DOMAIN_OP_INDEX",function(){return d});var r=n(0),i=n(2),u={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},a=Object(i.flagKeys)(u);function o(e){return!!u[e]}var c=["count","valid","missing","distinct"];function f(e){return e&&Object(i.contains)(c,e)}var s=["count","sum","distinct","valid","missing"],l=["mean","average","median","q1","q3","min","max"],d=Object(r.toSet)(l)},function(e,t,n){"use strict";(function(e){var r=n(72),i=n(29),u=n.n(i),a=n(1),o=n.n(a),c="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var f,s=(function(e){!function(t){var n=function e(t,n,r){if(!c(n)||s(n)||l(n)||d(n)||o(n))return n;var i,u=0,a=0;if(f(n))for(i=[],a=n.length;u<a;u++)i.push(e(t,n[u],r));else for(var h in i={},n)Object.prototype.hasOwnProperty.call(n,h)&&(i[t(h,r)]=e(t,n[h],r));return i},r=function(e){return h(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)},i=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},u=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,o=function(e){return"function"===typeof e},c=function(e){return e===Object(e)},f=function(e){return"[object Array]"==a.call(e)},s=function(e){return"[object Date]"==a.call(e)},l=function(e){return"[object RegExp]"==a.call(e)},d=function(e){return"[object Boolean]"==a.call(e)},h=function(e){return(e-=0)===e},p=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!==typeof n?e:function(t,r){return n(t,e,r)}},m={camelize:r,decamelize:u,pascalize:i,depascalize:u,camelizeKeys:function(e,t){return n(p(r,t),e)},decamelizeKeys:function(e,t){return n(p(u,t),e,t)},pascalizeKeys:function(e,t){return n(p(i,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m}(c)}(f={exports:{}},f.exports),f.exports),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=(function(){function e(e){this.value=e}function t(t){var n,r;function i(n,r){try{var a=t[n](r),o=a.value;o instanceof e?Promise.resolve(o.value).then(function(e){i("next",e)},function(e){i("throw",e)}):u(a.done?"return":"normal",a.value)}catch(c){u("throw",c)}}function u(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(u,a){var o={key:e,arg:t,resolve:u,reject:a,next:null};r?r=r.next=o:(n=r=o,i(e,t))})},"function"!==typeof t.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},m=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(t.children||[]).map(v.bind(null,e)),i=Object.keys(t.attributes||{}).reduce(function(e,n){var r=t.attributes[n];switch(n){case"class":e.attrs.className=r,delete t.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),i=s.camelize(t.slice(0,r)),u=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=u:e[i]=u,e},{});break;default:0===n.indexOf("aria-")||0===n.indexOf("data-")?e.attrs[n.toLowerCase()]=r:e.attrs[s.camelize(n)]=r}return e},{attrs:{}}),u=n.style,a=void 0===u?{}:u,o=p(n,["style"]);return i.attrs.style=h({},i.attrs.style,a),e.apply(void 0,[t.tag,h({},i.attrs,o)].concat(m(r)))}var g=!1;try{g=!0}catch(_){}var b=function(){var e;!g&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)};function y(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?d({},e,t):{}}function x(e){return null===e?null:"object"===("undefined"===typeof e?"undefined":l(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function w(e){var t=e.icon,n=e.mask,i=e.symbol,u=e.className,a=x(t),c=y("classes",[].concat(m(function(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},d(t,"fa-"+e.size,null!==e.size),d(t,"fa-rotate-"+e.rotation,null!==e.rotation),d(t,"fa-pull-"+e.pull,null!==e.pull),t);return Object.keys(n).map(function(e){return n[e]?e:null}).filter(function(e){return e})}(e)),m(u.split(" ")))),f=y("transform","string"===typeof e.transform?r.a.parse.transform(e.transform):e.transform),s=y("mask",x(n)),l=r.a.icon(a,h({},c,f,s,{symbol:i}));if(!l)return b("Could not find icon",a),null;var p=l.abstract,g=v.bind(null,o.a.createElement),_={};return Object.keys(e).forEach(function(t){w.defaultProps.hasOwnProperty(t)||(_[t]=e[t])}),g(p[0],_)}w.propTypes={border:u.a.bool,className:u.a.string,mask:u.a.oneOfType([u.a.object,u.a.array,u.a.string]),fixedWidth:u.a.bool,flip:u.a.oneOf(["horizontal","vertical","both"]),icon:u.a.oneOfType([u.a.object,u.a.array,u.a.string]),listItem:u.a.bool,pull:u.a.oneOf(["right","left"]),pulse:u.a.bool,name:u.a.string,rotation:u.a.oneOf([90,180,270]),size:u.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:u.a.bool,symbol:u.a.oneOfType([u.a.bool,u.a.string]),transform:u.a.oneOfType([u.a.string,u.a.object])},w.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,name:"",rotation:null,size:null,spin:!1,symbol:!1,transform:null},r.a.noAuto(),t.a=w}).call(this,n(68))},,function(e,t,n){"use strict";e.exports=a;var r=n(55);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var i=n(60),u=n(33);function a(e,t,n,i,u){if(r.call(this,e,n),t&&"object"!==typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=u||{},this.reserved=void 0,t)for(var a=Object.keys(t),o=0;o<a.length;++o)"number"===typeof t[a[o]]&&(this.valuesById[this.values[a[o]]=t[a[o]]]=a[o])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return u.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n){if(!u.isString(e))throw TypeError("name must be a string");if(!u.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!u.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},function(e,t,n){"use strict";function r(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,u,a,o,c,f,s,l,d,h=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((f=t>=(u=(m+g)/2))?m=u:g=u,(s=n>=(a=(v+b)/2))?v=a:b=a,i=h,!(h=h[l=s<<1|f]))return i[l]=p,e;if(o=+e._x.call(null,h.data),c=+e._y.call(null,h.data),t===o&&n===c)return p.next=h,i?i[l]=p:e._root=p,e;do{i=i?i[l]=new Array(4):e._root=new Array(4),(f=t>=(u=(m+g)/2))?m=u:g=u,(s=n>=(a=(v+b)/2))?v=a:b=a}while((l=s<<1|f)===(d=(c>=a)<<1|o>=u));return i[d]=h,i[l]=p,e}var i=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function u(e){return e[0]}function a(e){return e[1]}function o(e,t,n){var r=new c(null==t?u:t,null==n?a:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function c(e,t,n,r,i,u){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=u,this._root=void 0}function f(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var s=o.prototype=c.prototype;s.copy=function(){var e,t,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=f(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=f(t));return n},s.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return r(this.cover(t,n),t,n,e)},s.addAll=function(e){var t,n,i,u,a=e.length,o=new Array(a),c=new Array(a),f=1/0,s=1/0,l=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(u=+this._y.call(null,t))||(o[n]=i,c[n]=u,i<f&&(f=i),i>l&&(l=i),u<s&&(s=u),u>d&&(d=u));if(f>l||s>d)return this;for(this.cover(f,s).cover(l,d),n=0;n<a;++n)r(this,o[n],c[n],e[n]);return this},s.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,u=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,u=(r=Math.floor(t))+1;else{for(var a,o,c=i-n,f=this._root;n>e||e>=i||r>t||t>=u;)switch(o=(t<r)<<1|e<n,(a=new Array(4))[o]=f,f=a,c*=2,o){case 0:i=n+c,u=r+c;break;case 1:n=i-c,u=r+c;break;case 2:i=n+c,r=u-c;break;case 3:n=i-c,r=u-c}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=i,this._y1=u,this},s.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},s.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},s.find=function(e,t,n){var r,u,a,o,c,f,s,l=this._x0,d=this._y0,h=this._x1,p=this._y1,m=[],v=this._root;for(v&&m.push(new i(v,l,d,h,p)),null==n?n=1/0:(l=e-n,d=t-n,h=e+n,p=t+n,n*=n);f=m.pop();)if(!(!(v=f.node)||(u=f.x0)>h||(a=f.y0)>p||(o=f.x1)<l||(c=f.y1)<d))if(v.length){var g=(u+o)/2,b=(a+c)/2;m.push(new i(v[3],g,b,o,c),new i(v[2],u,b,g,c),new i(v[1],g,a,o,b),new i(v[0],u,a,g,b)),(s=(t>=b)<<1|e>=g)&&(f=m[m.length-1],m[m.length-1]=m[m.length-1-s],m[m.length-1-s]=f)}else{var y=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),w=y*y+x*x;if(w<n){var _=Math.sqrt(n=w);l=e-_,d=t-_,h=e+_,p=t+_,r=v.data}}return r},s.remove=function(e){if(isNaN(u=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,u,a,o,c,f,s,l,d,h=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((f=u>=(o=(p+v)/2))?p=o:v=o,(s=a>=(c=(m+g)/2))?m=c:g=c,t=h,!(h=h[l=s<<1|f]))return this;if(!h.length)break;(t[l+1&3]||t[l+2&3]||t[l+3&3])&&(n=t,d=l)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[l]=i:delete t[l],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},s.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},s.root=function(){return this._root},s.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},s.visit=function(e){var t,n,r,u,a,o,c=[],f=this._root;for(f&&c.push(new i(f,this._x0,this._y0,this._x1,this._y1));t=c.pop();)if(!e(f=t.node,r=t.x0,u=t.y0,a=t.x1,o=t.y1)&&f.length){var s=(r+a)/2,l=(u+o)/2;(n=f[3])&&c.push(new i(n,s,l,a,o)),(n=f[2])&&c.push(new i(n,r,l,s,o)),(n=f[1])&&c.push(new i(n,s,u,a,l)),(n=f[0])&&c.push(new i(n,r,u,s,l))}return this},s.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var u=t.node;if(u.length){var a,o=t.x0,c=t.y0,f=t.x1,s=t.y1,l=(o+f)/2,d=(c+s)/2;(a=u[0])&&n.push(new i(a,o,c,l,d)),(a=u[1])&&n.push(new i(a,l,c,f,d)),(a=u[2])&&n.push(new i(a,o,d,l,s)),(a=u[3])&&n.push(new i(a,l,d,f,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},s.x=function(e){return arguments.length?(this._x=e,this):this._x},s.y=function(e){return arguments.length?(this._y=e,this):this._y},n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"isDateTime",function(){return o}),n.d(t,"MONTHS",function(){return c}),n.d(t,"SHORT_MONTHS",function(){return f}),n.d(t,"DAYS",function(){return s}),n.d(t,"SHORT_DAYS",function(){return l}),n.d(t,"dateTimeExpr",function(){return d});var r=n(0),i=n(6),u=n(2),a=2006;function o(e){return!!e&&(!!e.year||!!e.quarter||!!e.month||!!e.date||!!e.day||!!e.hours||!!e.minutes||!!e.seconds||!!e.milliseconds)}var c=["january","february","march","april","may","june","july","august","september","october","november","december"],f=c.map(function(e){return e.substr(0,3)}),s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=s.map(function(e){return e.substr(0,3)});function d(e,t){void 0===t&&(t=!1);var n=[];if(t&&void 0!==e.day&&Object(u.keys)(e).length>1&&(i.e(i.b.droppedDay(e)),delete(e=Object(u.duplicate)(e)).day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(a):n.push(0),void 0!==e.month){var o=t?function(e){if(Object(r.isNumber)(e))return e-1+"";var t=e.toLowerCase(),n=c.indexOf(t);if(-1!==n)return n+"";var u=t.substr(0,3),a=f.indexOf(u);if(-1!==a)return a+"";throw new Error(i.b.invalidTimeUnit("month",e))}(e.month):e.month;n.push(o)}else if(void 0!==e.quarter){var d=t?function(e){if(Object(r.isNumber)(e))return e>4&&i.e(i.b.invalidTimeUnit("quarter",e)),e-1+"";throw new Error(i.b.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(d+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var h=t?function(e){if(Object(r.isNumber)(e))return e%7+"";var t=e.toLowerCase(),n=s.indexOf(t);if(-1!==n)return n+"";var u=t.substr(0,3),a=l.indexOf(u);if(-1!==a)return a+"";throw new Error(i.b.invalidTimeUnit("day",e))}(e.day):e.day;n.push(h+"+1")}else n.push(1);for(var p=0,m=["hours","minutes","seconds","milliseconds"];p<m.length;p++){var v=m[p];void 0!==e[v]?n.push(e[v]):n.push(0)}return e.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}},,function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function u(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(90),r.base64=n(196),r.EventEmitter=n(197),r.float=n(198),r.inquire=n(91),r.utf8=n(199),r.pool=n(200),r.LongBits=n(201),r.global="undefined"!==typeof window&&window||"undefined"!==typeof e&&e||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"===typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"===typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=u,r.ProtocolError=u("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(68))},function(e,t,n){"use strict";var r,i,u=function(e,t,n){return r=t||a,i=n||v,b(e.trim()).map(y)},a="view",o="[",c="]",f="{",s="}",l=":",d=",",h="@",p=">",m=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function g(e,t,n,r,i){for(var u,a=0,o=e.length;t<o;++t){if(u=e[t],!a&&u===n)return t;i&&i.indexOf(u)>=0?--a:r&&r.indexOf(u)>=0&&++a}return t}function b(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=g(e,i,d,o+f,c+s),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function y(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=g(e,i,c,o,c))===r)throw"Empty between selector: "+e;if(2!==(t=b(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if((e=e.slice(i+1).trim())[0]!==p)throw"Expected '>' after between selector: "+e;if(t=t.map(y),(n=y(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,u={source:r},a=[],p=[0,0],v=0,b=0,y=e.length,x=0;if(e[y-1]===s){if(!((x=e.lastIndexOf(f))>=0))throw"Unmatched right brace: "+e;try{p=function(e){var t=e.split(d);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}(e.substring(x+1,y-1))}catch(_){throw"Invalid throttle specification: "+e}e=e.slice(0,x).trim(),y=e.length,x=0}if(!y)throw e;e[0]===h&&(v=++x);(t=g(e,x,l))<y&&(a.push(e.substring(b,t).trim()),b=x=++t);if((x=g(e,x,o))===y)a.push(e.substring(b,y).trim());else if(a.push(e.substring(b,x).trim()),n=[],(b=++x)===y)throw"Unmatched left bracket: "+e;for(;x<y;){if((x=g(e,x,c))===y)throw"Unmatched left bracket: "+e;if(n.push(e.substring(b,x).trim()),x<y-1&&e[++x]!==o)throw"Expected left bracket: "+e;b=++x}if(!(y=a.length)||m.test(a[y-1]))throw"Invalid event selector: "+e;y>1?(u.type=a[1],v?u.markname=a[0].slice(1):(w=a[0],i.hasOwnProperty(w)?u.marktype=a[0]:u.source=a[0])):u.type=a[0];var w;"!"===u.type.slice(-1)&&(u.consume=!0,u.type=u.type.slice(0,-1));null!=n&&(u.filter=n);p[0]&&(u.throttle=p[0]);p[1]&&(u.debounce=p[1]);return u}(e)}n.d(t,"a",function(){return u})},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(12),u=n(0),a=n(25),o=n(5),c=n(6);function f(e,t){var n,r=e[t];return void 0!==r?((n={})[t]={value:r},n):{}}var s="box-plot";function l(e){return!!e.type}var d=["x","y","color","detail","opacity","size"];n.d(t,"add",function(){return p}),n.d(t,"remove",function(){return m}),n.d(t,"COMPOSITE_MARK_STYLES",function(){return v}),n.d(t,"VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX",function(){return g}),n.d(t,"normalize",function(){return b});var h={};function p(e,t){h[e]=t}function m(e){delete h[e]}var v=["boxWhisker","box","boxMid"],g=r.a({},{box:["size","color","extent"],boxWhisker:["color"],boxMid:["color"]});function b(e,t){var n=Object(i.isMarkDef)(e.mark)?e.mark.type:e.mark,r=h[n];if(r)return r(e,t);throw new Error('Invalid mark type "'+n+'"')}p(s,function(e,t){var n,i,h,p,m=(e=function(e){return r.a({},e,{encoding:Object(a.reduce)(e.encoding,function(e,t,n){return d.indexOf(n)>-1?e[n]=t:c.e(c.b.incompatibleChannel(n,s)),e},{})})}(e)).mark,v=(e.encoding,e.selection),g=(e.projection,r.c(e,["mark","encoding","selection","projection"])),b=void 0;Object(u.isNumber)(t.box.extent)&&(b=t.box.extent),l(m)&&m.extent&&"min-max"===m.extent&&(b=void 0);var y=function(e,t,n){var i=function(e,t){e.mark;var n,i,u=e.encoding;if(e.projection,r.c(e,["mark","encoding","projection"]),"vertical"===t?(i="y",n=u.y):(i="x",n=u.x),n&&n.aggregate){var a=n.aggregate,o=r.c(n,["aggregate"]);a!==s&&c.e("Continuous axis should not have customized aggregation function "+a),n=o}return{continuousAxisChannelDef:n,continuousAxis:i}}(e,t),u=i.continuousAxisChannelDef,f=i.continuousAxis,l=e.encoding,d=void 0===n,h=[{op:"q1",field:u.field,as:"lower_box_"+u.field},{op:"q3",field:u.field,as:"upper_box_"+u.field},{op:"median",field:u.field,as:"mid_box_"+u.field}],p=[];h.push({op:"min",field:u.field,as:(d?"lower_whisker_":"min_")+u.field}),h.push({op:"max",field:u.field,as:(d?"upper_whisker_":"max_")+u.field}),d||(p=[{calculate:"datum.upper_box_"+u.field+" - datum.lower_box_"+u.field,as:"iqr_"+u.field},{calculate:"min(datum.upper_box_"+u.field+" + datum.iqr_"+u.field+" * "+n+", datum.max_"+u.field+")",as:"upper_whisker_"+u.field},{calculate:"max(datum.lower_box_"+u.field+" - datum.iqr_"+u.field+" * "+n+", datum.min_"+u.field+")",as:"lower_whisker_"+u.field}]);var m=[],v=[],g=[],b={};return Object(a.forEach)(l,function(e,t){if(t!==f)if(Object(o.isFieldDef)(e)){if(e.aggregate&&e.aggregate!==s)h.push({op:e.aggregate,field:e.field,as:Object(o.vgField)(e)});else if(void 0===e.aggregate){var n=Object(o.vgField)(e),r=e.bin;if(r){var i=e.field;v.push({bin:r,field:i,as:n})}else if(e.timeUnit){var u=e.timeUnit;i=e.field,g.push({timeUnit:u,field:i,as:n})}m.push(n)}b[t]={field:Object(o.vgField)(e),type:e.type}}else b[t]=l[t]}),{transform:[].concat(v,g,[{aggregate:h,groupby:m}],p),continuousAxisChannelDef:u,continuousAxis:f,encodingWithoutContinuousAxis:b}}(e,function(e){var t=e.mark,n=e.encoding;if(e.projection,r.c(e,["mark","encoding","projection"]),Object(o.isFieldDef)(n.x)&&Object(o.isContinuous)(n.x)){if(Object(o.isFieldDef)(n.y)&&Object(o.isContinuous)(n.y)){if(void 0===n.x.aggregate&&n.y.aggregate===s)return"vertical";if(void 0===n.y.aggregate&&n.x.aggregate===s)return"horizontal";if(n.x.aggregate===s&&n.y.aggregate===s)throw new Error("Both x and y cannot have aggregate");return l(t)&&t.orient?t.orient:"vertical"}return"horizontal"}if(Object(o.isFieldDef)(n.y)&&Object(o.isContinuous)(n.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}(e),b),x=y.transform,w=y.continuousAxisChannelDef,_=y.continuousAxis,A=y.encodingWithoutContinuousAxis,E=(A.color,A.size),O=r.c(A,["color","size"]),k=E?{size:E}:f(t.box,"size"),C={};return w.scale&&(C.scale=w.scale),w.axis&&(C.axis=w.axis),r.a({},g,{transform:x,layer:[{mark:{type:"rule",style:"boxWhisker"},encoding:r.a((n={},n[_]=r.a({field:"lower_whisker_"+w.field,type:w.type},C),n[_+"2"]={field:"lower_box_"+w.field,type:w.type},n),O,f(t.boxWhisker,"color"))},{mark:{type:"rule",style:"boxWhisker"},encoding:r.a((i={},i[_]={field:"upper_box_"+w.field,type:w.type},i[_+"2"]={field:"upper_whisker_"+w.field,type:w.type},i),O,f(t.boxWhisker,"color"))},r.a({},v?{selection:v}:{},{mark:{type:"bar",style:"box"},encoding:r.a((h={},h[_]={field:"lower_box_"+w.field,type:w.type},h[_+"2"]={field:"upper_box_"+w.field,type:w.type},h),A,A.color?{}:f(t.box,"color"),k)}),{mark:{type:"tick",style:"boxMid"},encoding:r.a((p={},p[_]={field:"mid_box_"+w.field,type:w.type},p),O,f(t.boxMid,"color"),k)}]})}),p("error-bar",function(e){e.mark,e.selection,e.projection;var t=e.encoding,n=r.c(e,["mark","selection","projection","encoding"]),i=(t.size,r.c(t,["size"])),u=(t.x2,t.y2,r.c(t,["x2","y2"])),a=(u.x,u.y,r.c(u,["x","y"]));if(!t.x2&&!t.y2)throw new Error("Neither x2 or y2 provided");return r.a({},n,{layer:[{mark:"rule",encoding:i},{mark:"tick",encoding:u},{mark:"tick",encoding:t.x2?r.a({x:t.x2,y:t.y},a):r.a({x:t.x,y:t.y2},a)}]})})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(116)},function(e,t,n){"use strict";var r={},i={},u=34,a=10,o=13;function c(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function f(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function l(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),u=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+s(-t,6):t>9999?"+"+s(t,6):s(t,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(u?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"."+s(u,3)+"Z":i?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"Z":r||n?"T"+s(n,2)+":"+s(r,2)+"Z":"")}var d=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function s(e,t){var c,f=[],s=e.length,l=0,d=0,h=s<=0,p=!1;function m(){if(h)return i;if(p)return p=!1,r;var t,c,f=l;if(e.charCodeAt(f)===u){for(;l++<s&&e.charCodeAt(l)!==u||e.charCodeAt(++l)===u;);return(t=l)>=s?h=!0:(c=e.charCodeAt(l++))===a?p=!0:c===o&&(p=!0,e.charCodeAt(l)===a&&++l),e.slice(f+1,t-1).replace(/""/g,'"')}for(;l<s;){if((c=e.charCodeAt(t=l++))===a)p=!0;else if(c===o)p=!0,e.charCodeAt(l)===a&&++l;else if(c!==n)continue;return e.slice(f,t)}return h=!0,e.slice(f,s)}for(e.charCodeAt(s-1)===a&&--s,e.charCodeAt(s-1)===o&&--s;(c=m())!==i;){for(var v=[];c!==r&&c!==i;)v.push(c),c=m();t&&null==(v=t(v,d++))||f.push(v)}return f}function d(t,n){return t.map(function(t){return n.map(function(e){return p(t[e])}).join(e)})}function h(t){return t.map(p).join(e)}function p(e){return null==e?"":e instanceof Date?l(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=s(e,function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=c(e);return function(r,i){return t(n(r),i,e)}}(e,t):c(e)});return i.columns=r||[],i},parseRows:s,format:function(t,n){return null==n&&(n=f(t)),[n.map(p).join(e)].concat(d(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=f(e)),d(e,t).join("\n")},formatRows:function(e){return e.map(h).join("\n")}}},h=d(","),p=h.parse,m=h.parseRows,v=h.format,g=h.formatBody,b=h.formatRows,y=d("\t"),x=y.parse,w=y.parseRows,_=y.format,A=y.formatBody,E=y.formatRows;function O(e){for(var t in e){var n,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.d(t,"g",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"k",function(){return x}),n.d(t,"l",function(){return w}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return E}),n.d(t,"a",function(){return O})},function(e,t,n){"use strict";function r(e){return!!e.or}function i(e){return!!e.and}function u(e){return!!e.not}function a(e,t){if(u(e))a(e.not,t);else if(i(e))for(var n=0,o=e.and;n<o.length;n++){a(o[n],t)}else if(r(e))for(var c=0,f=e.or;c<f.length;c++){a(f[c],t)}else t(e)}function o(e,t){return u(e)?{not:o(e.not,t)}:i(e)?{and:e.and.map(function(e){return o(e,t)})}:r(e)?{or:e.or.map(function(e){return o(e,t)})}:t(e)}n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return o})},,function(e,t,n){"use strict";e.exports=f;var r=n(55);((f.prototype=Object.create(r.prototype)).constructor=f).className="Field";var i,u=n(41),a=n(56),o=n(33),c=/^required|optional|repeated$/;function f(e,t,n,i,u,f,s){if(o.isObject(i)?(s=u,f=i,i=u=void 0):o.isObject(u)&&(s=f,f=u,u=void 0),r.call(this,e,f),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==u&&!o.isString(u))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=u||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=s}f.fromJSON=function(e,t){return new f(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(f.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),f.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},f.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof u&&"string"===typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof u)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"===typeof this.typeDefault){var e;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},f.d=function(e,t,n,r){return"function"===typeof t?t=o.decorateType(t).name:t&&"object"===typeof t&&(t=o.decorateEnum(t).name),function(i,u){o.decorateType(i.constructor).add(new f(u,e,t,n,{default:r}))}},f._configure=function(e){i=e}},function(e,t,n){"use strict";n.r(t),n.d(t,"isStackOffset",function(){return h}),n.d(t,"STACKABLE_MARKS",function(){return p}),n.d(t,"STACK_BY_DEFAULT_MARKS",function(){return m}),n.d(t,"stack",function(){return v});var r=n(0),i=n(38),u=n(7),a=n(25),o=n(5),c=n(6),f=n(12),s=n(11),l=n(2),d={zero:1,center:1,normalize:1};function h(e){return!!d[e]}var p=[f.BAR,f.AREA,f.RULE,f.POINT,f.CIRCLE,f.SQUARE,f.LINE,f.TEXT,f.TICK],m=[f.BAR,f.AREA];function v(e,t,n){var d=Object(f.isMarkDef)(e)?e.type:e;if(!Object(l.contains)(p,d))return null;var v=function(e){var t=e.x,n=e.y;if(Object(o.isFieldDef)(t)&&Object(o.isFieldDef)(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!==!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if(Object(o.isFieldDef)(t)&&"quantitative"===t.type)return"x";if(Object(o.isFieldDef)(n)&&"quantitative"===n.type)return"y"}}(t);if(!v)return null;var g=t[v],b=Object(o.isStringFieldDef)(g)?Object(o.vgField)(g,{}):void 0,y="x"===v?"y":"x",x=t[y],w=Object(o.isStringFieldDef)(x)?Object(o.vgField)(x,{}):void 0,_=u.NONPOSITION_CHANNELS.reduce(function(e,n){if(Object(a.channelHasField)(t,n)){var i=t[n];(Object(r.isArray)(i)?i:[i]).forEach(function(t){var r=Object(o.getFieldDef)(t);if(!r.aggregate){var i=Object(o.isStringFieldDef)(r)?Object(o.vgField)(r,{}):void 0;(!i||i!==w&&i!==b)&&e.push({channel:n,fieldDef:r})}})}return e},[]);if(0===_.length)return null;var A=void 0;return(A=void 0!==g.stack?g.stack:Object(l.contains)(m,d)&&void 0===n?"zero":n)&&h(A)?(g.scale&&g.scale.type&&g.scale.type!==s.ScaleType.LINEAR&&c.e(c.b.cannotStackNonLinearScale(g.scale.type)),Object(a.channelHasField)(t,v===u.X?u.X2:u.Y2)?(void 0!==g.stack&&c.e(c.b.cannotStackRangedMark(v)),null):(g.aggregate&&!Object(l.contains)(i.SUM_OPS,g.aggregate)&&c.e(c.b.stackNonSummativeAggregate(g.aggregate)),{groupbyChannel:x?y:void 0,fieldChannel:v,impute:Object(f.isPathMark)(d),stackBy:_,offset:A})):null}},function(e,t,n){"use strict";n.r(t);var r=n(21),i=Array.prototype.slice,u=function(e){return e},a=1,o=2,c=3,f=4,s=1e-6;function l(e){return"translate("+(e+.5)+",0)"}function d(e){return"translate(0,"+(e+.5)+")"}function h(){return!this.__axis}function p(e,t){var n=[],r=null,p=null,m=6,v=6,g=3,b=e===a||e===f?-1:1,y=e===f||e===o?"x":"y",x=e===a||e===c?l:d;function w(i){var l=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==p?t.tickFormat?t.tickFormat.apply(t,n):u:p,w=Math.max(m,0)+g,_=t.range(),A=+_[0]+.5,E=+_[_.length-1]+.5,O=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),k=i.selection?i.selection():i,C=k.selectAll(".domain").data([null]),D=k.selectAll(".tick").data(l,t).order(),F=D.exit(),M=D.enter().append("g").attr("class","tick"),S=D.select("line"),j=D.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(M),S=S.merge(M.append("line").attr("stroke","currentColor").attr(y+"2",b*m)),j=j.merge(M.append("text").attr("fill","currentColor").attr(y,b*w).attr("dy",e===a?"0em":e===c?"0.71em":"0.32em")),i!==k&&(C=C.transition(i),D=D.transition(i),S=S.transition(i),j=j.transition(i),F=F.transition(i).attr("opacity",s).attr("transform",function(e){return isFinite(e=O(e))?x(e):this.getAttribute("transform")}),M.attr("opacity",s).attr("transform",function(e){var t=this.parentNode.__axis;return x(t&&isFinite(t=t(e))?t:O(e))})),F.remove(),C.attr("d",e===f||e==o?v?"M"+b*v+","+A+"H0.5V"+E+"H"+b*v:"M0.5,"+A+"V"+E:v?"M"+A+","+b*v+"V0.5H"+E+"V"+b*v:"M"+A+",0.5H"+E),D.attr("opacity",1).attr("transform",function(e){return x(O(e))}),S.attr(y+"2",b*m),j.attr(y,b*w).text(d),k.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===o?"start":e===f?"end":"middle"),k.each(function(){this.__axis=O})}return w.scale=function(e){return arguments.length?(t=e,w):t},w.ticks=function(){return n=i.call(arguments),w},w.tickArguments=function(e){return arguments.length?(n=null==e?[]:i.call(e),w):n.slice()},w.tickValues=function(e){return arguments.length?(r=null==e?null:i.call(e),w):r&&r.slice()},w.tickFormat=function(e){return arguments.length?(p=e,w):p},w.tickSize=function(e){return arguments.length?(m=v=+e,w):m},w.tickSizeInner=function(e){return arguments.length?(m=+e,w):m},w.tickSizeOuter=function(e){return arguments.length?(v=+e,w):v},w.tickPadding=function(e){return arguments.length?(g=+e,w):g},w}function m(e){return p(a,e)}function v(e){return p(o,e)}function g(e){return p(c,e)}function b(e){return p(f,e)}var y=n(36),x=n(9);function w(){x.event.stopImmediatePropagation()}var _=function(){x.event.preventDefault(),x.event.stopImmediatePropagation()},A=function(e){var t=e.document.documentElement,n=Object(x.select)(e).on("dragstart.drag",_,!0);"onselectstart"in t?n.on("selectstart.drag",_,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function E(e,t){var n=e.document.documentElement,r=Object(x.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",_,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var O=function(e){return function(){return e}};function k(e,t,n,r,i,u,a,o,c,f){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=u,this.y=a,this.dx=o,this.dy=c,this._=f}function C(){return!x.event.button}function D(){return this.parentNode}function F(e){return null==e?{x:x.event.x,y:x.event.y}:e}function M(){return"ontouchstart"in this}k.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var S=function(){var e,t,n,r,i=C,u=D,a=F,o=M,c={},f=Object(y.a)("start","drag","end"),s=0,l=0;function d(e){e.on("mousedown.drag",h).filter(o).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!r&&i.apply(this,arguments)){var a=S("mouse",u.apply(this,arguments),x.mouse,this,arguments);a&&(Object(x.select)(x.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),A(x.event.view),w(),n=!1,e=x.event.clientX,t=x.event.clientY,a("start"))}}function p(){if(_(),!n){var r=x.event.clientX-e,i=x.event.clientY-t;n=r*r+i*i>l}c.mouse("drag")}function m(){Object(x.select)(x.event.view).on("mousemove.drag mouseup.drag",null),E(x.event.view,n),_(),c.mouse("end")}function v(){if(i.apply(this,arguments)){var e,t,n=x.event.changedTouches,r=u.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=S(n[e].identifier,r,x.touch,this,arguments))&&(w(),t("start"))}}function g(){var e,t,n=x.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=c[n[e].identifier])&&(_(),t("drag"))}function b(){var e,t,n=x.event.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<i;++e)(t=c[n[e].identifier])&&(w(),t("end"))}function S(e,t,n,r,i){var u,o,l,h=n(t,e),p=f.copy();if(Object(x.customEvent)(new k(d,"beforestart",u,e,s,h[0],h[1],0,0,p),function(){return null!=(x.event.subject=u=a.apply(r,i))&&(o=u.x-h[0]||0,l=u.y-h[1]||0,!0)}))return function a(f){var m,v=h;switch(f){case"start":c[e]=a,m=s++;break;case"end":delete c[e],--s;case"drag":h=n(t,e),m=s}Object(x.customEvent)(new k(d,f,u,e,m,h[0]+o,h[1]+l,h[0]-v[0],h[1]-v[1],p),p.apply,p,[f,r,i])}}return d.filter=function(e){return arguments.length?(i="function"===typeof e?e:O(!!e),d):i},d.container=function(e){return arguments.length?(u="function"===typeof e?e:O(e),d):u},d.subject=function(e){return arguments.length?(a="function"===typeof e?e:O(e),d):a},d.touchable=function(e){return arguments.length?(o="function"===typeof e?e:O(!!e),d):o},d.on=function(){var e=f.on.apply(f,arguments);return e===f?d:e},d.clickDistance=function(e){return arguments.length?(l=(e=+e)*e,d):Math.sqrt(l)},d},j=n(20),T=n(34),N=Object(y.a)("start","end","cancel","interrupt"),B=[],P=0,R=1,z=2,L=3,I=4,U=5,q=6,W=function(e,t,n,r,i,u){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function u(c){var f,s,l,d;if(n.state!==R)return o();for(f in i)if((d=i[f]).name===n.name){if(d.state===L)return Object(T.c)(u);d.state===I?(d.state=q,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[f]):+f<t&&(d.state=q,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[f])}if(Object(T.c)(function(){n.state===L&&(n.state=I,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=z,n.on.call("start",e,e.__data__,n.index,n.group),n.state===z){for(n.state=L,r=new Array(l=n.tween.length),f=0,s=-1;f<l;++f)(d=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=U,1),u=-1,a=r.length;++u<a;)r[u].call(e,i);n.state===U&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){for(var r in n.state=q,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Object(T.d)(function(e){n.state=R,n.timer.restart(u,n.delay,n.time),n.delay<=e&&u(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:N,tween:B,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:P})};function H(e,t){var n=V(e,t);if(n.state>P)throw new Error("too late; already scheduled");return n}function Y(e,t){var n=V(e,t);if(n.state>L)throw new Error("too late; already running");return n}function V(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var G=function(e,t){var n,r,i,u=e.__transition,a=!0;if(u){for(i in t=null==t?null:t+"",u)(n=u[i]).name===t?(r=n.state>z&&n.state<U,n.state=q,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete u[i]):a=!1;a&&delete e.__transition}};function $(e,t,n){var r=e._id;return e.each(function(){var e=Y(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return V(e,r).value[t]}}var X=n(22),J=function(e,t){var n;return("number"===typeof t?j.interpolateNumber:t instanceof X.a?j.interpolateRgb:(n=Object(X.a)(t))?(t=n,j.interpolateRgb):j.interpolateString)(e,t)};var K=x.selection.prototype.constructor;function Q(e){return function(){this.style.removeProperty(e)}}var Z=0;function ee(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function te(e){return Object(x.selection)().transition(e)}function ne(){return++Z}var re=x.selection.prototype;function ie(e){return+e}function ue(e){return e*e}function ae(e){return e*(2-e)}function oe(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function ce(e){return e*e*e}function fe(e){return--e*e*e+1}function se(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ee.prototype=te.prototype={constructor:ee,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(x.selector)(e));for(var r=this._groups,i=r.length,u=new Array(i),a=0;a<i;++a)for(var o,c,f=r[a],s=f.length,l=u[a]=new Array(s),d=0;d<s;++d)(o=f[d])&&(c=e.call(o,o.__data__,d,f))&&("__data__"in o&&(c.__data__=o.__data__),l[d]=c,W(l[d],t,n,d,l,V(o,n)));return new ee(u,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(x.selectorAll)(e));for(var r=this._groups,i=r.length,u=[],a=[],o=0;o<i;++o)for(var c,f=r[o],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var d,h=e.call(c,c.__data__,l,f),p=V(c,n),m=0,v=h.length;m<v;++m)(d=h[m])&&W(d,t,n,m,h,p);u.push(h),a.push(c)}return new ee(u,a,t,n)},filter:function(e){"function"!==typeof e&&(e=Object(x.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,a=t[i],o=a.length,c=r[i]=[],f=0;f<o;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&c.push(u);return new ee(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,u=Math.min(r,i),a=new Array(r),o=0;o<u;++o)for(var c,f=t[o],s=n[o],l=f.length,d=a[o]=new Array(l),h=0;h<l;++h)(c=f[h]||s[h])&&(d[h]=c);for(;o<r;++o)a[o]=t[o];return new ee(a,this._parents,this._name,this._id)},selection:function(){return new K(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ne(),r=this._groups,i=r.length,u=0;u<i;++u)for(var a,o=r[u],c=o.length,f=0;f<c;++f)if(a=o[f]){var s=V(a,t);W(a,e,n,f,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new ee(r,this._parents,e,n)},call:re.call,nodes:re.nodes,node:re.node,size:re.size,empty:re.empty,each:re.each,on:function(e,t){var n=this._id;return arguments.length<2?V(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,u=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?H:Y;return function(){var a=u(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=Object(x.namespace)(e),r="transform"===n?j.interpolateTransformSvg:J;return this.attrTween(e,"function"===typeof t?(n.local?function(e,t,n){var r,i,u;return function(){var a,o,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(o=c+"")?null:a===r&&o===i?u:(i=o,u=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,i,u;return function(){var a,o,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(o=c+"")?null:a===r&&o===i?u:(i=o,u=t(r=a,c));this.removeAttribute(e)}})(n,r,$(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i,u=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===u?null:a===r?i:i=t(r=a,n)}}:function(e,t,n){var r,i,u=n+"";return function(){var a=this.getAttribute(e);return a===u?null:a===r?i:i=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Object(x.namespace)(e);return this.tween(n,(r.local?function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}(e,i)),n}return i._value=t,i}:function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t(n))}}(e,i)),n}return i._value=t,i})(r,t))},style:function(e,t,n){var r="transform"===(e+="")?j.interpolateTransformCss:J;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var u=Object(x.style)(this,e),a=(this.style.removeProperty(e),Object(x.style)(this,e));return u===a?null:u===n&&a===r?i:i=t(n=u,r=a)}}(e,r)).on("end.style."+e,Q(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,u;return function(){var a=Object(x.style)(this,e),o=n(this),c=o+"";return null==o&&(this.style.removeProperty(e),c=o=Object(x.style)(this,e)),a===c?null:a===r&&c===i?u:(i=c,u=t(r=a,o))}}(e,r,$(this,"style."+e,t))).each(function(e,t){var n,r,i,u,a="style."+t,o="end."+a;return function(){var c=Y(this,e),f=c.on,s=null==c.value[a]?u||(u=Q(t)):void 0;f===n&&i===s||(r=(n=f).copy()).on(o,i=s),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,u=n+"";return function(){var a=Object(x.style)(this,e);return a===u?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function u(){var u=t.apply(this,arguments);return u!==i&&(r=(i=u)&&function(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}(e,u,n)),r}return u._value=t,u}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}($(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=V(this.node(),n).tween,u=0,a=i.length;u<a;++u)if((r=i[u]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=Y(this,e),u=i.tween;if(u!==n)for(var a=0,o=(r=n=u).length;a<o;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var u=Y(this,e),a=u.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=o;break}c===f&&i.push(o)}u.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){H(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){H(this,e).delay=t}})(t,e)):V(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){Y(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Y(this,e).duration=t}})(t,e)):V(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Y(this,e).ease=t}}(t,e)):V(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(u,a){var o={value:a},c={value:function(){0===--i&&u()}};n.each(function(){var n=Y(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),n.on=t})})}};var le=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),de=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),he=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),pe=Math.PI,me=pe/2;function ve(e){return 1-Math.cos(e*me)}function ge(e){return Math.sin(e*me)}function be(e){return(1-Math.cos(pe*e))/2}function ye(e){return Math.pow(2,10*e-10)}function xe(e){return 1-Math.pow(2,-10*e)}function we(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function _e(e){return 1-Math.sqrt(1-e*e)}function Ae(e){return Math.sqrt(1- --e*e)}function Ee(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Oe=4/11,ke=6/11,Ce=8/11,De=.75,Fe=9/11,Me=10/11,Se=.9375,je=21/22,Te=63/64,Ne=1/Oe/Oe;function Be(e){return 1-Pe(1-e)}function Pe(e){return(e=+e)<Oe?Ne*e*e:e<Ce?Ne*(e-=ke)*e+De:e<Me?Ne*(e-=Fe)*e+Se:Ne*(e-=je)*e+Te}function Re(e){return((e*=2)<=1?1-Pe(1-e):Pe(e-1)+1)/2}var ze=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Le=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Ie=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Ue=2*Math.PI,qe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ue);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ue)},i.period=function(n){return e(t,n)},i}(1,.3),We=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ue);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ue)},i.period=function(n){return e(t,n)},i}(1,.3),He=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ue);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ue)},i.period=function(n){return e(t,n)},i}(1,.3),Ye={time:null,delay:0,duration:250,ease:se};function Ve(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Ye.time=Object(T.b)(),Ye;return n}x.selection.prototype.interrupt=function(e){return this.each(function(){G(this,e)})},x.selection.prototype.transition=function(e){var t,n;e instanceof ee?(t=e._id,e=e._name):(t=ne(),(n=Ye).time=Object(T.b)(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var a,o=r[u],c=o.length,f=0;f<c;++f)(a=o[f])&&W(a,e,t,f,o,n||Ve(a,t));return new ee(r,this._parents,e,t)};var Ge=[null],$e=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>R&&n.name===t)return new ee([[e]],Ge,t,+r);return null},Xe=function(e){return function(){return e}},Je=function(e,t,n){this.target=e,this.type=t,this.selection=n};function Ke(){x.event.stopImmediatePropagation()}var Qe=function(){x.event.preventDefault(),x.event.stopImmediatePropagation()},Ze={name:"drag"},et={name:"space"},tt={name:"handle"},nt={name:"center"},rt={name:"x",handles:["e","w"].map(lt),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},it={name:"y",handles:["n","s"].map(lt),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},ut={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(lt),input:function(e){return e},output:function(e){return e}},at={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ot={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ct={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ft={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},st={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function lt(e){return{type:e}}function dt(){return!x.event.button}function ht(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function pt(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function mt(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function vt(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function gt(){return xt(rt)}function bt(){return xt(it)}var yt=function(){return xt(ut)};function xt(e){var t,n=ht,r=dt,i=Object(y.a)(a,"start","brush","end"),u=6;function a(t){var n=t.property("__brush",l).selectAll(".overlay").data([lt("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",at.overlay).merge(n).each(function(){var e=pt(this).extent;Object(x.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([lt("selection")]).enter().append("rect").attr("class","selection").attr("cursor",at.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return at[e.type]}),t.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function o(){var e=Object(x.select)(this),t=pt(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-u/2:t[0][0]-u/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-u/2:t[0][1]-u/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+u:u}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+u:u})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(e,t){return e.__brush.emitter||new f(e,t)}function f(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function s(){if(x.event.touches){if(x.event.changedTouches.length<x.event.touches.length)return Qe()}else if(t)return;if(r.apply(this,arguments)){var n,i,u,a,f,s,l,d,h,p,m,v,g,b=this,y=x.event.target.__data__.type,w="selection"===(x.event.metaKey?y="overlay":y)?Ze:x.event.altKey?nt:tt,_=e===it?null:ft[y],O=e===rt?null:st[y],k=pt(b),C=k.extent,D=k.selection,F=C[0][0],M=C[0][1],S=C[1][0],j=C[1][1],T=_&&O&&x.event.shiftKey,N=Object(x.mouse)(b),B=N,P=c(b,arguments).beforestart();"overlay"===y?k.selection=D=[[n=e===it?F:N[0],u=e===rt?M:N[1]],[f=e===it?S:n,l=e===rt?j:u]]:(n=D[0][0],u=D[0][1],f=D[1][0],l=D[1][1]),i=n,a=u,s=f,d=l;var R=Object(x.select)(b).attr("pointer-events","none"),z=R.selectAll(".overlay").attr("cursor",at[y]);if(x.event.touches)R.on("touchmove.brush",I,!0).on("touchend.brush touchcancel.brush",q,!0);else{var L=Object(x.select)(x.event.view).on("keydown.brush",function(){switch(x.event.keyCode){case 16:T=_&&O;break;case 18:w===tt&&(_&&(f=s-h*_,n=i+h*_),O&&(l=d-p*O,u=a+p*O),w=nt,U());break;case 32:w!==tt&&w!==nt||(_<0?f=s-h:_>0&&(n=i-h),O<0?l=d-p:O>0&&(u=a-p),w=et,z.attr("cursor",at.selection),U());break;default:return}Qe()},!0).on("keyup.brush",function(){switch(x.event.keyCode){case 16:T&&(v=g=T=!1,U());break;case 18:w===nt&&(_<0?f=s:_>0&&(n=i),O<0?l=d:O>0&&(u=a),w=tt,U());break;case 32:w===et&&(x.event.altKey?(_&&(f=s-h*_,n=i+h*_),O&&(l=d-p*O,u=a+p*O),w=nt):(_<0?f=s:_>0&&(n=i),O<0?l=d:O>0&&(u=a),w=tt),z.attr("cursor",at[y]),U());break;default:return}Qe()},!0).on("mousemove.brush",I,!0).on("mouseup.brush",q,!0);A(x.event.view)}Ke(),G(b),o.call(b),P.start()}function I(){var e=Object(x.mouse)(b);!T||v||g||(Math.abs(e[0]-B[0])>Math.abs(e[1]-B[1])?g=!0:v=!0),B=e,m=!0,Qe(),U()}function U(){var e;switch(h=B[0]-N[0],p=B[1]-N[1],w){case et:case Ze:_&&(h=Math.max(F-n,Math.min(S-f,h)),i=n+h,s=f+h),O&&(p=Math.max(M-u,Math.min(j-l,p)),a=u+p,d=l+p);break;case tt:_<0?(h=Math.max(F-n,Math.min(S-n,h)),i=n+h,s=f):_>0&&(h=Math.max(F-f,Math.min(S-f,h)),i=n,s=f+h),O<0?(p=Math.max(M-u,Math.min(j-u,p)),a=u+p,d=l):O>0&&(p=Math.max(M-l,Math.min(j-l,p)),a=u,d=l+p);break;case nt:_&&(i=Math.max(F,Math.min(S,n-h*_)),s=Math.max(F,Math.min(S,f+h*_))),O&&(a=Math.max(M,Math.min(j,u-p*O)),d=Math.max(M,Math.min(j,l+p*O)))}s<i&&(_*=-1,e=n,n=f,f=e,e=i,i=s,s=e,y in ot&&z.attr("cursor",at[y=ot[y]])),d<a&&(O*=-1,e=u,u=l,l=e,e=a,a=d,d=e,y in ct&&z.attr("cursor",at[y=ct[y]])),k.selection&&(D=k.selection),v&&(i=D[0][0],s=D[1][0]),g&&(a=D[0][1],d=D[1][1]),D[0][0]===i&&D[0][1]===a&&D[1][0]===s&&D[1][1]===d||(k.selection=[[i,a],[s,d]],o.call(b),P.brush())}function q(){if(Ke(),x.event.touches){if(x.event.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500),R.on("touchmove.brush touchend.brush touchcancel.brush",null)}else E(x.event.view,m),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),z.attr("cursor",at.overlay),k.selection&&(D=k.selection),mt(D)&&(k.selection=null,o.call(b)),P.end()}}function l(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var t=this,r=t.__brush,i=c(t,arguments),u=r.selection,a=e.input("function"===typeof n?n.apply(this,arguments):n,r.extent),f=Object(j.interpolate)(u,a);function s(e){r.selection=1===e&&mt(a)?null:f(e),o.call(t),i.brush()}return u&&a?s:s(1)}):t.each(function(){var t=arguments,r=this.__brush,i=e.input("function"===typeof n?n.apply(this,t):n,r.extent),u=c(this,t).beforestart();G(this),r.selection=null==i||mt(i)?null:i,o.call(this),u.start().brush().end()})},f.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(x.customEvent)(new Je(a,t,e.output(this.state.selection)),i.apply,i,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n="function"===typeof e?e:Xe([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(r="function"===typeof e?e:Xe(!!e),a):r},a.handleSize=function(e){return arguments.length?(u=+e,a):u},a.on=function(){var e=i.on.apply(i,arguments);return e===i?a:e},a}var wt=Math.cos,_t=Math.sin,At=Math.PI,Et=At/2,Ot=2*At,kt=Math.max;var Ct=function(){var e=0,t=null,n=null,i=null;function u(u){var a,o,c,f,s,l,d=u.length,h=[],p=Object(r.s)(d),m=[],v=[],g=v.groups=new Array(d),b=new Array(d*d);for(a=0,s=-1;++s<d;){for(o=0,l=-1;++l<d;)o+=u[s][l];h.push(o),m.push(Object(r.s)(d)),a+=o}for(t&&p.sort(function(e,n){return t(h[e],h[n])}),n&&m.forEach(function(e,t){e.sort(function(e,r){return n(u[t][e],u[t][r])})}),f=(a=kt(0,Ot-e*d)/a)?e:Ot/d,o=0,s=-1;++s<d;){for(c=o,l=-1;++l<d;){var y=p[s],x=m[y][l],w=u[y][x],_=o,A=o+=w*a;b[x*d+y]={index:y,subindex:x,startAngle:_,endAngle:A,value:w}}g[y]={index:y,startAngle:c,endAngle:o,value:h[y]},o+=f}for(s=-1;++s<d;)for(l=s-1;++l<d;){var E=b[l*d+s],O=b[s*d+l];(E.value||O.value)&&v.push(E.value<O.value?{source:O,target:E}:{source:E,target:O})}return i?v.sort(i):v}return u.padAngle=function(t){return arguments.length?(e=kt(0,t),u):e},u.sortGroups=function(e){return arguments.length?(t=e,u):t},u.sortSubgroups=function(e){return arguments.length?(n=e,u):n},u.sortChords=function(e){return arguments.length?(null==e?i=null:(t=e,i=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,u):i&&i._;var t},u},Dt=Array.prototype.slice,Ft=function(e){return function(){return e}},Mt=n(32);function St(e){return e.source}function jt(e){return e.target}function Tt(e){return e.radius}function Nt(e){return e.startAngle}function Bt(e){return e.endAngle}var Pt=function(){var e=St,t=jt,n=Tt,r=Nt,i=Bt,u=null;function a(){var a,o=Dt.call(arguments),c=e.apply(this,o),f=t.apply(this,o),s=+n.apply(this,(o[0]=c,o)),l=r.apply(this,o)-Et,d=i.apply(this,o)-Et,h=s*wt(l),p=s*_t(l),m=+n.apply(this,(o[0]=f,o)),v=r.apply(this,o)-Et,g=i.apply(this,o)-Et;if(u||(u=a=Object(Mt.a)()),u.moveTo(h,p),u.arc(0,0,s,l,d),l===v&&d===g||(u.quadraticCurveTo(0,0,m*wt(v),m*_t(v)),u.arc(0,0,m,v,g)),u.quadraticCurveTo(0,0,h,p),u.closePath(),a)return u=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"===typeof e?e:Ft(+e),a):n},a.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Ft(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:Ft(+e),a):i},a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(e){return arguments.length?(t=e,a):t},a.context=function(e){return arguments.length?(u=null==e?null:e,a):u},a};function Rt(){}function zt(e,t){var n=new Rt;if(e instanceof Rt)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,u=e.length;if(null==t)for(;++i<u;)n.set(i,e[i]);else for(;++i<u;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}Rt.prototype=zt.prototype={constructor:Rt,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var Lt=zt,It=function(){var e,t,n,r=[],i=[];function u(n,i,a,o){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var c,f,s,l=-1,d=n.length,h=r[i++],p=Lt(),m=a();++l<d;)(s=p.get(c=h(f=n[l])+""))?s.push(f):p.set(c,[f]);return p.each(function(e,t){o(m,t,u(e,i,a,o))}),m}return n={object:function(e){return u(e,0,Ut,qt)},map:function(e){return u(e,0,Wt,Ht)},entries:function(e){return function e(n,u){if(++u>r.length)return n;var a,o=i[u-1];return null!=t&&u>=r.length?a=n.entries():(a=[],n.each(function(t,n){a.push({key:n,values:e(t,u)})})),null!=o?a.sort(function(e,t){return o(e.key,t.key)}):a}(u(e,0,Wt,Ht),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function Ut(){return{}}function qt(e,t,n){e[t]=n}function Wt(){return Lt()}function Ht(e,t,n){e.set(t,n)}function Yt(){}var Vt=Lt.prototype;function Gt(e,t){var n=new Yt;if(e instanceof Yt)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}Yt.prototype=Gt.prototype={constructor:Yt,has:Vt.has,add:function(e){return this["$"+(e+="")]=e,this},remove:Vt.remove,clear:Vt.clear,values:Vt.keys,size:Vt.size,empty:Vt.empty,each:Vt.each};var $t=Gt,Xt=function(e){var t=[];for(var n in e)t.push(n);return t},Jt=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Kt=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Qt=n(61),Zt=n(49);function en(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}var tn=function(e,t){return fetch(e,t).then(en)};function nn(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}var rn=function(e,t){return fetch(e,t).then(nn)};function un(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var an=function(e,t){return fetch(e,t).then(un)};function on(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),an(t,n).then(function(t){return e(t,r)})}}function cn(e,t,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=Object(Zt.g)(e);return an(t,n).then(function(e){return i.parse(e,r)})}var fn=on(Zt.e),sn=on(Zt.k),ln=function(e,t){return new Promise(function(n,r){var i=new Image;for(var u in t)i[u]=t[u];i.onerror=r,i.onload=function(){n(i)},i.src=e})};function dn(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}var hn=function(e,t){return fetch(e,t).then(dn)};function pn(e){return function(t,n){return an(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var mn=pn("application/xml"),vn=pn("text/html"),gn=pn("image/svg+xml"),bn=function(e,t){var n;function r(){var r,i,u=n.length,a=0,o=0;for(r=0;r<u;++r)a+=(i=n[r]).x,o+=i.y;for(a=a/u-e,o=o/u-t,r=0;r<u;++r)(i=n[r]).x-=a,i.y-=o}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},yn=function(e){return function(){return e}},xn=function(){return 1e-6*(Math.random()-.5)},wn=n(42);function _n(e){return e.x+e.vx}function An(e){return e.y+e.vy}var En=function(e){var t,n,r=1,i=1;function u(){for(var e,u,o,c,f,s,l,d=t.length,h=0;h<i;++h)for(u=Object(wn.a)(t,_n,An).visitAfter(a),e=0;e<d;++e)o=t[e],s=n[o.index],l=s*s,c=o.x+o.vx,f=o.y+o.vy,u.visit(p);function p(e,t,n,i,u){var a=e.data,d=e.r,h=s+d;if(!a)return t>c+h||i<c-h||n>f+h||u<f-h;if(a.index>o.index){var p=c-a.x-a.vx,m=f-a.y-a.vy,v=p*p+m*m;v<h*h&&(0===p&&(v+=(p=xn())*p),0===m&&(v+=(m=xn())*m),v=(h-(v=Math.sqrt(v)))/v*r,o.vx+=(p*=v)*(h=(d*=d)/(l+d)),o.vy+=(m*=v)*h,a.vx-=p*(h=1-h),a.vy-=m*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function o(){if(t){var r,i,u=t.length;for(n=new Array(u),r=0;r<u;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=yn(null==e?1:+e)),u.initialize=function(e){t=e,o()},u.iterations=function(e){return arguments.length?(i=+e,u):i},u.strength=function(e){return arguments.length?(r=+e,u):r},u.radius=function(t){return arguments.length?(e="function"===typeof t?t:yn(+t),o(),u):e},u};function On(e){return e.index}function kn(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Cn=function(e){var t,n,r,i,u,a=On,o=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=yn(30),f=1;function s(r){for(var i=0,a=e.length;i<f;++i)for(var o,c,s,l,d,h,p,m=0;m<a;++m)c=(o=e[m]).source,l=(s=o.target).x+s.vx-c.x-c.vx||xn(),d=s.y+s.vy-c.y-c.vy||xn(),l*=h=((h=Math.sqrt(l*l+d*d))-n[m])/h*r*t[m],d*=h,s.vx-=l*(p=u[m]),s.vy-=d*p,c.vx+=l*(p=1-p),c.vy+=d*p}function l(){if(r){var o,c,f=r.length,s=e.length,l=Lt(r,a);for(o=0,i=new Array(f);o<s;++o)(c=e[o]).index=o,"object"!==typeof c.source&&(c.source=kn(l,c.source)),"object"!==typeof c.target&&(c.target=kn(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(o=0,u=new Array(s);o<s;++o)c=e[o],u[o]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);t=new Array(s),d(),n=new Array(s),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+o(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),s.initialize=function(e){r=e,l()},s.links=function(t){return arguments.length?(e=t,l(),s):e},s.id=function(e){return arguments.length?(a=e,s):a},s.iterations=function(e){return arguments.length?(f=+e,s):f},s.strength=function(e){return arguments.length?(o="function"===typeof e?e:yn(+e),d(),s):o},s.distance=function(e){return arguments.length?(c="function"===typeof e?e:yn(+e),h(),s):c},s};function Dn(e){return e.x}function Fn(e){return e.y}var Mn=10,Sn=Math.PI*(3-Math.sqrt(5)),jn=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),u=0,a=.6,o=Lt(),c=Object(T.d)(s),f=Object(y.a)("tick","end");function s(){l(),f.call("tick",t),n<r&&(c.stop(),f.call("end",t))}function l(r){var c,f,s=e.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(n+=(u-n)*i,o.each(function(e){e(n)}),c=0;c<s;++c)null==(f=e[c]).fx?f.x+=f.vx*=a:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=a:(f.y=f.fy,f.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,isNaN(t.fx)||(t.x=t.fx),isNaN(t.fy)||(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=Mn*Math.sqrt(n),u=n*Sn;t.x=i*Math.cos(u),t.y=i*Math.sin(u)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:l,restart:function(){return c.restart(s),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),o.each(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(u=+e,t):u},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?o.remove(e):o.set(e,h(n)),t):o.get(e)},find:function(t,n,r){var i,u,a,o,c,f=0,s=e.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)(a=(i=t-(o=e[f]).x)*i+(u=n-o.y)*u)<r&&(c=o,r=a);return c},on:function(e,n){return arguments.length>1?(f.on(e,n),t):f.on(e)}}},Tn=function(){var e,t,n,r,i=yn(-30),u=1,a=1/0,o=.81;function c(r){var i,u=e.length,a=Object(wn.a)(e,Dn,Fn).visitAfter(s);for(n=r,i=0;i<u;++i)t=e[i],a.visit(l)}function f(){if(e){var t,n,u=e.length;for(r=new Array(u),t=0;t<u;++t)n=e[t],r[n.index]=+i(n,t,e)}}function s(e){var t,n,i,u,a,o=0,c=0;if(e.length){for(i=u=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(o+=t.value,c+=n,i+=n*t.x,u+=n*t.y);e.x=i/c,e.y=u/c}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=r[t.data.index]}while(t=t.next)}e.value=o}function l(e,i,c,f){if(!e.value)return!0;var s=e.x-t.x,l=e.y-t.y,d=f-i,h=s*s+l*l;if(d*d/o<h)return h<a&&(0===s&&(h+=(s=xn())*s),0===l&&(h+=(l=xn())*l),h<u&&(h=Math.sqrt(u*h)),t.vx+=s*e.value*n/h,t.vy+=l*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===s&&(h+=(s=xn())*s),0===l&&(h+=(l=xn())*l),h<u&&(h=Math.sqrt(u*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=s*d,t.vy+=l*d)}while(e=e.next)}}return c.initialize=function(t){e=t,f()},c.strength=function(e){return arguments.length?(i="function"===typeof e?e:yn(+e),f(),c):i},c.distanceMin=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c},Nn=function(e,t,n){var r,i,u,a=yn(.1);function o(e){for(var a=0,o=r.length;a<o;++a){var c=r[a],f=c.x-t||1e-6,s=c.y-n||1e-6,l=Math.sqrt(f*f+s*s),d=(u[a]-l)*i[a]*e/l;c.vx+=f*d,c.vy+=s*d}}function c(){if(r){var t,n=r.length;for(i=new Array(n),u=new Array(n),t=0;t<n;++t)u[t]=+e(r[t],t,r),i[t]=isNaN(u[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=yn(+e)),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e,c()},o.strength=function(e){return arguments.length?(a="function"===typeof e?e:yn(+e),c(),o):a},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:yn(+t),c(),o):e},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(e){return arguments.length?(n=+e,o):n},o},Bn=function(e){var t,n,r,i=yn(.1);function u(e){for(var i,u=0,a=t.length;u<a;++u)(i=t[u]).vx+=(r[u]-i.x)*n[u]*e}function a(){if(t){var u,a=t.length;for(n=new Array(a),r=new Array(a),u=0;u<a;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return"function"!==typeof e&&(e=yn(null==e?0:+e)),u.initialize=function(e){t=e,a()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:yn(+e),a(),u):i},u.x=function(t){return arguments.length?(e="function"===typeof t?t:yn(+t),a(),u):e},u},Pn=function(e){var t,n,r,i=yn(.1);function u(e){for(var i,u=0,a=t.length;u<a;++u)(i=t[u]).vy+=(r[u]-i.y)*n[u]*e}function a(){if(t){var u,a=t.length;for(n=new Array(a),r=new Array(a),u=0;u<a;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return"function"!==typeof e&&(e=yn(null==e?0:+e)),u.initialize=function(e){t=e,a()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:yn(+e),a(),u):i},u.y=function(t){return arguments.length?(e="function"===typeof t?t:yn(+t),a(),u):e},u},Rn=n(19),zn=n(28),Ln=n(31),In=function(e){for(var t,n=-1,r=e.length,i=e[r-1],u=0;++n<r;)t=i,i=e[n],u+=t[1]*i[0]-t[0]*i[1];return u/2},Un=function(e){for(var t,n,r=-1,i=e.length,u=0,a=0,o=e[i-1],c=0;++r<i;)t=o,o=e[r],c+=n=t[0]*o[1]-o[0]*t[1],u+=(t[0]+o[0])*n,a+=(t[1]+o[1])*n;return[u/(c*=3),a/c]},qn=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function Wn(e,t){return e[0]-t[0]||e[1]-t[1]}function Hn(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&qn(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var Yn=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Wn),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var u=Hn(r),a=Hn(i),o=a[0]===u[0],c=a[a.length-1]===u[u.length-1],f=[];for(t=u.length-1;t>=0;--t)f.push(e[r[u[t]][2]]);for(t=+o;t<a.length-c;++t)f.push(e[r[a[t]][2]]);return f},Vn=function(e,t){for(var n,r,i=e.length,u=e[i-1],a=t[0],o=t[1],c=u[0],f=u[1],s=!1,l=0;l<i;++l)n=(u=e[l])[0],(r=u[1])>o!==f>o&&a<(c-n)*(o-r)/(f-r)+n&&(s=!s),c=n,f=r;return s},Gn=function(e){for(var t,n,r=-1,i=e.length,u=e[i-1],a=u[0],o=u[1],c=0;++r<i;)t=a,n=o,t-=a=(u=e[r])[0],n-=o=u[1],c+=Math.sqrt(t*t+n*n);return c},$n=function(){return Math.random()},Xn=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}($n),Jn=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var u;if(null!=r)u=r,r=null;else do{r=2*t()-1,u=2*t()-1,i=r*r+u*u}while(!i||i>1);return e+n*u*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}($n),Kn=function e(t){function n(){var e=Jn.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}($n),Qn=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}($n),Zn=function e(t){function n(e){var n=Qn.source(t)(e);return function(){return n()/e}}return n.source=e,n}($n),er=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}($n);function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nr(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var rr=Array.prototype,ir=rr.map,ur=rr.slice,ar={name:"implicit"};function or(){var e=Lt(),t=[],n=[],r=ar;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==ar)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=Lt();for(var r,u,a=-1,o=n.length;++a<o;)e.has(u=(r=n[a])+"")||e.set(u,t.push(r));return i},i.range=function(e){return arguments.length?(n=ur.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return or(t,n).unknown(r)},tr.apply(i,arguments),i}function cr(){var e,t,n=or().unknown(void 0),i=n.domain,u=n.range,a=[0,1],o=!1,c=0,f=0,s=.5;function l(){var n=i().length,l=a[1]<a[0],d=a[l-0],h=a[1-l];e=(h-d)/Math.max(1,n-c+2*f),o&&(e=Math.floor(e)),d+=(h-d-e*(n-c))*s,t=e*(1-c),o&&(d=Math.round(d),t=Math.round(t));var p=Object(r.s)(n).map(function(t){return d+e*t});return u(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),l()):i()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],l()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(c=Math.min(1,f=+e),l()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),l()):c},n.paddingOuter=function(e){return arguments.length?(f=+e,l()):f},n.align=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.copy=function(){return cr(i(),a).round(o).paddingInner(c).paddingOuter(f).align(s)},tr.apply(l(),arguments)}function fr(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(cr.apply(null,arguments).paddingInner(1))}var sr=function(e){return function(){return e}},lr=function(e){return+e},dr=[0,1];function hr(e){return e}function pr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sr(isNaN(t)?NaN:.5)}function mr(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function vr(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=pr(i,r),u=n(a,u)):(r=pr(r,i),u=n(u,a)),function(e){return u(r(e))}}function gr(e,t,n){var i=Math.min(e.length,t.length)-1,u=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)u[o]=pr(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Object(r.b)(e,t,1,i)-1;return a[n](u[n](t))}}function br(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yr(){var e,t,n,r,i,u,a=dr,o=dr,c=j.interpolate,f=hr;function s(){return r=Math.min(a.length,o.length)>2?gr:vr,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),j.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=ir.call(e,lr),f===hr||(f=mr(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=ur.call(e),s()):o.slice()},l.rangeRound=function(e){return o=ur.call(e),c=j.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?mr(a):hr,l):f!==hr},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function xr(e,t){return yr()(e,t)}var wr=function(e,t,n,i){var u,a=Object(r.A)(e,t,n);switch((i=Object(Rn.formatSpecifier)(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(u=Object(Rn.precisionPrefix)(a,o))||(i.precision=u),Object(Rn.formatPrefix)(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(u=Object(Rn.precisionRound)(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=u-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(u=Object(Rn.precisionFixed)(a))||(i.precision=u-2*("%"===i.type))}return Object(Rn.format)(i)};function _r(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.B)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return wr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,u=t(),a=0,o=u.length-1,c=u[a],f=u[o];return f<c&&(i=c,c=f,f=i,i=a,a=o,o=i),(i=Object(r.z)(c,f,n))>0?(c=Math.floor(c/i)*i,f=Math.ceil(f/i)*i,i=Object(r.z)(c,f,n)):i<0&&(c=Math.ceil(c*i)/i,f=Math.floor(f*i)/i,i=Object(r.z)(c,f,n)),i>0?(u[a]=Math.floor(c/i)*i,u[o]=Math.ceil(f/i)*i,t(u)):i<0&&(u[a]=Math.ceil(c*i)/i,u[o]=Math.floor(f*i)/i,t(u)),e},e}function Ar(){var e=xr(hr,hr);return e.copy=function(){return br(e,Ar())},tr.apply(e,arguments),_r(e)}function Er(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=ir.call(t,lr),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Er(e).unknown(t)},e=arguments.length?ir.call(e,lr):[0,1],_r(n)}var Or=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function kr(e){return Math.log(e)}function Cr(e){return Math.exp(e)}function Dr(e){return-Math.log(-e)}function Fr(e){return-Math.exp(-e)}function Mr(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sr(e){return function(t){return-e(-t)}}function jr(e){var t,n,i=e(kr,Cr),u=i.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?Mr:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),u()[0]<0?(t=Sr(t),n=Sr(n),e(Dr,Fr)):e(kr,Cr),i}return i.base=function(e){return arguments.length?(a=+e,o()):a},i.domain=function(e){return arguments.length?(u(e),o()):u()},i.ticks=function(e){var i,o=u(),c=o[0],f=o[o.length-1];(i=f<c)&&(h=c,c=f,f=h);var s,l,d,h=t(c),p=t(f),m=null==e?10:+e,v=[];if(!(a%1)&&p-h<m){if(h=Math.round(h)-1,p=Math.round(p)+1,c>0){for(;h<p;++h)for(l=1,s=n(h);l<a;++l)if(!((d=s*l)<c)){if(d>f)break;v.push(d)}}else for(;h<p;++h)for(l=a-1,s=n(h);l>=1;--l)if(!((d=s*l)<c)){if(d>f)break;v.push(d)}}else v=Object(r.B)(h,p,Math.min(p-h,m)).map(n);return i?v.reverse():v},i.tickFormat=function(e,r){if(null==r&&(r=10===a?".0e":","),"function"!==typeof r&&(r=Object(Rn.format)(r)),e===1/0)return r;null==e&&(e=10);var u=Math.max(1,a*e/i.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*a<a-.5&&(i*=a),i<=u?r(e):""}},i.nice=function(){return u(Or(u(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},i}function Tr(){var e=jr(yr()).domain([1,10]);return e.copy=function(){return br(e,Tr()).base(e.base())},tr.apply(e,arguments),e}function Nr(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Br(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pr(e){var t=1,n=e(Nr(t),Br(t));return n.constant=function(n){return arguments.length?e(Nr(t=+n),Br(t)):t},_r(n)}function Rr(){var e=Pr(yr());return e.copy=function(){return br(e,Rr()).constant(e.constant())},tr.apply(e,arguments)}function zr(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lr(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ir(e){return e<0?-e*e:e*e}function Ur(e){var t=e(hr,hr),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(hr,hr):.5===n?e(Lr,Ir):e(zr(n),zr(1/n)):n},_r(t)}function qr(){var e=Ur(yr());return e.copy=function(){return br(e,qr()).exponent(e.exponent())},tr.apply(e,arguments),e}function Wr(){return qr.apply(null,arguments).exponent(.5)}function Hr(){var e,t=[],n=[],i=[];function u(){var e=0,u=Math.max(1,n.length);for(i=new Array(u-1);++e<u;)i[e-1]=Object(r.r)(t,e/u);return a}function a(t){return isNaN(t=+t)?e:n[Object(r.b)(i,t)]}return a.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,i=0,a=e.length;i<a;++i)null==(n=e[i])||isNaN(n=+n)||t.push(n);return t.sort(r.a),u()},a.range=function(e){return arguments.length?(n=ur.call(e),u()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return Hr().domain(t).range(n).unknown(e)},tr.apply(a,arguments)}function Yr(){var e,t=0,n=1,i=1,u=[.5],a=[0,1];function o(t){return t<=t?a[Object(r.b)(u,t,0,i)]:e}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*n-(e-i)*t)/(i+1);return o}return o.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],c()):[t,n]},o.range=function(e){return arguments.length?(i=(a=ur.call(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var r=a.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,u[0]]:r>=i?[u[i-1],n]:[u[r-1],u[r]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return Yr().domain([t,n]).range(a).unknown(e)},tr.apply(_r(o),arguments)}function Vr(){var e,t=[.5],n=[0,1],i=1;function u(u){return u<=u?n[Object(r.b)(t,u,0,i)]:e}return u.domain=function(e){return arguments.length?(t=ur.call(e),i=Math.min(t.length,n.length-1),u):t.slice()},u.range=function(e){return arguments.length?(n=ur.call(e),i=Math.min(t.length,n.length-1),u):n.slice()},u.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},u.unknown=function(t){return arguments.length?(e=t,u):e},u.copy=function(){return Vr().domain(t).range(n).unknown(e)},tr.apply(u,arguments)}var Gr=n(4),$r=n(23),Xr=1e3,Jr=60*Xr,Kr=60*Jr,Qr=24*Kr,Zr=7*Qr,ei=30*Qr,ti=365*Qr;function ni(e){return new Date(e)}function ri(e){return e instanceof Date?+e:+new Date(+e)}function ii(e,t,n,i,u,a,o,c,f){var s=xr(hr,hr),l=s.invert,d=s.domain,h=f(".%L"),p=f(":%S"),m=f("%I:%M"),v=f("%I %p"),g=f("%a %d"),b=f("%b %d"),y=f("%B"),x=f("%Y"),w=[[o,1,Xr],[o,5,5*Xr],[o,15,15*Xr],[o,30,30*Xr],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[u,1,Kr],[u,3,3*Kr],[u,6,6*Kr],[u,12,12*Kr],[i,1,Qr],[i,2,2*Qr],[n,1,Zr],[t,1,ei],[t,3,3*ei],[e,1,ti]];function _(r){return(o(r)<r?h:a(r)<r?p:u(r)<r?m:i(r)<r?v:t(r)<r?n(r)<r?g:b:e(r)<r?y:x)(r)}function A(t,n,i,u){if(null==t&&(t=10),"number"===typeof t){var a=Math.abs(i-n)/t,o=Object(r.e)(function(e){return e[2]}).right(w,a);o===w.length?(u=Object(r.A)(n/ti,i/ti,t),t=e):o?(u=(o=w[a/w[o-1][2]<w[o][2]/a?o-1:o])[1],t=o[0]):(u=Math.max(Object(r.A)(n,i,t),1),t=c)}return null==u?t:t.every(u)}return s.invert=function(e){return new Date(l(e))},s.domain=function(e){return arguments.length?d(ir.call(e,ri)):d().map(ni)},s.ticks=function(e,t){var n,r=d(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=A(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},s.tickFormat=function(e,t){return null==t?_:f(t)},s.nice=function(e,t){var n=d();return(e=A(e,n[0],n[n.length-1],t))?d(Or(n,e)):s},s.copy=function(){return br(s,ii(e,t,n,i,u,a,o,c,f))},s}var ui=function(){return tr.apply(ii(Gr.timeYear,Gr.timeMonth,Gr.timeWeek,Gr.timeDay,Gr.timeHour,Gr.timeMinute,Gr.timeSecond,Gr.timeMillisecond,$r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},ai=function(){return tr.apply(ii(Gr.utcYear,Gr.utcMonth,Gr.utcWeek,Gr.utcDay,Gr.utcHour,Gr.utcMinute,Gr.utcSecond,Gr.utcMillisecond,$r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function oi(){var e,t,n,r,i,u=0,a=1,o=hr,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){return arguments.length?(e=r(u=+i[0]),t=r(a=+i[1]),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function ci(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fi(){var e=_r(oi()(hr));return e.copy=function(){return ci(e,fi())},nr.apply(e,arguments)}function si(){var e=jr(oi()).domain([1,10]);return e.copy=function(){return ci(e,si()).base(e.base())},nr.apply(e,arguments)}function li(){var e=Pr(oi());return e.copy=function(){return ci(e,li()).constant(e.constant())},nr.apply(e,arguments)}function di(){var e=Ur(oi());return e.copy=function(){return ci(e,di()).exponent(e.exponent())},nr.apply(e,arguments)}function hi(){return di.apply(null,arguments).exponent(.5)}function pi(){var e=[],t=hr;function n(n){if(!isNaN(n=+n))return t((Object(r.b)(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var i,u=0,a=t.length;u<a;++u)null==(i=t[u])||isNaN(i=+i)||e.push(i);return e.sort(r.a),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return pi(t).domain(e)},nr.apply(n,arguments)}function mi(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=hr,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){return arguments.length?(e=u(o=+a[0]),t=u(c=+a[1]),n=u(f=+a[2]),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function vi(){var e=_r(mi()(hr));return e.copy=function(){return ci(e,vi())},nr.apply(e,arguments)}function gi(){var e=jr(mi()).domain([.1,1,10]);return e.copy=function(){return ci(e,gi()).base(e.base())},nr.apply(e,arguments)}function bi(){var e=Pr(mi());return e.copy=function(){return ci(e,bi()).constant(e.constant())},nr.apply(e,arguments)}function yi(){var e=Ur(mi());return e.copy=function(){return ci(e,yi()).exponent(e.exponent())},nr.apply(e,arguments)}function xi(){return yi.apply(null,arguments).exponent(.5)}var wi=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n},_i=wi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ai=wi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ei=wi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Oi=wi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ki=wi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ci=wi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Di=wi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Fi=wi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Mi=wi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Si=function(e){return Object(j.interpolateRgbBasis)(e[e.length-1])},ji=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(wi),Ti=Si(ji),Ni=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(wi),Bi=Si(Ni),Pi=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(wi),Ri=Si(Pi),zi=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(wi),Li=Si(zi),Ii=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(wi),Ui=Si(Ii),qi=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(wi),Wi=Si(qi),Hi=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(wi),Yi=Si(Hi),Vi=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(wi),Gi=Si(Vi),$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(wi),Xi=Si($i),Ji=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(wi),Ki=Si(Ji),Qi=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(wi),Zi=Si(Qi),eu=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(wi),tu=Si(eu),nu=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(wi),ru=Si(nu),iu=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(wi),uu=Si(iu),au=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(wi),ou=Si(au),cu=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(wi),fu=Si(cu),su=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(wi),lu=Si(su),du=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(wi),hu=Si(du),pu=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(wi),mu=Si(pu),vu=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(wi),gu=Si(vu),bu=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(wi),yu=Si(bu),xu=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(wi),wu=Si(xu),_u=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(wi),Au=Si(_u),Eu=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(wi),Ou=Si(Eu),ku=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(wi),Cu=Si(ku),Du=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(wi),Fu=Si(Du),Mu=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(wi),Su=Si(Mu),ju=Object(j.interpolateCubehelixLong)(Object(X.b)(300,.5,0),Object(X.b)(-240,.5,1)),Tu=Object(j.interpolateCubehelixLong)(Object(X.b)(-100,.75,.35),Object(X.b)(80,1.5,.8)),Nu=Object(j.interpolateCubehelixLong)(Object(X.b)(260,.75,.35),Object(X.b)(80,1.5,.8)),Bu=Object(X.b)(),Pu=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Bu.h=360*e-100,Bu.s=1.5-1.5*t,Bu.l=.8-.9*t,Bu+""},Ru=Object(X.h)(),zu=Math.PI/3,Lu=2*Math.PI/3,Iu=function(e){var t;return e=(.5-e)*Math.PI,Ru.r=255*(t=Math.sin(e))*t,Ru.g=255*(t=Math.sin(e+zu))*t,Ru.b=255*(t=Math.sin(e+Lu))*t,Ru+""};function Uu(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var qu=Uu(wi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Wu=Uu(wi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Hu=Uu(wi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Yu=Uu(wi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Vu=n(27),Gu=n(70),$u=function(e){return function(){return e}};function Xu(e,t,n){this.target=e,this.type=t,this.transform=n}function Ju(e,t,n){this.k=e,this.x=t,this.y=n}Ju.prototype={constructor:Ju,scale:function(e){return 1===e?this:new Ju(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ju(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ku=new Ju(1,0,0);function Qu(e){return e.__zoom||Ku}function Zu(){x.event.stopImmediatePropagation()}Qu.prototype=Ju.prototype;var ea=function(){x.event.preventDefault(),x.event.stopImmediatePropagation()};function ta(){return!x.event.button}function na(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function ra(){return this.__zoom||Ku}function ia(){return-x.event.deltaY*(x.event.deltaMode?120:1)/500}function ua(){return"ontouchstart"in this}function aa(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],u=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>u?(u+a)/2:Math.min(0,u)||Math.max(0,a))}var oa=function(){var e,t,n=ta,r=na,i=aa,u=ia,a=ua,o=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,s=j.interpolateZoom,l=[],d=Object(y.a)("start","zoom","end"),h=500,p=150,m=0;function v(e){e.property("__zoom",ra).on("wheel.zoom",C).on("mousedown.zoom",D).on("dblclick.zoom",F).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(o[0],Math.min(o[1],t)))===e.k?e:new Ju(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Ju(e.k,r,i)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n){e.on("start.zoom",function(){O(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).end()}).tween("zoom",function(){var e=arguments,i=O(this,e),u=r.apply(this,e),a=n||w(u),o=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=this.__zoom,f="function"===typeof t?t.apply(this,e):t,l=s(c.invert(a).concat(o/c.k),f.invert(a).concat(o/f.k));return function(e){if(1===e)e=f;else{var t=l(e),n=o/t[2];e=new Ju(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function O(e,t){for(var n,r=0,i=l.length;r<i;++r)if((n=l[r]).that===e)return n;return new k(e,t)}function k(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=r.apply(e,t)}function C(){if(n.apply(this,arguments)){var e=O(this,arguments),t=this.__zoom,r=Math.max(o[0],Math.min(o[1],t.k*Math.pow(2,u.apply(this,arguments)))),a=Object(x.mouse)(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],G(this),e.start()}ea(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},p),e.zoom("mouse",i(b(g(t,r),e.mouse[0],e.mouse[1]),e.extent,c))}}function D(){if(!t&&n.apply(this,arguments)){var e=O(this,arguments),r=Object(x.select)(x.event.view).on("mousemove.zoom",function(){if(ea(),!e.moved){var t=x.event.clientX-a,n=x.event.clientY-o;e.moved=t*t+n*n>m}e.zoom("mouse",i(b(e.that.__zoom,e.mouse[0]=Object(x.mouse)(e.that),e.mouse[1]),e.extent,c))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),E(x.event.view,e.moved),ea(),e.end()},!0),u=Object(x.mouse)(this),a=x.event.clientX,o=x.event.clientY;A(x.event.view),Zu(),e.mouse=[u,this.__zoom.invert(u)],G(this),e.start()}}function F(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(x.mouse)(this),u=e.invert(t),a=e.k*(x.event.shiftKey?.5:2),o=i(b(g(e,a),t,u),r.apply(this,arguments),c);ea(),f>0?Object(x.select)(this).transition().duration(f).call(_,o,t):Object(x.select)(this).call(v.transform,o)}}function M(){if(n.apply(this,arguments)){var t,r,i,u,a=O(this,arguments),o=x.event.changedTouches,c=o.length;for(Zu(),r=0;r<c;++r)i=o[r],u=[u=Object(x.touch)(this,o,i.identifier),this.__zoom.invert(u),i.identifier],a.touch0?a.touch1||(a.touch1=u):(a.touch0=u,t=!0);if(e&&(e=clearTimeout(e),!a.touch1))return a.end(),void((u=Object(x.select)(this).on("dblclick.zoom"))&&u.apply(this,arguments));t&&(e=setTimeout(function(){e=null},h),G(this),a.start())}}function S(){var t,n,r,u,a=O(this,arguments),o=x.event.changedTouches,f=o.length;for(ea(),e&&(e=clearTimeout(e)),t=0;t<f;++t)n=o[t],r=Object(x.touch)(this,o,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var s=a.touch0[0],l=a.touch0[1],d=a.touch1[0],h=a.touch1[1],p=(p=d[0]-s[0])*p+(p=d[1]-s[1])*p,m=(m=h[0]-l[0])*m+(m=h[1]-l[1])*m;n=g(n,Math.sqrt(p/m)),r=[(s[0]+d[0])/2,(s[1]+d[1])/2],u=[(l[0]+h[0])/2,(l[1]+h[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],u=a.touch0[1]}a.zoom("touch",i(b(n,r,u),a.extent,c))}function T(){var e,n,r=O(this,arguments),i=x.event.changedTouches,u=i.length;for(Zu(),t&&clearTimeout(t),t=setTimeout(function(){t=null},h),e=0;e<u;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return v.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",ra),e!==n?_(e,t):n.interrupt().each(function(){O(this,arguments).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},v.scaleBy=function(e,t){v.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)})},v.scaleTo=function(e,t){v.transform(e,function(){var e=r.apply(this,arguments),n=this.__zoom,u=w(e),a=n.invert(u),o="function"===typeof t?t.apply(this,arguments):t;return i(b(g(n,o),u,a),e,c)})},v.translateBy=function(e,t,n){v.transform(e,function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)})},v.translateTo=function(e,t,n){v.transform(e,function(){var e=r.apply(this,arguments),u=this.__zoom,a=w(e);return i(Ku.translate(a[0],a[1]).scale(u.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)})},k.prototype={start:function(){return 1===++this.active&&(this.index=l.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(l.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(x.customEvent)(new Xu(v,e,this.that.__zoom),d.apply,d,[e,this.that,this.args])}},v.wheelDelta=function(e){return arguments.length?(u="function"===typeof e?e:$u(+e),v):u},v.filter=function(e){return arguments.length?(n="function"===typeof e?e:$u(!!e),v):n},v.touchable=function(e){return arguments.length?(a="function"===typeof e?e:$u(!!e),v):a},v.extent=function(e){return arguments.length?(r="function"===typeof e?e:$u([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):r},v.scaleExtent=function(e){return arguments.length?(o[0]=+e[0],o[1]=+e[1],v):[o[0],o[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(f=+e,v):f},v.interpolate=function(e){return arguments.length?(s=e,v):s},v.on=function(){var e=d.on.apply(d,arguments);return e===d?v:e},v.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,v):Math.sqrt(m)},v};n.d(t,"version",function(){return"5.9.1"}),n.d(t,"bisect",function(){return r.b}),n.d(t,"bisectRight",function(){return r.d}),n.d(t,"bisectLeft",function(){return r.c}),n.d(t,"ascending",function(){return r.a}),n.d(t,"bisector",function(){return r.e}),n.d(t,"cross",function(){return r.f}),n.d(t,"descending",function(){return r.g}),n.d(t,"deviation",function(){return r.h}),n.d(t,"extent",function(){return r.i}),n.d(t,"histogram",function(){return r.j}),n.d(t,"thresholdFreedmanDiaconis",function(){return r.w}),n.d(t,"thresholdScott",function(){return r.x}),n.d(t,"thresholdSturges",function(){return r.y}),n.d(t,"max",function(){return r.k}),n.d(t,"mean",function(){return r.l}),n.d(t,"median",function(){return r.m}),n.d(t,"merge",function(){return r.n}),n.d(t,"min",function(){return r.o}),n.d(t,"pairs",function(){return r.p}),n.d(t,"permute",function(){return r.q}),n.d(t,"quantile",function(){return r.r}),n.d(t,"range",function(){return r.s}),n.d(t,"scan",function(){return r.t}),n.d(t,"shuffle",function(){return r.u}),n.d(t,"sum",function(){return r.v}),n.d(t,"ticks",function(){return r.B}),n.d(t,"tickIncrement",function(){return r.z}),n.d(t,"tickStep",function(){return r.A}),n.d(t,"transpose",function(){return r.C}),n.d(t,"variance",function(){return r.D}),n.d(t,"zip",function(){return r.E}),n.d(t,"axisTop",function(){return m}),n.d(t,"axisRight",function(){return v}),n.d(t,"axisBottom",function(){return g}),n.d(t,"axisLeft",function(){return b}),n.d(t,"brush",function(){return yt}),n.d(t,"brushX",function(){return gt}),n.d(t,"brushY",function(){return bt}),n.d(t,"brushSelection",function(){return vt}),n.d(t,"chord",function(){return Ct}),n.d(t,"ribbon",function(){return Pt}),n.d(t,"nest",function(){return It}),n.d(t,"set",function(){return $t}),n.d(t,"map",function(){return Lt}),n.d(t,"keys",function(){return Xt}),n.d(t,"values",function(){return Jt}),n.d(t,"entries",function(){return Kt}),n.d(t,"color",function(){return X.a}),n.d(t,"rgb",function(){return X.h}),n.d(t,"hsl",function(){return X.e}),n.d(t,"lab",function(){return X.f}),n.d(t,"hcl",function(){return X.d}),n.d(t,"lch",function(){return X.g}),n.d(t,"gray",function(){return X.c}),n.d(t,"cubehelix",function(){return X.b}),n.d(t,"contours",function(){return Qt.b}),n.d(t,"contourDensity",function(){return Qt.a}),n.d(t,"dispatch",function(){return y.a}),n.d(t,"drag",function(){return S}),n.d(t,"dragDisable",function(){return A}),n.d(t,"dragEnable",function(){return E}),n.d(t,"dsvFormat",function(){return Zt.g}),n.d(t,"csvParse",function(){return Zt.e}),n.d(t,"csvParseRows",function(){return Zt.f}),n.d(t,"csvFormat",function(){return Zt.b}),n.d(t,"csvFormatBody",function(){return Zt.c}),n.d(t,"csvFormatRows",function(){return Zt.d}),n.d(t,"tsvParse",function(){return Zt.k}),n.d(t,"tsvParseRows",function(){return Zt.l}),n.d(t,"tsvFormat",function(){return Zt.h}),n.d(t,"tsvFormatBody",function(){return Zt.i}),n.d(t,"tsvFormatRows",function(){return Zt.j}),n.d(t,"autoType",function(){return Zt.a}),n.d(t,"easeLinear",function(){return ie}),n.d(t,"easeQuad",function(){return oe}),n.d(t,"easeQuadIn",function(){return ue}),n.d(t,"easeQuadOut",function(){return ae}),n.d(t,"easeQuadInOut",function(){return oe}),n.d(t,"easeCubic",function(){return se}),n.d(t,"easeCubicIn",function(){return ce}),n.d(t,"easeCubicOut",function(){return fe}),n.d(t,"easeCubicInOut",function(){return se}),n.d(t,"easePoly",function(){return he}),n.d(t,"easePolyIn",function(){return le}),n.d(t,"easePolyOut",function(){return de}),n.d(t,"easePolyInOut",function(){return he}),n.d(t,"easeSin",function(){return be}),n.d(t,"easeSinIn",function(){return ve}),n.d(t,"easeSinOut",function(){return ge}),n.d(t,"easeSinInOut",function(){return be}),n.d(t,"easeExp",function(){return we}),n.d(t,"easeExpIn",function(){return ye}),n.d(t,"easeExpOut",function(){return xe}),n.d(t,"easeExpInOut",function(){return we}),n.d(t,"easeCircle",function(){return Ee}),n.d(t,"easeCircleIn",function(){return _e}),n.d(t,"easeCircleOut",function(){return Ae}),n.d(t,"easeCircleInOut",function(){return Ee}),n.d(t,"easeBounce",function(){return Pe}),n.d(t,"easeBounceIn",function(){return Be}),n.d(t,"easeBounceOut",function(){return Pe}),n.d(t,"easeBounceInOut",function(){return Re}),n.d(t,"easeBack",function(){return Ie}),n.d(t,"easeBackIn",function(){return ze}),n.d(t,"easeBackOut",function(){return Le}),n.d(t,"easeBackInOut",function(){return Ie}),n.d(t,"easeElastic",function(){return We}),n.d(t,"easeElasticIn",function(){return qe}),n.d(t,"easeElasticOut",function(){return We}),n.d(t,"easeElasticInOut",function(){return He}),n.d(t,"blob",function(){return tn}),n.d(t,"buffer",function(){return rn}),n.d(t,"dsv",function(){return cn}),n.d(t,"csv",function(){return fn}),n.d(t,"tsv",function(){return sn}),n.d(t,"image",function(){return ln}),n.d(t,"json",function(){return hn}),n.d(t,"text",function(){return an}),n.d(t,"xml",function(){return mn}),n.d(t,"html",function(){return vn}),n.d(t,"svg",function(){return gn}),n.d(t,"forceCenter",function(){return bn}),n.d(t,"forceCollide",function(){return En}),n.d(t,"forceLink",function(){return Cn}),n.d(t,"forceManyBody",function(){return Tn}),n.d(t,"forceRadial",function(){return Nn}),n.d(t,"forceSimulation",function(){return jn}),n.d(t,"forceX",function(){return Bn}),n.d(t,"forceY",function(){return Pn}),n.d(t,"formatDefaultLocale",function(){return Rn.formatDefaultLocale}),n.d(t,"format",function(){return Rn.format}),n.d(t,"formatPrefix",function(){return Rn.formatPrefix}),n.d(t,"formatLocale",function(){return Rn.formatLocale}),n.d(t,"formatSpecifier",function(){return Rn.formatSpecifier}),n.d(t,"precisionFixed",function(){return Rn.precisionFixed}),n.d(t,"precisionPrefix",function(){return Rn.precisionPrefix}),n.d(t,"precisionRound",function(){return Rn.precisionRound}),n.d(t,"geoArea",function(){return zn.c}),n.d(t,"geoBounds",function(){return zn.h}),n.d(t,"geoCentroid",function(){return zn.i}),n.d(t,"geoCircle",function(){return zn.j}),n.d(t,"geoClipAntimeridian",function(){return zn.k}),n.d(t,"geoClipCircle",function(){return zn.l}),n.d(t,"geoClipExtent",function(){return zn.m}),n.d(t,"geoClipRectangle",function(){return zn.n}),n.d(t,"geoContains",function(){return zn.u}),n.d(t,"geoDistance",function(){return zn.v}),n.d(t,"geoGraticule",function(){return zn.C}),n.d(t,"geoGraticule10",function(){return zn.D}),n.d(t,"geoInterpolate",function(){return zn.F}),n.d(t,"geoLength",function(){return zn.G}),n.d(t,"geoPath",function(){return zn.N}),n.d(t,"geoAlbers",function(){return zn.a}),n.d(t,"geoAlbersUsa",function(){return zn.b}),n.d(t,"geoAzimuthalEqualArea",function(){return zn.d}),n.d(t,"geoAzimuthalEqualAreaRaw",function(){return zn.e}),n.d(t,"geoAzimuthalEquidistant",function(){return zn.f}),n.d(t,"geoAzimuthalEquidistantRaw",function(){return zn.g}),n.d(t,"geoConicConformal",function(){return zn.o}),n.d(t,"geoConicConformalRaw",function(){return zn.p}),n.d(t,"geoConicEqualArea",function(){return zn.q}),n.d(t,"geoConicEqualAreaRaw",function(){return zn.r}),n.d(t,"geoConicEquidistant",function(){return zn.s}),n.d(t,"geoConicEquidistantRaw",function(){return zn.t}),n.d(t,"geoEqualEarth",function(){return zn.w}),n.d(t,"geoEqualEarthRaw",function(){return zn.x}),n.d(t,"geoEquirectangular",function(){return zn.y}),n.d(t,"geoEquirectangularRaw",function(){return zn.z}),n.d(t,"geoGnomonic",function(){return zn.A}),n.d(t,"geoGnomonicRaw",function(){return zn.B}),n.d(t,"geoIdentity",function(){return zn.E}),n.d(t,"geoProjection",function(){return zn.O}),n.d(t,"geoProjectionMutator",function(){return zn.P}),n.d(t,"geoMercator",function(){return zn.H}),n.d(t,"geoMercatorRaw",function(){return zn.I}),n.d(t,"geoNaturalEarth1",function(){return zn.J}),n.d(t,"geoNaturalEarth1Raw",function(){return zn.K}),n.d(t,"geoOrthographic",function(){return zn.L}),n.d(t,"geoOrthographicRaw",function(){return zn.M}),n.d(t,"geoStereographic",function(){return zn.R}),n.d(t,"geoStereographicRaw",function(){return zn.S}),n.d(t,"geoTransverseMercator",function(){return zn.V}),n.d(t,"geoTransverseMercatorRaw",function(){return zn.W}),n.d(t,"geoRotation",function(){return zn.Q}),n.d(t,"geoStream",function(){return zn.T}),n.d(t,"geoTransform",function(){return zn.U}),n.d(t,"cluster",function(){return Ln.a}),n.d(t,"hierarchy",function(){return Ln.b}),n.d(t,"pack",function(){return Ln.c}),n.d(t,"packSiblings",function(){return Ln.e}),n.d(t,"packEnclose",function(){return Ln.d}),n.d(t,"partition",function(){return Ln.f}),n.d(t,"stratify",function(){return Ln.g}),n.d(t,"tree",function(){return Ln.h}),n.d(t,"treemap",function(){return Ln.i}),n.d(t,"treemapBinary",function(){return Ln.j}),n.d(t,"treemapDice",function(){return Ln.k}),n.d(t,"treemapSlice",function(){return Ln.m}),n.d(t,"treemapSliceDice",function(){return Ln.n}),n.d(t,"treemapSquarify",function(){return Ln.o}),n.d(t,"treemapResquarify",function(){return Ln.l}),n.d(t,"interpolate",function(){return j.interpolate}),n.d(t,"interpolateArray",function(){return j.interpolateArray}),n.d(t,"interpolateBasis",function(){return j.interpolateBasis}),n.d(t,"interpolateBasisClosed",function(){return j.interpolateBasisClosed}),n.d(t,"interpolateDate",function(){return j.interpolateDate}),n.d(t,"interpolateDiscrete",function(){return j.interpolateDiscrete}),n.d(t,"interpolateHue",function(){return j.interpolateHue}),n.d(t,"interpolateNumber",function(){return j.interpolateNumber}),n.d(t,"interpolateObject",function(){return j.interpolateObject}),n.d(t,"interpolateRound",function(){return j.interpolateRound}),n.d(t,"interpolateString",function(){return j.interpolateString}),n.d(t,"interpolateTransformCss",function(){return j.interpolateTransformCss}),n.d(t,"interpolateTransformSvg",function(){return j.interpolateTransformSvg}),n.d(t,"interpolateZoom",function(){return j.interpolateZoom}),n.d(t,"interpolateRgb",function(){return j.interpolateRgb}),n.d(t,"interpolateRgbBasis",function(){return j.interpolateRgbBasis}),n.d(t,"interpolateRgbBasisClosed",function(){return j.interpolateRgbBasisClosed}),n.d(t,"interpolateHsl",function(){return j.interpolateHsl}),n.d(t,"interpolateHslLong",function(){return j.interpolateHslLong}),n.d(t,"interpolateLab",function(){return j.interpolateLab}),n.d(t,"interpolateHcl",function(){return j.interpolateHcl}),n.d(t,"interpolateHclLong",function(){return j.interpolateHclLong}),n.d(t,"interpolateCubehelix",function(){return j.interpolateCubehelix}),n.d(t,"interpolateCubehelixLong",function(){return j.interpolateCubehelixLong}),n.d(t,"piecewise",function(){return j.piecewise}),n.d(t,"quantize",function(){return j.quantize}),n.d(t,"path",function(){return Mt.a}),n.d(t,"polygonArea",function(){return In}),n.d(t,"polygonCentroid",function(){return Un}),n.d(t,"polygonHull",function(){return Yn}),n.d(t,"polygonContains",function(){return Vn}),n.d(t,"polygonLength",function(){return Gn}),n.d(t,"quadtree",function(){return wn.a}),n.d(t,"randomUniform",function(){return Xn}),n.d(t,"randomNormal",function(){return Jn}),n.d(t,"randomLogNormal",function(){return Kn}),n.d(t,"randomBates",function(){return Zn}),n.d(t,"randomIrwinHall",function(){return Qn}),n.d(t,"randomExponential",function(){return er}),n.d(t,"scaleBand",function(){return cr}),n.d(t,"scalePoint",function(){return fr}),n.d(t,"scaleIdentity",function(){return Er}),n.d(t,"scaleLinear",function(){return Ar}),n.d(t,"scaleLog",function(){return Tr}),n.d(t,"scaleSymlog",function(){return Rr}),n.d(t,"scaleOrdinal",function(){return or}),n.d(t,"scaleImplicit",function(){return ar}),n.d(t,"scalePow",function(){return qr}),n.d(t,"scaleSqrt",function(){return Wr}),n.d(t,"scaleQuantile",function(){return Hr}),n.d(t,"scaleQuantize",function(){return Yr}),n.d(t,"scaleThreshold",function(){return Vr}),n.d(t,"scaleTime",function(){return ui}),n.d(t,"scaleUtc",function(){return ai}),n.d(t,"scaleSequential",function(){return fi}),n.d(t,"scaleSequentialLog",function(){return si}),n.d(t,"scaleSequentialPow",function(){return di}),n.d(t,"scaleSequentialSqrt",function(){return hi}),n.d(t,"scaleSequentialSymlog",function(){return li}),n.d(t,"scaleSequentialQuantile",function(){return pi}),n.d(t,"scaleDiverging",function(){return vi}),n.d(t,"scaleDivergingLog",function(){return gi}),n.d(t,"scaleDivergingPow",function(){return yi}),n.d(t,"scaleDivergingSqrt",function(){return xi}),n.d(t,"scaleDivergingSymlog",function(){return bi}),n.d(t,"tickFormat",function(){return wr}),n.d(t,"schemeCategory10",function(){return _i}),n.d(t,"schemeAccent",function(){return Ai}),n.d(t,"schemeDark2",function(){return Ei}),n.d(t,"schemePaired",function(){return Oi}),n.d(t,"schemePastel1",function(){return ki}),n.d(t,"schemePastel2",function(){return Ci}),n.d(t,"schemeSet1",function(){return Di}),n.d(t,"schemeSet2",function(){return Fi}),n.d(t,"schemeSet3",function(){return Mi}),n.d(t,"interpolateBrBG",function(){return Ti}),n.d(t,"schemeBrBG",function(){return ji}),n.d(t,"interpolatePRGn",function(){return Bi}),n.d(t,"schemePRGn",function(){return Ni}),n.d(t,"interpolatePiYG",function(){return Ri}),n.d(t,"schemePiYG",function(){return Pi}),n.d(t,"interpolatePuOr",function(){return Li}),n.d(t,"schemePuOr",function(){return zi}),n.d(t,"interpolateRdBu",function(){return Ui}),n.d(t,"schemeRdBu",function(){return Ii}),n.d(t,"interpolateRdGy",function(){return Wi}),n.d(t,"schemeRdGy",function(){return qi}),n.d(t,"interpolateRdYlBu",function(){return Yi}),n.d(t,"schemeRdYlBu",function(){return Hi}),n.d(t,"interpolateRdYlGn",function(){return Gi}),n.d(t,"schemeRdYlGn",function(){return Vi}),n.d(t,"interpolateSpectral",function(){return Xi}),n.d(t,"schemeSpectral",function(){return $i}),n.d(t,"interpolateBuGn",function(){return Ki}),n.d(t,"schemeBuGn",function(){return Ji}),n.d(t,"interpolateBuPu",function(){return Zi}),n.d(t,"schemeBuPu",function(){return Qi}),n.d(t,"interpolateGnBu",function(){return tu}),n.d(t,"schemeGnBu",function(){return eu}),n.d(t,"interpolateOrRd",function(){return ru}),n.d(t,"schemeOrRd",function(){return nu}),n.d(t,"interpolatePuBuGn",function(){return uu}),n.d(t,"schemePuBuGn",function(){return iu}),n.d(t,"interpolatePuBu",function(){return ou}),n.d(t,"schemePuBu",function(){return au}),n.d(t,"interpolatePuRd",function(){return fu}),n.d(t,"schemePuRd",function(){return cu}),n.d(t,"interpolateRdPu",function(){return lu}),n.d(t,"schemeRdPu",function(){return su}),n.d(t,"interpolateYlGnBu",function(){return hu}),n.d(t,"schemeYlGnBu",function(){return du}),n.d(t,"interpolateYlGn",function(){return mu}),n.d(t,"schemeYlGn",function(){return pu}),n.d(t,"interpolateYlOrBr",function(){return gu}),n.d(t,"schemeYlOrBr",function(){return vu}),n.d(t,"interpolateYlOrRd",function(){return yu}),n.d(t,"schemeYlOrRd",function(){return bu}),n.d(t,"interpolateBlues",function(){return wu}),n.d(t,"schemeBlues",function(){return xu}),n.d(t,"interpolateGreens",function(){return Au}),n.d(t,"schemeGreens",function(){return _u}),n.d(t,"interpolateGreys",function(){return Ou}),n.d(t,"schemeGreys",function(){return Eu}),n.d(t,"interpolatePurples",function(){return Cu}),n.d(t,"schemePurples",function(){return ku}),n.d(t,"interpolateReds",function(){return Fu}),n.d(t,"schemeReds",function(){return Du}),n.d(t,"interpolateOranges",function(){return Su}),n.d(t,"schemeOranges",function(){return Mu}),n.d(t,"interpolateCubehelixDefault",function(){return ju}),n.d(t,"interpolateRainbow",function(){return Pu}),n.d(t,"interpolateWarm",function(){return Tu}),n.d(t,"interpolateCool",function(){return Nu}),n.d(t,"interpolateSinebow",function(){return Iu}),n.d(t,"interpolateViridis",function(){return qu}),n.d(t,"interpolateMagma",function(){return Wu}),n.d(t,"interpolateInferno",function(){return Hu}),n.d(t,"interpolatePlasma",function(){return Yu}),n.d(t,"create",function(){return x.create}),n.d(t,"creator",function(){return x.creator}),n.d(t,"local",function(){return x.local}),n.d(t,"matcher",function(){return x.matcher}),n.d(t,"mouse",function(){return x.mouse}),n.d(t,"namespace",function(){return x.namespace}),n.d(t,"namespaces",function(){return x.namespaces}),n.d(t,"clientPoint",function(){return x.clientPoint}),n.d(t,"select",function(){return x.select}),n.d(t,"selectAll",function(){return x.selectAll}),n.d(t,"selection",function(){return x.selection}),n.d(t,"selector",function(){return x.selector}),n.d(t,"selectorAll",function(){return x.selectorAll}),n.d(t,"style",function(){return x.style}),n.d(t,"touch",function(){return x.touch}),n.d(t,"touches",function(){return x.touches}),n.d(t,"window",function(){return x.window}),n.d(t,"event",function(){return x.event}),n.d(t,"customEvent",function(){return x.customEvent}),n.d(t,"arc",function(){return Vu.a}),n.d(t,"area",function(){return Vu.b}),n.d(t,"line",function(){return Vu.v}),n.d(t,"pie",function(){return Vu.A}),n.d(t,"areaRadial",function(){return Vu.c}),n.d(t,"radialArea",function(){return Vu.C}),n.d(t,"lineRadial",function(){return Vu.w}),n.d(t,"radialLine",function(){return Vu.D}),n.d(t,"pointRadial",function(){return Vu.B}),n.d(t,"linkHorizontal",function(){return Vu.x}),n.d(t,"linkVertical",function(){return Vu.z}),n.d(t,"linkRadial",function(){return Vu.y}),n.d(t,"symbol",function(){return Vu.Q}),n.d(t,"symbols",function(){return Vu.Y}),n.d(t,"symbolCircle",function(){return Vu.R}),n.d(t,"symbolCross",function(){return Vu.S}),n.d(t,"symbolDiamond",function(){return Vu.T}),n.d(t,"symbolSquare",function(){return Vu.U}),n.d(t,"symbolStar",function(){return Vu.V}),n.d(t,"symbolTriangle",function(){return Vu.W}),n.d(t,"symbolWye",function(){return Vu.X}),n.d(t,"curveBasisClosed",function(){return Vu.e}),n.d(t,"curveBasisOpen",function(){return Vu.f}),n.d(t,"curveBasis",function(){return Vu.d}),n.d(t,"curveBundle",function(){return Vu.g}),n.d(t,"curveCardinalClosed",function(){return Vu.i}),n.d(t,"curveCardinalOpen",function(){return Vu.j}),n.d(t,"curveCardinal",function(){return Vu.h}),n.d(t,"curveCatmullRomClosed",function(){return Vu.l}),n.d(t,"curveCatmullRomOpen",function(){return Vu.m}),n.d(t,"curveCatmullRom",function(){return Vu.k}),n.d(t,"curveLinearClosed",function(){return Vu.o}),n.d(t,"curveLinear",function(){return Vu.n}),n.d(t,"curveMonotoneX",function(){return Vu.p}),n.d(t,"curveMonotoneY",function(){return Vu.q}),n.d(t,"curveNatural",function(){return Vu.r}),n.d(t,"curveStep",function(){return Vu.s}),n.d(t,"curveStepAfter",function(){return Vu.t}),n.d(t,"curveStepBefore",function(){return Vu.u}),n.d(t,"stack",function(){return Vu.E}),n.d(t,"stackOffsetExpand",function(){return Vu.G}),n.d(t,"stackOffsetDiverging",function(){return Vu.F}),n.d(t,"stackOffsetNone",function(){return Vu.H}),n.d(t,"stackOffsetSilhouette",function(){return Vu.I}),n.d(t,"stackOffsetWiggle",function(){return Vu.J}),n.d(t,"stackOrderAppearance",function(){return Vu.K}),n.d(t,"stackOrderAscending",function(){return Vu.L}),n.d(t,"stackOrderDescending",function(){return Vu.M}),n.d(t,"stackOrderInsideOut",function(){return Vu.N}),n.d(t,"stackOrderNone",function(){return Vu.O}),n.d(t,"stackOrderReverse",function(){return Vu.P}),n.d(t,"timeInterval",function(){return Gr.timeInterval}),n.d(t,"timeMillisecond",function(){return Gr.timeMillisecond}),n.d(t,"timeMilliseconds",function(){return Gr.timeMilliseconds}),n.d(t,"utcMillisecond",function(){return Gr.utcMillisecond}),n.d(t,"utcMilliseconds",function(){return Gr.utcMilliseconds}),n.d(t,"timeSecond",function(){return Gr.timeSecond}),n.d(t,"timeSeconds",function(){return Gr.timeSeconds}),n.d(t,"utcSecond",function(){return Gr.utcSecond}),n.d(t,"utcSeconds",function(){return Gr.utcSeconds}),n.d(t,"timeMinute",function(){return Gr.timeMinute}),n.d(t,"timeMinutes",function(){return Gr.timeMinutes}),n.d(t,"timeHour",function(){return Gr.timeHour}),n.d(t,"timeHours",function(){return Gr.timeHours}),n.d(t,"timeDay",function(){return Gr.timeDay}),n.d(t,"timeDays",function(){return Gr.timeDays}),n.d(t,"timeWeek",function(){return Gr.timeWeek}),n.d(t,"timeWeeks",function(){return Gr.timeWeeks}),n.d(t,"timeSunday",function(){return Gr.timeSunday}),n.d(t,"timeSundays",function(){return Gr.timeSundays}),n.d(t,"timeMonday",function(){return Gr.timeMonday}),n.d(t,"timeMondays",function(){return Gr.timeMondays}),n.d(t,"timeTuesday",function(){return Gr.timeTuesday}),n.d(t,"timeTuesdays",function(){return Gr.timeTuesdays}),n.d(t,"timeWednesday",function(){return Gr.timeWednesday}),n.d(t,"timeWednesdays",function(){return Gr.timeWednesdays}),n.d(t,"timeThursday",function(){return Gr.timeThursday}),n.d(t,"timeThursdays",function(){return Gr.timeThursdays}),n.d(t,"timeFriday",function(){return Gr.timeFriday}),n.d(t,"timeFridays",function(){return Gr.timeFridays}),n.d(t,"timeSaturday",function(){return Gr.timeSaturday}),n.d(t,"timeSaturdays",function(){return Gr.timeSaturdays}),n.d(t,"timeMonth",function(){return Gr.timeMonth}),n.d(t,"timeMonths",function(){return Gr.timeMonths}),n.d(t,"timeYear",function(){return Gr.timeYear}),n.d(t,"timeYears",function(){return Gr.timeYears}),n.d(t,"utcMinute",function(){return Gr.utcMinute}),n.d(t,"utcMinutes",function(){return Gr.utcMinutes}),n.d(t,"utcHour",function(){return Gr.utcHour}),n.d(t,"utcHours",function(){return Gr.utcHours}),n.d(t,"utcDay",function(){return Gr.utcDay}),n.d(t,"utcDays",function(){return Gr.utcDays}),n.d(t,"utcWeek",function(){return Gr.utcWeek}),n.d(t,"utcWeeks",function(){return Gr.utcWeeks}),n.d(t,"utcSunday",function(){return Gr.utcSunday}),n.d(t,"utcSundays",function(){return Gr.utcSundays}),n.d(t,"utcMonday",function(){return Gr.utcMonday}),n.d(t,"utcMondays",function(){return Gr.utcMondays}),n.d(t,"utcTuesday",function(){return Gr.utcTuesday}),n.d(t,"utcTuesdays",function(){return Gr.utcTuesdays}),n.d(t,"utcWednesday",function(){return Gr.utcWednesday}),n.d(t,"utcWednesdays",function(){return Gr.utcWednesdays}),n.d(t,"utcThursday",function(){return Gr.utcThursday}),n.d(t,"utcThursdays",function(){return Gr.utcThursdays}),n.d(t,"utcFriday",function(){return Gr.utcFriday}),n.d(t,"utcFridays",function(){return Gr.utcFridays}),n.d(t,"utcSaturday",function(){return Gr.utcSaturday}),n.d(t,"utcSaturdays",function(){return Gr.utcSaturdays}),n.d(t,"utcMonth",function(){return Gr.utcMonth}),n.d(t,"utcMonths",function(){return Gr.utcMonths}),n.d(t,"utcYear",function(){return Gr.utcYear}),n.d(t,"utcYears",function(){return Gr.utcYears}),n.d(t,"timeFormatDefaultLocale",function(){return $r.timeFormatDefaultLocale}),n.d(t,"timeFormat",function(){return $r.timeFormat}),n.d(t,"timeParse",function(){return $r.timeParse}),n.d(t,"utcFormat",function(){return $r.utcFormat}),n.d(t,"utcParse",function(){return $r.utcParse}),n.d(t,"timeFormatLocale",function(){return $r.timeFormatLocale}),n.d(t,"isoFormat",function(){return $r.isoFormat}),n.d(t,"isoParse",function(){return $r.isoParse}),n.d(t,"now",function(){return T.b}),n.d(t,"timer",function(){return T.d}),n.d(t,"timerFlush",function(){return T.e}),n.d(t,"timeout",function(){return T.c}),n.d(t,"interval",function(){return T.a}),n.d(t,"transition",function(){return te}),n.d(t,"active",function(){return $e}),n.d(t,"interrupt",function(){return G}),n.d(t,"voronoi",function(){return Gu.a}),n.d(t,"zoom",function(){return oa}),n.d(t,"zoomTransform",function(){return Qu}),n.d(t,"zoomIdentity",function(){return Ku})},function(e,t,n){"use strict";e.exports=u,u.className="ReflectionObject";var r,i=n(33);function u(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(u.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),u.prototype.toJSON=function(){throw Error()},u.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},u.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},u.prototype.resolve=function(){return this.resolved?this:(this.root instanceof r&&(this.resolved=!0),this)},u.prototype.getOption=function(e){if(this.options)return this.options[e]},u.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},u.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},u.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},u._configure=function(e){r=e}},function(e,t,n){"use strict";var r=t,i=n(33),u=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[u[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t){e.exports={prefix:"fas",iconName:"angle-up",icon:[320,512,[],"f106","M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"]}},function(e,t){e.exports={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]}},,function(e,t,n){"use strict";e.exports=s;var r=n(55);((s.prototype=Object.create(r.prototype)).constructor=s).className="Namespace";var i,u,a,o=n(52),c=n(33);function f(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function s(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function l(e){return e._nestedArray=null,e}s.fromJSON=function(e,t){return new s(e,t.options).addJSON(t.nested)},s.arrayToJSON=f,s.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!==typeof e[n]&&e[n][0]<=t&&e[n][1]>=t)return!0;return!1},s.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(s.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),s.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",f(this.nestedArray,e)])},s.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?u.fromJSON:void 0!==t.id?o.fromJSON:s.fromJSON)(n[r],t));return this},s.prototype.get=function(e){return this.nested&&this.nested[e]||null},s.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},s.prototype.add=function(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof i||e instanceof a||e instanceof u||e instanceof s))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof s&&e instanceof s)||t instanceof i||t instanceof u)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),l(this)},s.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),l(this)},s.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof s))throw Error("path conflicts with non-namespace objects")}else n.add(n=new s(r))}return t&&n.addJSON(t),n},s.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof s?e[t++].resolveAll():e[t++].resolve();return this.resolve()},s.prototype.lookup=function(e,t,n){if("boolean"===typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof s&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof s&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},s.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},s.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},s.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},s.prototype.lookupService=function(e){var t=this.lookup(e,[u]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},s._configure=function(e,t,n){i=e,u=t,a=n}},function(e,t,n){"use strict";var r=n(21),i=Array.prototype.slice,u=function(e,t){return e-t},a=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},o=function(e){return function(){return e}},c=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=f(e,t[r]))return n;return 0};function f(e,t){for(var n=t[0],r=t[1],i=-1,u=0,a=e.length,o=a-1;u<a;o=u++){var c=e[u],f=c[0],l=c[1],d=e[o],h=d[0],p=d[1];if(s(c,d,t))return 0;l>r!==p>r&&n<(h-f)*(r-l)/(p-l)+f&&(i=-i)}return i}function s(e,t,n){var r,i,u,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],u=n[r],a=t[r],i<=u&&u<=a||a<=u&&u<=i)}var l=function(){},d=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],h=function(){var e=1,t=1,n=r.y,f=m;function s(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(u);else{var i=Object(r.i)(e),a=i[0],o=i[1];t=Object(r.A)(a,o,t),t=Object(r.s)(Math.floor(a/t)*t,Math.floor(o/t)*t,t)}return t.map(function(t){return h(e,t)})}function h(n,r){var i=[],u=[];return function(n,r,i){var u,a,o,c,f,s,l=new Array,h=new Array;u=a=-1,c=n[0]>=r,d[c<<1].forEach(m);for(;++u<e-1;)o=c,c=n[u+1]>=r,d[o|c<<1].forEach(m);d[c<<0].forEach(m);for(;++a<t-1;){for(u=-1,c=n[a*e+e]>=r,f=n[a*e]>=r,d[c<<1|f<<2].forEach(m);++u<e-1;)o=c,c=n[a*e+e+u+1]>=r,s=f,f=n[a*e+u+1]>=r,d[o|c<<1|f<<2|s<<3].forEach(m);d[c|f<<3].forEach(m)}u=-1,f=n[a*e]>=r,d[f<<2].forEach(m);for(;++u<e-1;)s=f,f=n[a*e+u+1]>=r,d[f<<2|s<<3].forEach(m);function m(e){var t,n,r=[e[0][0]+u,e[0][1]+a],o=[e[1][0]+u,e[1][1]+a],c=p(r),f=p(o);(t=h[c])?(n=l[f])?(delete h[t.end],delete l[n.start],t===n?(t.ring.push(o),i(t.ring)):l[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(o),h[t.end=f]=t):(t=l[f])?(n=h[c])?(delete l[t.start],delete h[n.end],t===n?(t.ring.push(o),i(t.ring)):l[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete l[t.start],t.ring.unshift(r),l[t.start=c]=t):l[c]=h[f]={start:c,end:f,ring:[r,o]}}d[f<<3].forEach(m)}(n,r,function(e){f(e,n,r),a(e)>0?i.push([e]):u.push(e)}),u.forEach(function(e){for(var t,n=0,r=i.length;n<r;++n)if(-1!==c((t=i[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:r,coordinates:i}}function p(t){return 2*t[0]+t[1]*(e+1)*4}function m(n,r,i){n.forEach(function(n){var u,a=n[0],o=n[1],c=0|a,f=0|o,s=r[f*e+c];a>0&&a<e&&c===a&&(u=r[f*e+c-1],n[0]=a+(i-u)/(s-u)-.5),o>0&&o<t&&f===o&&(u=r[(f-1)*e+c],n[1]=o+(i-u)/(s-u)-.5)})}return s.contour=h,s.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),i=Math.ceil(n[1]);if(!(r>0)||!(i>0))throw new Error("invalid size");return e=r,t=i,s},s.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?o(i.call(e)):o(e),s):n},s.smooth=function(e){return arguments.length?(f=e?m:l,s):f===m},s};function p(e,t,n){for(var r=e.width,i=e.height,u=1+(n<<1),a=0;a<i;++a)for(var o=0,c=0;o<r+n;++o)o<r&&(c+=e.data[o+a*r]),o>=n&&(o>=u&&(c-=e.data[o-u+a*r]),t.data[o-n+a*r]=c/Math.min(o+1,r-1+u-o,u))}function m(e,t,n){for(var r=e.width,i=e.height,u=1+(n<<1),a=0;a<r;++a)for(var o=0,c=0;o<i+n;++o)o<i&&(c+=e.data[a+o*r]),o>=n&&(o>=u&&(c-=e.data[a+(o-u)*r]),t.data[a+(o-n)*r]=c/Math.min(o+1,i-1+u-o,u))}function v(e){return e[0]}function g(e){return e[1]}function b(){return 1}var y=function(){var e=v,t=g,n=b,u=960,a=500,c=20,f=2,s=3*c,l=u+2*s>>f,d=a+2*s>>f,y=o(20);function x(i){var u=new Float32Array(l*d),a=new Float32Array(l*d);i.forEach(function(r,i,a){var o=+e(r,i,a)+s>>f,c=+t(r,i,a)+s>>f,h=+n(r,i,a);o>=0&&o<l&&c>=0&&c<d&&(u[o+c*l]+=h)}),p({width:l,height:d,data:u},{width:l,height:d,data:a},c>>f),m({width:l,height:d,data:a},{width:l,height:d,data:u},c>>f),p({width:l,height:d,data:u},{width:l,height:d,data:a},c>>f),m({width:l,height:d,data:a},{width:l,height:d,data:u},c>>f),p({width:l,height:d,data:u},{width:l,height:d,data:a},c>>f),m({width:l,height:d,data:a},{width:l,height:d,data:u},c>>f);var o=y(u);if(!Array.isArray(o)){var v=Object(r.k)(u);o=Object(r.A)(0,v,o),(o=Object(r.s)(0,Math.floor(v/o)*o,o)).shift()}return h().thresholds(o).size([l,d])(u).map(w)}function w(e){return e.value*=Math.pow(2,-2*f),e.coordinates.forEach(_),e}function _(e){e.forEach(A)}function A(e){e.forEach(E)}function E(e){e[0]=e[0]*Math.pow(2,f)-s,e[1]=e[1]*Math.pow(2,f)-s}function O(){return l=u+2*(s=3*c)>>f,d=a+2*s>>f,x}return x.x=function(t){return arguments.length?(e="function"===typeof t?t:o(+t),x):e},x.y=function(e){return arguments.length?(t="function"===typeof e?e:o(+e),x):t},x.weight=function(e){return arguments.length?(n="function"===typeof e?e:o(+e),x):n},x.size=function(e){if(!arguments.length)return[u,a];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0)&&!(t>=0))throw new Error("invalid size");return u=t,a=n,O()},x.cellSize=function(e){if(!arguments.length)return 1<<f;if(!((e=+e)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(e)/Math.LN2),O()},x.thresholds=function(e){return arguments.length?(y="function"===typeof e?e:Array.isArray(e)?o(i.call(e)):o(e),x):y},x.bandwidth=function(e){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*e*e+1)-1)/2),O()},x};n.d(t,"b",function(){return h}),n.d(t,"a",function(){return y})},,function(e,t,n){"use strict";e.exports=n(193)},,,,,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=a;var r=n(55);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var i=n(52),u=n(33);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function o(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return u.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,o(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}o(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){u.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:u.oneOfGetter(e),set:u.oneOfSetter(e)})}}},function(e,t,n){"use strict";var r=function(e){return function(){return e}};function i(e){return e[0]}function u(e){return e[1]}function a(){this._=null}function o(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function c(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function f(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function s(e){for(;e.L;)e=e.L;return e}a.prototype={constructor:a,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=s(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(c(this,n),n=(e=n).U),n.C=!1,r.C=!0,f(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(f(this,n),n=(e=n).U),n.C=!1,r.C=!0,c(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,u=e.L,a=e.R;if(n=u?a?s(a):u:a,i?i.L===e?i.L=n:i.R=n:this._=n,u&&a?(r=n.C,n.C=e.C,n.L=u,u.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,c(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,f(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,c(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,f(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,c(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,f(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var l=a;function d(e,t,n,r){var i=[null,null],u=P.push(i)-1;return i.left=e,i.right=t,n&&p(i,e,t,n),r&&p(i,t,e,r),N[e.index].halfedges.push(u),N[t.index].halfedges.push(u),i}function h(e,t,n){var r=[t,n];return r.left=e,r}function p(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function m(e,t,n,r,i){var u,a=e[0],o=e[1],c=a[0],f=a[1],s=0,l=1,d=o[0]-c,h=o[1]-f;if(u=t-c,d||!(u>0)){if(u/=d,d<0){if(u<s)return;u<l&&(l=u)}else if(d>0){if(u>l)return;u>s&&(s=u)}if(u=r-c,d||!(u<0)){if(u/=d,d<0){if(u>l)return;u>s&&(s=u)}else if(d>0){if(u<s)return;u<l&&(l=u)}if(u=n-f,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<l&&(l=u)}else if(h>0){if(u>l)return;u>s&&(s=u)}if(u=i-f,h||!(u<0)){if(u/=h,h<0){if(u>l)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<l&&(l=u)}return!(s>0||l<1)||(s>0&&(e[0]=[c+s*d,f+s*h]),l<1&&(e[1]=[c+l*d,f+l*h]),!0)}}}}}function v(e,t,n,r,i){var u=e[1];if(u)return!0;var a,o,c=e[0],f=e.left,s=e.right,l=f[0],d=f[1],h=s[0],p=s[1],m=(l+h)/2,v=(d+p)/2;if(p===d){if(m<t||m>=r)return;if(l>h){if(c){if(c[1]>=i)return}else c=[m,n];u=[m,i]}else{if(c){if(c[1]<n)return}else c=[m,i];u=[m,n]}}else if(o=v-(a=(l-h)/(p-d))*m,a<-1||a>1)if(l>h){if(c){if(c[1]>=i)return}else c=[(n-o)/a,n];u=[(i-o)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-o)/a,i];u=[(n-o)/a,n]}else if(d<p){if(c){if(c[0]>=r)return}else c=[t,a*t+o];u=[r,a*r+o]}else{if(c){if(c[0]<t)return}else c=[r,a*r+o];u=[t,a*t+o]}return e[0]=c,e[1]=u,!0}function g(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function b(e,t){return t[+(t.left!==e.site)]}function y(e,t){return t[+(t.left===e.site)]}var x,w=[];function _(){o(this),this.x=this.y=this.arc=this.site=this.cy=null}function A(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,u=n.site;if(r!==u){var a=i[0],o=i[1],c=r[0]-a,f=r[1]-o,s=u[0]-a,l=u[1]-o,d=2*(c*l-f*s);if(!(d>=-z)){var h=c*c+f*f,p=s*s+l*l,m=(l*h-f*p)/d,v=(c*p-s*h)/d,g=w.pop()||new _;g.arc=e,g.site=i,g.x=m+a,g.y=(g.cy=v+o)+Math.sqrt(m*m+v*v),e.circle=g;for(var b=null,y=B._;y;)if(g.y<y.y||g.y===y.y&&g.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}B.insert(b,g),b||(x=g)}}}}function E(e){var t=e.circle;t&&(t.P||(x=t.N),B.remove(t),w.push(t),o(t),e.circle=null)}var O=[];function k(){o(this),this.edge=this.site=this.circle=null}function C(e){var t=O.pop()||new k;return t.site=e,t}function D(e){E(e),T.remove(e),O.push(e),o(e)}function F(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],u=e.P,a=e.N,o=[e];D(e);for(var c=u;c.circle&&Math.abs(n-c.circle.x)<R&&Math.abs(r-c.circle.cy)<R;)u=c.P,o.unshift(c),D(c),c=u;o.unshift(c),E(c);for(var f=a;f.circle&&Math.abs(n-f.circle.x)<R&&Math.abs(r-f.circle.cy)<R;)a=f.N,o.push(f),D(f),f=a;o.push(f),E(f);var s,l=o.length;for(s=1;s<l;++s)f=o[s],c=o[s-1],p(f.edge,c.site,f.site,i);c=o[0],(f=o[l-1]).edge=d(c.site,f.site,null,i),A(c),A(f)}function M(e){for(var t,n,r,i,u=e[0],a=e[1],o=T._;o;)if((r=S(o,a)-u)>R)o=o.L;else{if(!((i=u-j(o,a))>R)){r>-R?(t=o.P,n=o):i>-R?(t=o,n=o.N):t=n=o;break}if(!o.R){t=o;break}o=o.R}!function(e){N[e.index]={site:e,halfedges:[]}}(e);var c=C(e);if(T.insert(t,c),t||n){if(t===n)return E(t),n=C(t.site),T.insert(c,n),c.edge=n.edge=d(t.site,c.site),A(t),void A(n);if(n){E(t),E(n);var f=t.site,s=f[0],l=f[1],h=e[0]-s,m=e[1]-l,v=n.site,g=v[0]-s,b=v[1]-l,y=2*(h*b-m*g),x=h*h+m*m,w=g*g+b*b,_=[(b*x-m*w)/y+s,(h*w-g*x)/y+l];p(n.edge,f,v,_),c.edge=d(f,e,null,_),n.edge=d(e,v,null,_),A(t),A(n)}else c.edge=d(t.site,c.site)}}function S(e,t){var n=e.site,r=n[0],i=n[1],u=i-t;if(!u)return r;var a=e.P;if(!a)return-1/0;var o=(n=a.site)[0],c=n[1],f=c-t;if(!f)return o;var s=o-r,l=1/u-1/f,d=s/f;return l?(-d+Math.sqrt(d*d-2*l*(s*s/(-2*f)-c+f/2+i-u/2)))/l+r:(r+o)/2}function j(e,t){var n=e.N;if(n)return S(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var T,N,B,P,R=1e-6,z=1e-12;function L(e,t){return t[1]-e[1]||t[0]-e[0]}function I(e,t){var n,r,i,u=e.sort(L).pop();for(P=[],N=new Array(e.length),T=new l,B=new l;;)if(i=x,u&&(!i||u[1]<i.y||u[1]===i.y&&u[0]<i.x))u[0]===n&&u[1]===r||(M(u),n=u[0],r=u[1]),u=e.pop();else{if(!i)break;F(i.arc)}if(function(){for(var e,t,n,r,i=0,u=N.length;i<u;++i)if((e=N[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),o=new Array(r);for(n=0;n<r;++n)a[n]=n,o[n]=g(e,P[t[n]]);for(a.sort(function(e,t){return o[t]-o[e]}),n=0;n<r;++n)o[n]=t[a[n]];for(n=0;n<r;++n)t[n]=o[n]}}(),t){var a=+t[0][0],o=+t[0][1],c=+t[1][0],f=+t[1][1];!function(e,t,n,r){for(var i,u=P.length;u--;)v(i=P[u],e,t,n,r)&&m(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>R||Math.abs(i[0][1]-i[1][1])>R)||delete P[u]}(a,o,c,f),function(e,t,n,r){var i,u,a,o,c,f,s,l,d,p,m,v,g=N.length,x=!0;for(i=0;i<g;++i)if(u=N[i]){for(a=u.site,o=(c=u.halfedges).length;o--;)P[c[o]]||c.splice(o,1);for(o=0,f=c.length;o<f;)m=(p=y(u,P[c[o]]))[0],v=p[1],l=(s=b(u,P[c[++o%f]]))[0],d=s[1],(Math.abs(m-l)>R||Math.abs(v-d)>R)&&(c.splice(o,0,P.push(h(a,p,Math.abs(m-e)<R&&r-v>R?[e,Math.abs(l-e)<R?d:r]:Math.abs(v-r)<R&&n-m>R?[Math.abs(d-r)<R?l:n,r]:Math.abs(m-n)<R&&v-t>R?[n,Math.abs(l-n)<R?d:t]:Math.abs(v-t)<R&&m-e>R?[Math.abs(d-t)<R?l:e,t]:null))-1),++f);f&&(x=!1)}if(x){var w,_,A,E=1/0;for(i=0,x=null;i<g;++i)(u=N[i])&&(A=(w=(a=u.site)[0]-e)*w+(_=a[1]-t)*_)<E&&(E=A,x=u);if(x){var O=[e,t],k=[e,r],C=[n,r],D=[n,t];x.halfedges.push(P.push(h(a=x.site,O,k))-1,P.push(h(a,k,C))-1,P.push(h(a,C,D))-1,P.push(h(a,D,O))-1)}}for(i=0;i<g;++i)(u=N[i])&&(u.halfedges.length||delete N[i])}(a,o,c,f)}this.edges=P,this.cells=N,T=B=P=N=null}I.prototype={constructor:I,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return b(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(u=(i=n.halfedges).length)for(var i,u,a,o,c,f,s=n.site,l=-1,d=t[i[u-1]],h=d.left===s?d.right:d.left;++l<u;)a=h,h=(d=t[i[l]]).left===s?d.right:d.left,a&&h&&r<a.index&&r<h.index&&(c=a,f=h,((o=s)[0]-f[0])*(c[1]-o[1])-(o[0]-c[0])*(f[1]-o[1])<0)&&e.push([s.data,a.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,u=this,a=u._found||0,o=u.cells.length;!(i=u.cells[a]);)if(++a>=o)return null;var c=e-i.site[0],f=t-i.site[1],s=c*c+f*f;do{i=u.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=u.edges[n],o=r.left;if(o!==i.site&&o||(o=r.right)){var c=e-o[0],f=t-o[1],l=c*c+f*f;l<s&&(s=l,a=o.index)}})}while(null!==a);return u._found=r,null==n||s<=n*n?i.site:null}};var U=function(){var e=i,t=u,n=null;function a(r){return new I(r.map(function(n,i){var u=[Math.round(e(n,i,r)/R)*R,Math.round(t(n,i,r)/R)*R];return u.index=i,u.data=n,u}),n)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"===typeof t?t:r(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:r(+e),a):t},a.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a};n.d(t,"a",function(){return U})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(0);function i(t,n){var i,u=n&&n.property?Object(r.field)(n.property):r.identity;return!Object(r.isObject)(t)||(i=t,"function"===typeof e&&Object(r.isFunction)(e.isBuffer)&&e.isBuffer(i))?u(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(u(t))}i.responseType="json"}).call(this,n(123).Buffer)},function(e,t,n){"use strict";var r=function(){},i={},u={},a=null,o={mark:r,measure:r};try{"undefined"!==typeof window&&(i=window),"undefined"!==typeof document&&(u=document),"undefined"!==typeof MutationObserver&&(a=MutationObserver),"undefined"!==typeof performance&&(o=performance)}catch(ft){}var c=(i.navigator||{}).userAgent,f=void 0===c?"":c,s=i,l=u,d=a,h=o,p=!!s.document,m=!!l.documentElement&&!!l.head&&"function"===typeof l.addEventListener&&"function"===typeof l.createElement,v=~f.indexOf("MSIE")||~f.indexOf("Trident/"),g=16,b="data-fa-i2svg",y="data-fa-pseudo-element",x="fontawesome-i2svg",w=function(){try{return!0}catch(ft){return!1}}(),_=[1,2,3,4,5,6,7,8,9,10],A=_.concat([11,12,13,14,15,16,17,18,19,20]),E=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],O=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(_.map(function(e){return e+"x"})).concat(A.map(function(e){return"w-"+e})),k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},M=s.FontAwesomeConfig||{},S=Object.keys(M),j=D({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},M);j.autoReplaceSvg||(j.observeMutations=!1);var T=D({},j);function N(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).asNewDefault,n=void 0!==t&&t,r=Object.keys(T),i=n?function(e){return~r.indexOf(e)&&!~S.indexOf(e)}:function(e){return~r.indexOf(e)};Object.keys(e).forEach(function(t){i(t)&&(T[t]=e[t])})}s.FontAwesomeConfig=T;var B=s||{};B.___FONT_AWESOME___||(B.___FONT_AWESOME___={}),B.___FONT_AWESOME___.styles||(B.___FONT_AWESOME___.styles={}),B.___FONT_AWESOME___.hooks||(B.___FONT_AWESOME___.hooks={}),B.___FONT_AWESOME___.shims||(B.___FONT_AWESOME___.shims=[]);var P=B.___FONT_AWESOME___,R=[],z=!1;m&&((z=(l.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(l.readyState))||l.addEventListener("DOMContentLoaded",function e(){l.removeEventListener("DOMContentLoaded",e),z=1,R.map(function(e){return e()})}));var L=function(e){m&&(z?setTimeout(e,0):R.push(e))},I=g,U={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function q(e){if(e&&m){var t=l.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=l.head.childNodes,r=null,i=n.length-1;i>-1;i--){var u=n[i],a=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=u)}return l.head.insertBefore(t,r),e}}var W=0;function H(){return++W}function Y(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function V(e){return e.classList?Y(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function G(e,t){var n,r=t.split("-"),i=r[0],u=r.slice(1).join("-");return i!==e||""===u||(n=u,~O.indexOf(n))?null:u}function $(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+": ")+e[n]+";"},"")}function J(e){return e.size!==U.size||e.x!==U.x||e.y!==U.y||e.rotate!==U.rotate||e.flipX||e.flipY}function K(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth;return{outer:{transform:"translate("+n/2+" 256)"},inner:{transform:"translate("+32*t.x+", "+32*t.y+") "+" "+("scale("+t.size/16*(t.flipX?-1:1)+", "+t.size/16*(t.flipY?-1:1)+") ")+" "+("rotate("+t.rotate+" 0 0)")},path:{transform:"translate("+r/2*-1+" -256)"}}}var Q={x:0,y:0,width:"100%",height:"100%"},Z=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.mask,u=e.transform,a=r.width,o=r.icon,c=i.width,f=i.icon,s=K({transform:u,containerWidth:c,iconWidth:a}),l={tag:"rect",attributes:D({},Q,{fill:"white"})},d={tag:"g",attributes:D({},s.inner),children:[{tag:"path",attributes:D({},o.attributes,s.path,{fill:"black"})}]},h={tag:"g",attributes:D({},s.outer),children:[d]},p="mask-"+H(),m="clip-"+H(),v={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:[f]},{tag:"mask",attributes:D({},Q,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,h]}]};return t.push(v,{tag:"rect",attributes:D({fill:"currentColor","clip-path":"url(#"+m+")",mask:"url(#"+p+")"},Q)}),{children:t,attributes:n}},ee=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,u=X(e.styles);if(u.length>0&&(n.style=u),J(i)){var a=K({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:D({},a.outer),children:[{tag:"g",attributes:D({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:D({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}},te=function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,u=e.styles,a=e.transform;if(J(a)&&n.found&&!r.found){var o={x:n.width/n.height/2,y:.5};i.style=X(D({},u,{"transform-origin":o.x+a.x/16+"em "+(o.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:i,children:t}]},ne=function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,u=e.symbol,a=!0===u?t+"-"+T.familyPrefix+"-"+n:u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:D({},i,{id:a}),children:r}]}]};function re(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,u=e.iconName,a=e.transform,o=e.symbol,c=e.title,f=e.extra,s=e.watchable,l=void 0!==s&&s,d=r.found?r:n,h=d.width,p=d.height,m="fa-w-"+Math.ceil(h/p*16),v=[T.replacementClass,u?T.familyPrefix+"-"+u:"",m].concat(f.classes).join(" "),g={children:[],attributes:D({},f.attributes,{"data-prefix":i,"data-icon":u,class:v,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+h+" "+p})};l&&(g.attributes[b]=""),c&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-"+H()},children:[c]});var y=D({},g,{prefix:i,iconName:u,main:n,mask:r,transform:a,symbol:o,styles:f.styles}),x=r.found&&n.found?Z(y):ee(y),w=x.children,_=x.attributes;return y.children=w,y.attributes=_,o?ne(y):te(y)}function ie(e){var t=e.content,n=e.width,r=e.height,i=e.transform,u=e.title,a=e.extra,o=e.watchable,c=void 0!==o&&o,f=D({},a.attributes,u?{title:u}:{},{class:a.classes.join(" ")});c&&(f[b]="");var s=D({},a.styles);J(i)&&(s.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?g:n,i=e.height,u=void 0===i?g:i,a=e.startCentered,o=void 0!==a&&a,c="";return c+=o&&v?"translate("+(t.x/I-r/2)+"em, "+(t.y/I-u/2)+"em) ":o?"translate(calc(-50% + "+t.x/I+"em), calc(-50% + "+t.y/I+"em)) ":"translate("+t.x/I+"em, "+t.y/I+"em) ",c+="scale("+t.size/I*(t.flipX?-1:1)+", "+t.size/I*(t.flipY?-1:1)+") ",c+="rotate("+t.rotate+"deg) "}({transform:i,startCentered:!0,width:n,height:r}),s["-webkit-transform"]=s.transform);var l=X(s);l.length>0&&(f.style=l);var d=[];return d.push({tag:"span",attributes:f,children:[t]}),u&&d.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),d}var ue=function(){},ae=T.measurePerformance&&h&&h.mark&&h.measure?h:{mark:ue,measure:ue},oe='FA "5.0.13"',ce=function(e){ae.mark(oe+" "+e+" ends"),ae.measure(oe+" "+e,oe+" "+e+" begins",oe+" "+e+" ends")},fe={begin:function(e){return ae.mark(oe+" "+e+" begins"),function(){return ce(e)}},end:ce},se=function(e,t,n,r){var i,u,a,o=Object.keys(e),c=o.length,f=void 0!==r?function(e,t){return function(n,r,i,u){return e.call(t,n,r,i,u)}}(t,r):t;for(void 0===n?(i=1,a=e[o[0]]):(i=0,a=n);i<c;i++)a=f(a,e[u=o[i]],u,e);return a},le=P.styles,de=P.shims,he={},pe={},me={},ve=function(){var e=function(e){return se(le,function(t,n,r){return t[r]=se(n,e,{}),t},{})};he=e(function(e,t,n){return e[t[3]]=n,e}),pe=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in le;me=se(de,function(e,n){var r=n[0],i=n[1],u=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:u},e},{})};ve();var ge=P.styles,be=function(){return{prefix:null,iconName:null,rest:[]}};function ye(e){return e.reduce(function(e,t){var n=G(T.familyPrefix,t);if(ge[t])e.prefix=t;else if(n){var r="fa"===e.prefix?me[n]||{prefix:null,iconName:null}:{};e.iconName=r.iconName||n,e.prefix=r.prefix||e.prefix}else t!==T.replacementClass&&0!==t.indexOf("fa-w-")&&e.rest.push(t);return e},be())}function xe(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function we(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,u=void 0===i?[]:i;return"string"===typeof e?$(e):"<"+t+" "+function(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+'="')+$(e[n])+'" '},"").trim()}(r)+">"+u.map(we).join("")+"</"+t+">"}var _e=function(){};function Ae(e){return"string"===typeof(e.getAttribute?e.getAttribute(b):null)}var Ee={replace:function(e){var t=e[0],n=e[1].map(function(e){return we(e)}).join("\n");if(t.parentNode&&t.outerHTML)t.outerHTML=n+(T.keepOriginalSource&&"svg"!==t.tagName.toLowerCase()?"\x3c!-- "+t.outerHTML+" --\x3e":"");else if(t.parentNode){var r=document.createElement("span");t.parentNode.replaceChild(r,t),r.outerHTML=n}},nest:function(e){var t=e[0],n=e[1];if(~V(t).indexOf(T.replacementClass))return Ee.replace(e);var r=new RegExp(T.familyPrefix+"-.*");delete n[0].attributes.style;var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===T.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" ");var u=n.map(function(e){return we(e)}).join("\n");t.setAttribute("class",i.toNode.join(" ")),t.setAttribute(b,""),t.innerHTML=u}};function Oe(e,t){var n="function"===typeof t?t:_e;0===e.length?n():(s.requestAnimationFrame||function(e){return e()})(function(){var t=!0===T.autoReplaceSvg?Ee.replace:Ee[T.autoReplaceSvg]||Ee.replace,r=fe.begin("mutate");e.map(t),r(),n()})}var ke=!1;var Ce=null;var De=function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n};var Fe=function(e){var t,n,r=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),u=void 0!==e.innerText?e.innerText.trim():"",a=ye(V(e));return r&&i&&(a.prefix=r,a.iconName=i),a.prefix&&u.length>1?a.iconName=(t=a.prefix,n=e.innerText,pe[t][n]):a.prefix&&1===u.length&&(a.iconName=function(e,t){return he[e][t]}(a.prefix,function(e){for(var t="",n=0;n<e.length;n++)t+=("000"+e.charCodeAt(n).toString(16)).slice(-4);return t}(e.innerText))),a},Me=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},t):t},Se=function(e){return Me(e.getAttribute("data-fa-transform"))},je=function(e){var t=e.getAttribute("data-fa-symbol");return null!==t&&(""===t||t)},Te=function(e){var t=Y(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),n=e.getAttribute("title");return T.autoA11y&&(n?t["aria-labelledby"]=T.replacementClass+"-title-"+H():t["aria-hidden"]="true"),t},Ne=function(e){var t=e.getAttribute("data-fa-mask");return t?ye(t.split(" ").map(function(e){return e.trim()})):be()};function Be(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Be.prototype=Object.create(Error.prototype),Be.prototype.constructor=Be;var Pe={fill:"currentColor"},Re={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ze={tag:"path",attributes:D({},Pe,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Le=D({},Re,{attributeName:"opacity"}),Ie={tag:"g",children:[ze,{tag:"circle",attributes:D({},Pe,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:D({},Re,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:D({},Le,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:D({},Pe,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:D({},Le,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:D({},Pe,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:D({},Le,{values:"0;0;1;1;0;0;"})}]}]},Ue=P.styles,qe="fa-layers-text",We=/Font Awesome 5 (Solid|Regular|Light|Brands)/,He={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"};function Ye(e,t){var n={found:!1,width:512,height:512,icon:Ie};if(e&&t&&Ue[t]&&Ue[t][e]){var r=Ue[t][e];n={found:!0,width:r[0],height:r[1],icon:{tag:"path",attributes:{fill:"currentColor",d:r.slice(4)[0]}}}}else if(e&&t&&!T.showMissingIcons)throw new Be("Icon is missing for prefix "+t+" with icon name "+e);return n}function Ve(e){var t=function(e){var t=Fe(e),n=t.iconName,r=t.prefix,i=t.rest,u=De(e),a=Se(e),o=je(e),c=Te(e),f=Ne(e);return{iconName:n,title:e.getAttribute("title"),prefix:r,transform:a,symbol:o,mask:f,extra:{classes:i,styles:u,attributes:c}}}(e);return~t.extra.classes.indexOf(qe)?function(e,t){var n=t.title,r=t.transform,i=t.extra,u=null,a=null;if(v){var o=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();u=c.width/o,a=c.height/o}return T.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),[e,ie({content:e.innerHTML,width:u,height:a,transform:r,title:n,extra:i,watchable:!0})]}(e,t):function(e,t){var n=t.iconName,r=t.title,i=t.prefix,u=t.transform,a=t.symbol,o=t.mask,c=t.extra;return[e,re({icons:{main:Ye(n,i),mask:Ye(o.iconName,o.prefix)},prefix:i,iconName:n,transform:u,symbol:a,mask:o,title:r,extra:c,watchable:!0})]}(e,t)}function Ge(e){"function"===typeof e.remove?e.remove():e&&e.parentNode&&e.parentNode.removeChild(e)}function $e(e){if(m){var t=fe.begin("searchPseudoElements");ke=!0,function(){Y(e.querySelectorAll("*")).forEach(function(e){[":before",":after"].forEach(function(t){var n=s.getComputedStyle(e,t),r=n.getPropertyValue("font-family").match(We),i=Y(e.children).filter(function(e){return e.getAttribute(y)===t})[0];if(i&&(i.nextSibling&&i.nextSibling.textContent.indexOf(y)>-1&&Ge(i.nextSibling),Ge(i),i=null),r&&!i){var u=n.getPropertyValue("content"),a=l.createElement("i");a.setAttribute("class",""+He[r[1]]),a.setAttribute(y,t),a.innerText=3===u.length?u.substr(1,1):u,":before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a)}})})}(),ke=!1,t()}}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(m){var n=l.documentElement.classList,r=function(e){return n.add(x+"-"+e)},i=function(e){return n.remove(x+"-"+e)},u=Object.keys(Ue),a=["."+qe+":not(["+b+"])"].concat(u.map(function(e){return"."+e+":not(["+b+"])"})).join(", ");if(0!==a.length){var o=Y(e.querySelectorAll(a));if(o.length>0){r("pending"),i("complete");var c=fe.begin("onTree"),f=o.reduce(function(e,t){try{var n=Ve(t);n&&e.push(n)}catch(ft){w||ft instanceof Be&&console.error(ft)}return e},[]);c(),Oe(f,function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t()})}}}}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Ve(e);n&&Oe([n],t)}var Ke=function(){var e="svg-inline--fa",t=T.familyPrefix,n=T.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==t||n!==e){var i=new RegExp("\\.fa\\-","g"),u=new RegExp("\\."+e,"g");r=r.replace(i,"."+t+"-").replace(u,"."+n)}return r};var Qe=function(){function e(){k(this,e),this.definitions={}}return C(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=D({},e.definitions[t]||{},i[t]),function e(t,n){var r=Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{});"function"===typeof P.hooks.addPack?P.hooks.addPack(t,r):P.styles[t]=D({},P.styles[t]||{},r),"fas"===t&&e("fa",n)}(t,i[t])})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,u=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][u]=a}),e}}]),e}();function Ze(e){return{found:!0,width:e[0],height:e[1],icon:{tag:"path",attributes:{fill:"currentColor",d:e.slice(4)[0]}}}}var et=!1;function tt(){T.autoAddCss&&(et||q(Ke()),et=!0)}function nt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return we(e)})}}),Object.defineProperty(e,"node",{get:function(){if(m){var t=l.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function rt(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return xe(ut.definitions,n,r)||xe(P.styles,n,r)}var it,ut=new Qe,at=(it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?U:n,i=t.symbol,u=void 0!==i&&i,a=t.mask,o=void 0===a?null:a,c=t.title,f=void 0===c?null:c,s=t.classes,l=void 0===s?[]:s,d=t.attributes,h=void 0===d?{}:d,p=t.styles,m=void 0===p?{}:p;if(e){var v=e.prefix,g=e.iconName,b=e.icon;return nt(D({type:"icon"},e),function(){return tt(),T.autoA11y&&(f?h["aria-labelledby"]=T.replacementClass+"-title-"+H():h["aria-hidden"]="true"),re({icons:{main:Ze(b),mask:o?Ze(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:g,transform:D({},U,r),symbol:u,title:f,extra:{attributes:h,styles:m,classes:l}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:rt(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:rt(r||{})),it(n,D({},t,{mask:r}))}),ot={noAuto:function(){var e;N({autoReplaceSvg:e=!1,observeMutations:e}),Ce&&Ce.disconnect()},dom:{i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m){tt();var t=e.node,n=void 0===t?l:t,r=e.callback,i=void 0===r?function(){}:r;T.searchPseudoElements&&$e(n),Xe(n,i)}},css:Ke,insertCss:function(){q(Ke())}},library:ut,parse:{transform:function(e){return Me(e)}},findIconDefinition:rt,icon:at,text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?U:n,i=t.title,u=void 0===i?null:i,a=t.classes,o=void 0===a?[]:a,c=t.attributes,f=void 0===c?{}:c,s=t.styles,l=void 0===s?{}:s;return nt({type:"text",content:e},function(){return tt(),ie({content:e,transform:D({},U,r),title:u,extra:{attributes:f,styles:l,classes:[T.familyPrefix+"-layers-text"].concat(F(o))}})})},layer:function(e){return nt({type:"layer"},function(){tt();var t=[];return e(function(e){Array.isArray(e)?e.map(function(e){t=t.concat(e.abstract)}):t=t.concat(e.abstract)}),[{tag:"span",attributes:{class:T.familyPrefix+"-layers"},children:t}]})}},ct=function(){m&&T.autoReplaceSvg&&ot.dom.i2svg({node:l})};Object.defineProperty(ot,"config",{get:function(){return T},set:function(e){N(e)}}),m&&function(e){try{e()}catch(ft){if(!w)throw ft}}(function(){p&&(s.FontAwesome||(s.FontAwesome=ot),L(function(){Object.keys(P.styles).length>0&&ct(),T.observeMutations&&"function"===typeof MutationObserver&&function(e){if(d){var t=e.treeCallback,n=e.nodeCallback,r=e.pseudoElementsCallback;Ce=new d(function(e){ke||Y(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Ae(e.addedNodes[0])&&(T.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&T.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&Ae(e.target)&&~E.indexOf(e.attributeName))if("class"===e.attributeName){var i=ye(V(e.target)),u=i.prefix,a=i.iconName;u&&e.target.setAttribute("data-prefix",u),a&&e.target.setAttribute("data-icon",a)}else n(e.target)})}),m&&Ce.observe(l.getElementsByTagName("body")[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}({treeCallback:Xe,nodeCallback:Je,pseudoElementsCallback:$e})})),P.hooks=D({},P.hooks,{addPack:function(e,t){P.styles[e]=D({},P.styles[e]||{},t),ve(),ct()},addShims:function(e){var t;(t=P.shims).push.apply(t,F(e)),ve(),ct()}})});ot.config;t.a=ot},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var f in n=Object(arguments[c]))i.call(n,f)&&(o[f]=n[f]);if(r){a=r(n);for(var s=0;s<a.length;s++)u.call(n,a[s])&&(o[a[s]]=n[a[s]])}}return o}},function(e,t,n){"use strict";e.exports=l;var r,i=n(45),u=i.LongBits,a=i.base64,o=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function f(){}function s(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(f,0,0),this.tail=this.head,this.states=null}function d(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=i.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l},l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(p,10,u.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=u.from(e);return this._push(p,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=u.from(e).zzEncode();return this._push(p,t.length(),t)},l.prototype.bool=function(e){return this._push(d,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=u.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=l.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},l.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(d,1,0)},l.prototype.fork=function(){return this.states=new s(this),this.head=this.tail=new c(f,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(f,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e}},function(e,t,n){"use strict";e.exports=c;var r,i=n(45),u=i.LongBits,a=i.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var f="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function s(){var e=new u(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function l(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw o(this,8);return new u(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}c.create=i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):f(e)})(e)}:f,c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return l(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|l(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw o(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e;var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return s.call(this)[t](!1)},uint64:function(){return s.call(this)[t](!0)},sint64:function(){return s.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},function(e,t,n){"use strict";e.exports=b;var r=n(60);((b.prototype=Object.create(r.prototype)).constructor=b).className="Type";var i=n(41),u=n(69),a=n(52),o=n(77),c=n(78),f=n(80),s=n(75),l=n(74),d=n(33),h=n(94),p=n(95),m=n(96),v=n(97),g=n(98);function b(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function y(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(b.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=b.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof f||((e.prototype=new f).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,f,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:d.oneOfGetter(this._oneofsArray[n].oneof),set:d.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),b.generateConstructor=function(e){for(var t,n=d.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",d.safeProp(t.name)):t.repeated&&n("this%s=[]",d.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},b.fromJSON=function(e,t){var n=new b(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var f=Object.keys(t.fields),s=0;s<f.length;++s)n.add(("undefined"!==typeof t.fields[f[s]].keyType?o.fromJSON:a.fromJSON)(f[s],t.fields[f[s]]));if(t.oneofs)for(f=Object.keys(t.oneofs),s=0;s<f.length;++s)n.add(u.fromJSON(f[s],t.oneofs[f[s]]));if(t.nested)for(f=Object.keys(t.nested),s=0;s<f.length;++s){var l=t.nested[f[s]];n.add((void 0!==l.id?a.fromJSON:void 0!==l.fields?b.fromJSON:void 0!==l.values?i.fromJSON:void 0!==l.methods?c.fromJSON:r.fromJSON)(f[s],l))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},b.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return d.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},b.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},b.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},b.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),y(this)}return e instanceof u?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),y(this)):r.prototype.add.call(this,e)},b.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),y(this)}if(e instanceof u){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),y(this)}return r.prototype.remove.call(this,e)},b.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},b.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},b.prototype.create=function(e){return new this.ctor(e)},b.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=h(this)({Writer:l,types:t,util:d}),this.decode=p(this)({Reader:s,types:t,util:d}),this.verify=m(this)({types:t,util:d}),this.fromObject=v.fromObject(this)({types:t,util:d}),this.toObject=v.toObject(this)({types:t,util:d});var r=g[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},b.prototype.encode=function(e,t){return this.setup().encode(e,t)},b.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},b.prototype.decode=function(e,t){return this.setup().decode(e,t)},b.prototype.decodeDelimited=function(e){return e instanceof s||(e=s.create(e)),this.decode(e,e.uint32())},b.prototype.verify=function(e){return this.setup().verify(e)},b.prototype.fromObject=function(e){return this.setup().fromObject(e)},b.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},b.d=function(e){return function(t){d.decorateType(t,e)}}},function(e,t,n){"use strict";e.exports=a;var r=n(52);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var i=n(56),u=n(33);function a(e,t,n,i,a,o){if(r.call(this,e,t,i,void 0,void 0,a,o),!u.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"===typeof n?n=u.decorateType(n).name:n&&"object"===typeof n&&(n=u.decorateEnum(n).name),function(r,i){u.decorateType(r.constructor).add(new a(i,e,t,n))}}},function(e,t,n){"use strict";e.exports=o;var r=n(60);((o.prototype=Object.create(r.prototype)).constructor=o).className="Service";var i=n(79),u=n(33),a=n(92);function o(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}o.fromJSON=function(e,t){var n=new o(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),u=0;u<r.length;++u)n.add(i.fromJSON(r[u],t.methods[r[u]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},o.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return u.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=u.toArray(this.methods))}}),o.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},o.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},o.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},o.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),o=0;o<this.methodsArray.length;++o){var c=u.lcFirst((r=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[c]=u.codegen(["r","c"],u.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},function(e,t,n){"use strict";e.exports=u;var r=n(55);((u.prototype=Object.create(r.prototype)).constructor=u).className="Method";var i=n(33);function u(e,t,n,u,a,o,c,f){if(i.isObject(a)?(c=a,a=o=void 0):i.isObject(o)&&(c=o,o=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(u))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||void 0,this.responseType=u,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f}u.fromJSON=function(e,t){return new u(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},function(e,t,n){"use strict";e.exports=i;var r=n(45);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(e,t,n){"use strict";e.exports=l;var r=n(60);((l.prototype=Object.create(r.prototype)).constructor=l).className="Root";var i,u,a,o=n(52),c=n(41),f=n(69),s=n(33);function l(e){r.call(this,"",e),this.deferred=[],this.files=[]}function d(){}l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=s.path.resolve,l.prototype.load=function e(t,n,r){"function"===typeof n&&(r=n,n=void 0);var i=this;if(!r)return s.asPromise(e,i,t,n);var o=r===d;function c(e,t){if(r){var n=r;if(r=null,o)throw e;n(e,t)}}function f(e,t){try{if(s.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),s.isString(t)){u.filename=e;var r,a=u(t,i,n),f=0;if(a.imports)for(;f<a.imports.length;++f)(r=i.resolvePath(e,a.imports[f]))&&l(r);if(a.weakImports)for(f=0;f<a.weakImports.length;++f)(r=i.resolvePath(e,a.weakImports[f]))&&l(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(d){c(d)}o||h||c(null,i)}function l(e,t){var n=e.lastIndexOf("google/protobuf/");if(n>-1){var u=e.substring(n);u in a&&(e=u)}if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)o?f(e,a[e]):(++h,setTimeout(function(){--h,f(e,a[e])}));else if(o){var l;try{l=s.fs.readFileSync(e).toString("utf8")}catch(d){return void(t||c(d))}f(e,l)}else++h,s.fetch(e,function(n,u){--h,r&&(n?t?h||c(null,i):c(n):f(e,u))})}var h=0;s.isString(t)&&(t=[t]);for(var p,m=0;m<t.length;++m)(p=i.resolvePath("",t[m]))&&l(p);if(o)return i;h||c(null,i)},l.prototype.loadSync=function(e,t){if(!s.isNode)throw Error("not supported");return this.load(e,t,d)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new o(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}l.prototype._handleAdd=function(e){if(e instanceof o)void 0===e.extend||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof c)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof f)){if(e instanceof i)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);h.test(e.name)&&(e.parent[e.name]=e)}},l.prototype._handleRemove=function(e){if(e instanceof o){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);h.test(e.name)&&delete e.parent[e.name]}},l._configure=function(e,t,n){i=e,u=t,a=n}},function(e,t,n){var r="undefined"!==typeof JSON?JSON:n(132);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n=t.space||"";"number"===typeof n&&(n=Array(n+1).join(" "));var a,o="boolean"===typeof t.cycles&&t.cycles,c=t.replacer||function(e,t){return t},f=t.cmp&&(a=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},i={key:n,value:e[n]};return a(r,i)}}),s=[];return function e(t,a,l,d){var h=n?"\n"+new Array(d+1).join(n):"",p=n?": ":":";if(l&&l.toJSON&&"function"===typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=c.call(t,a,l))){if("object"!==typeof l||null===l)return r.stringify(l);if(i(l)){for(var m=[],v=0;v<l.length;v++){var g=e(l,v,l[v],d+1)||r.stringify(null);m.push(h+n+g)}return"["+m.join(",")+h+"]"}if(-1!==s.indexOf(l)){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(l);var b=u(l).sort(f&&f(l));for(m=[],v=0;v<b.length;v++){var y=e(l,a=b[v],l[a],d+1);if(y){var x=r.stringify(a)+p+y;m.push(h+n+x)}}return s.splice(s.indexOf(l),1),"{"+m.join(",")+h+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},u=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},,,,,,function(e){e.exports={a:"5.3.5"}},function(e,t){},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,u=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(e){if(u)if(u=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(o){u&&(u=!1,a(o))}})}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";t.Service=n(204)},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=u.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),o=e.fieldsArray.slice().sort(u.compareFieldsById),c=0;c<o.length;++c){var f=o[c].resolve(),s=e._fieldsArray.indexOf(f),l=f.resolvedType instanceof r?"int32":f.type,d=i.basic[l];t="m"+u.safeProp(f.name),f.map?(n("if(%s!=null&&m.hasOwnProperty(%j)){",t,f.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(f.id<<3|2)>>>0,8|i.mapKey[f.keyType],f.keyType),void 0===d?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,l,t),n("}")("}")):f.repeated?(n("if(%s!=null&&%s.length){",t,t),f.packed&&void 0!==i.packed[l]?n("w.uint32(%i).fork()",(f.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",l,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===d?a(n,f,s,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(f.id<<3|d)>>>0,l,t)),n("}")):(f.optional&&n("if(%s!=null&&m.hasOwnProperty(%j))",t,f.name),void 0===d?a(n,f,s,t):n("w.uint32(%i).%s(%s)",(f.id<<3|d)>>>0,l,t))}return n("return w")};var r=n(41),i=n(56),u=n(33);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},function(e,t,n){"use strict";e.exports=function(e){var t=u.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var o=e._fieldsArray[n].resolve(),c=o.resolvedType instanceof r?"int32":o.type,f="m"+u.safeProp(o.name);t("case %i:",o.id),o.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",f)("%s={}",f)("k=r.%s()",o.keyType)("r.pos++"),void 0!==i.long[o.keyType]?void 0===i.basic[c]?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',f,n):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',f,c):void 0===i.basic[c]?t("%s[k]=types[%i].decode(r,r.uint32())",f,n):t("%s[k]=r.%s()",f,c)):o.repeated?(t("if(!(%s&&%s.length))",f,f)("%s=[]",f),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",f,c)("}else"),void 0===i.basic[c]?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",f,n):t("%s.push(r.%s())",f,c)):void 0===i.basic[c]?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",f,n):t("%s=r.%s()",f,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var s=e._fieldsArray[n];s.required&&t("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})",a(s))}return t("return m")};var r=n(41),i=n(56),u=n(33);function a(e){return"missing required '"+e.name+"'"}},function(e,t,n){"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,r={};n.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var f=e._fieldsArray[c].resolve(),s="m"+i.safeProp(f.name);if(f.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",s,f.name),f.map)t("if(!util.isObject(%s))",s)("return%j",u(f,"object"))("var k=Object.keys(%s)",s)("for(var i=0;i<k.length;++i){"),o(t,f,"k[i]"),a(t,f,c,s+"[k[i]]")("}");else if(f.repeated)t("if(!Array.isArray(%s))",s)("return%j",u(f,"array"))("for(var i=0;i<%s.length;++i){",s),a(t,f,c,s+"[i]")("}");else{if(f.partOf){var l=i.safeProp(f.partOf.name);1===r[f.partOf.name]&&t("if(p%s===1)",l)("return%j",f.partOf.name+": multiple values"),r[f.partOf.name]=1,t("p%s=1",l)}a(t,f,c,s)}f.optional&&t("}")}return t("return null")};var r=n(41),i=n(33);function u(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",u(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),o=0;o<a.length;++o)e("case %i:",t.resolvedType.values[a[o]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",u(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",u(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",u(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",u(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",u(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",u(t,"buffer"))}return e}function o(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",u(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",u(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",u(t,"boolean key"))}return e}},function(e,t,n){"use strict";var r=t,i=n(41),u=n(33);function a(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var u=t.resolvedType.values,a=Object.keys(u),o=0;o<a.length;++o)t.repeated&&u[a[o]]===t.typeDefault&&e("default:"),e("case%j:",a[o])("case %i:",u[a[o]])("m%s=%j",r,u[a[o]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function o(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var u=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,u?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=u.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var o=t[r].resolve(),c=u.safeProp(o.name);o.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,o,r,c+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,o,r,c+"[i]")("}")("}")):(o.resolvedType instanceof i||n("if(d%s!=null){",c),a(n,o,r,c),o.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(u.compareFieldsById);if(!t.length)return u.codegen()("return {}");for(var n=u.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],f=0;f<t.length;++f)t[f].partOf||(t[f].resolve().repeated?r:t[f].map?a:c).push(t[f]);if(r.length){for(n("if(o.arrays||o.defaults){"),f=0;f<r.length;++f)n("d%s=[]",u.safeProp(r[f].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),f=0;f<a.length;++f)n("d%s={}",u.safeProp(a[f].name));n("}")}if(c.length){for(n("if(o.defaults){"),f=0;f<c.length;++f){var s=c[f],l=u.safeProp(s.name);if(s.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",l,s.resolvedType.valuesById[s.typeDefault],s.typeDefault);else if(s.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",s.typeDefault.low,s.typeDefault.high,s.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,s.typeDefault.toString(),s.typeDefault.toNumber());else if(s.bytes){var d="["+Array.prototype.slice.call(s.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,s.typeDefault))("else{")("d%s=%s",l,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,s.typeDefault)}n("}")}var h=!1;for(f=0;f<t.length;++f){s=t[f];var p=e._fieldsArray.indexOf(s);l=u.safeProp(s.name);s.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),o(n,s,p,l+"[ks2[j]]")("}")):s.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),o(n,s,p,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,s.name),o(n,s,p,l),s.partOf&&n("if(o.oneofs)")("d%s=%j",u.safeProp(s.partOf.name),s.name)),n("}")}return n("return d")}},function(e,t,n){"use strict";var r=t,i=n(80);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+n,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=this.lookup(n);r&&(e=r.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var u=e.$type.toObject(e,t);return u["@type"]=e.$type.fullName,u}return this.toObject(e,t)}}},function(e,t,n){"use strict";e.exports=h;var r=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,u=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*\/]+ */,o=/^\s*\*?\/*/,c=/\n/g,f=/\s/,s=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(s,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}function h(e,t){e=e.toString();var n=0,s=e.length,l=1,h=null,p=null,m=0,v=!1,g=[],b=null;function y(e){return Error("illegal "+e+" (line "+l+")")}function x(t){return e.charAt(t)}function w(n,r){h=e.charAt(n++),m=l,v=!1;var i,u=n-(t?2:3);do{if(--u<0||"\n"===(i=e.charAt(u))){v=!0;break}}while(" "===i||"\t"===i);for(var f=e.substring(n,r).split(c),s=0;s<f.length;++s)f[s]=f[s].replace(t?o:a,"").trim();p=f.join("\n").trim()}function _(t){var n=A(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function A(e){for(var t=e;t<s&&"\n"!==x(t);)t++;return t}function E(){if(g.length>0)return g.shift();if(b)return function(){var t="'"===b?u:i;t.lastIndex=n-1;var r=t.exec(e);if(!r)throw y("string");return n=t.lastIndex,O(b),b=null,d(r[1])}();var a,o,c,h,p;do{if(n===s)return null;for(a=!1;f.test(c=x(n));)if("\n"===c&&++l,++n===s)return null;if("/"===x(n)){if(++n===s)throw y("comment");if("/"===x(n))if(t){if(h=n,p=!1,_(n)){p=!0;do{if((n=A(n))===s)break;n++}while(_(n))}else n=Math.min(s,A(n)+1);p&&w(h,n),l++,a=!0}else{for(p="/"===x(h=n+1);"\n"!==x(++n);)if(n===s)return null;++n,p&&w(h,n-1),++l,a=!0}else{if("*"!==(c=x(n)))return"/";h=n+1,p=t||"*"===x(h);do{if("\n"===c&&++l,++n===s)throw y("comment");o=c,c=x(n)}while("*"!==o||"/"!==c);++n,p&&w(h,n-2),a=!0}}}while(a);var m=n;if(r.lastIndex=0,!r.test(x(m++)))for(;m<s&&!r.test(x(m));)++m;var v=e.substring(n,n=m);return'"'!==v&&"'"!==v||(b=v),v}function O(e){g.push(e)}function k(){if(!g.length){var e=E();if(null===e)return null;O(e)}return g[0]}return Object.defineProperty({next:E,peek:k,push:O,skip:function(e,t){var n=k();if(n===e)return E(),!0;if(!t)throw y("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var n=null;return void 0===e?m===l-1&&(t||"*"===h||v)&&(n=p):(m<e&&k(),m!==e||v||!t&&"/"!==h||(n=p)),n}},"line",{get:function(){return l}})}h.unescape=d},function(e){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.6.0",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{prebuild:"mkdir -p build/src",build:"npm run build:only","build:only":"tsc && rollup -c",postbuild:"uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run data && TZ=America/Los_Angeles scripts/build-examples.sh","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"tsc -p site && webpack --config site/webpack.config.js","build:versions":"scripts/update-version.sh","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f examples/compiled/*.png && find site/examples ! -name 'index.md' -type f -delete",data:"rsync -r node_modules/vega-datasets/data/* data",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",preschema:"npm run prebuild",schema:"node --stack-size=1200 ./node_modules/.bin/ts-json-schema-generator --path tsconfig.json --type TopLevelSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run prebuild && npm run data && npm run build:site && npm run build:toc && npm run build:versions && scripts/create-example-pages",site:"bundle exec jekyll serve --incremental",lint:"tslint -p . -e 'package.json'",test:"jest test/ && npm run lint && npm run schema && jest examples/ && npm run test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":'TZ=America/Los_Angeles TS_NODE_COMPILER_OPTIONS=\'{"module":"commonjs"}\' wdio wdio.conf.js',"test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","watch:build":"npm run build:only && concurrently --kill-others -n Typescript,Rollup 'tsc -w' 'rollup -c -w'","watch:site":"concurrently --kill-others -n Typescript,Webpack 'tsc -p site --watch' 'webpack --config site/webpack.config.js --mode development --watch'","watch:test":"jest --watch"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.1.4","@types/d3":"^5.0.0","@types/highlight.js":"^9.12.3","@types/jest":"^23.1.1","@types/mkdirp":"^0.5.2","@types/node":"^9.0.0","@types/webdriverio":"^4.10.2",ajv:"^6.5.1",chai:"^4.1.2",cheerio:"^1.0.0-rc.2",chromedriver:"^2.40.0",codecov:"^3.0.2",concurrently:"^3.6.0",d3:"^5.5.0","highlight.js":"^9.12.0",jest:"^23.1.0",mkdirp:"^0.5.1",rollup:"^0.59.4","rollup-plugin-commonjs":"^9.1.3","rollup-plugin-json":"^3.0.0","rollup-plugin-node-resolve":"^3.3.0","rollup-plugin-sourcemaps":"^0.4.2","source-map-support":"^0.5.6","svg2png-many":"^0.0.7","ts-jest":"^22.4.6","ts-json-schema-generator":"^0.28.0","ts-node":"^6.1.1",tslint:"5.10.0","tslint-eslint-rules":"^5.3.1",typescript:"^2.9.2","uglify-js":"^3.4.1",vega:"^4.0.0-rc.3","vega-datasets":"^1.19.0","vega-embed":"^3.16.0","vega-tooltip":"^0.11.0","wdio-chromedriver-service":"^0.1.3","wdio-dot-reporter":"0.0.9","wdio-mocha-framework":"^0.5.13","wdio-static-server-service":"^1.0.1",webdriverio:"^4.13.0",webpack:"^4.12.0","webpack-cli":"^3.0.8","yaml-front-matter":"^4.0.0"},dependencies:{"@types/json-stable-stringify":"^1.0.32","json-stable-stringify":"^1.0.1",tslib:"^1.9.2","vega-event-selector":"^2.0.0","vega-typings":"^0.3.17","vega-util":"^1.7.0",yargs:"^11.0.0"},jest:{transform:{"^.+\\.tsx?$":"ts-jest"},testRegex:"(/__tests__/.*|(\\.|/)(test|spec))\\.(jsx?|tsx?)$",moduleFileExtensions:["ts","tsx","js","jsx","json","node"],testPathIgnorePatterns:["node_modules","test-runtime","<rootDir>/build","_site","src"],coverageDirectory:"./coverage/",collectCoverage:!1}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(73),i="function"===typeof Symbol&&Symbol.for,u=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,f=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,u,a,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,u,a,o],f=0;(e=Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function w(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||y}function _(){}function A(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var E=A.prototype=new _;E.constructor=A,r(E,w.prototype),E.isPureReactComponent=!0;var O={current:null},k={current:null},C=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0};function F(e,t,n){var r=void 0,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!D.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var f=Array(c),s=0;s<c;s++)f[s]=arguments[s+2];i.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:u,type:e,key:a,ref:o,props:i,_owner:k.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===u}var S=/\/+/g,j=[];function T(e,t,n,r){if(j.length){var i=j.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function B(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var c=!1;if(null===t)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case u:case a:c=!0}}if(c)return r(i,t,""===n?"."+P(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var f=0;f<t.length;f++){var s=n+P(o=t[f],f);c+=e(o,s,r,i)}else if(s=null===t||"object"!==typeof t?null:"function"===typeof(s=g&&t[g]||t["@@iterator"])?s:null,"function"===typeof s)for(t=s.call(t),f=0;!(o=t.next()).done;)c+=e(o=o.value,s=n+P(o,f++),r,i);else"object"===o&&b("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return c}(e,"",t,n)}function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,function(e){return e}):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(S,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,i){var u="";null!=n&&(u=(""+n).replace(S,"$&/")+"/"),B(e,z,t=T(t,u,r,i)),N(t)}function I(){var e=O.current;return null===e&&b("307"),e}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;B(e,R,t=T(null,null,t,n)),N(t)},count:function(e){return B(e,function(){return null},null)},toArray:function(e){var t=[];return L(e,t,null,function(e){return e}),t},only:function(e){return M(e)||b("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:A,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return I().useCallback(e,t)},useContext:function(e,t){return I().useContext(e,t)},useEffect:function(e,t){return I().useEffect(e,t)},useImperativeHandle:function(e,t,n){return I().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return I().useLayoutEffect(e,t)},useMemo:function(e,t){return I().useMemo(e,t)},useReducer:function(e,t,n){return I().useReducer(e,t,n)},useRef:function(e){return I().useRef(e)},useState:function(e){return I().useState(e)},Fragment:o,StrictMode:c,Suspense:p,createElement:F,cloneElement:function(e,t,n){(null===e||void 0===e)&&b("267",e);var i=void 0,a=r({},e.props),o=e.key,c=e.ref,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=k.current),void 0!==t.key&&(o=""+t.key);var s=void 0;for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)C.call(t,i)&&!D.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==s?s[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){s=Array(i);for(var l=0;l<i;l++)s[l]=arguments[l+2];a.children=s}return{$$typeof:u,type:e.type,key:o,ref:c,props:a,_owner:f}},createFactory:function(e){var t=F.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.8.3",unstable_ConcurrentMode:d,unstable_Profiler:f,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentOwner:k,assign:r}},q={default:U},W=q&&U||q;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(1),i=n(73),u=n(117);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,u,a,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,u,a,o],f=0;(e=Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var o=!1,c=null,f=!1,s=null,l={onError:function(e){o=!0,c=e}};function d(e,t,n,r,i,u,a,f,s){o=!1,c=null,function(e,t,n,r,i,u,a,o,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(s){this.onError(s)}}.apply(l,arguments)}var h=null,p={};function m(){if(h)for(var e in p){var t=p[e],n=h.indexOf(e);if(-1<n||a("96",e),!g[n])for(var r in t.extractEvents||a("97",e),g[n]=t,n=t.eventTypes){var i=void 0,u=n[r],o=t,c=r;b.hasOwnProperty(c)&&a("99",c),b[c]=u;var f=u.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&v(f[i],o,c);i=!0}else u.registrationName?(v(u.registrationName,o,c),i=!0):i=!1;i||a("98",r,e)}}}function v(e,t,n){y[e]&&a("100",e),y[e]=t,x[e]=t.eventTypes[n].dependencies}var g=[],b={},y={},x={},w=null,_=null,A=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=A(n),function(e,t,n,r,i,u,l,h,p){if(d.apply(this,arguments),o){if(o){var m=c;o=!1,c=null}else a("198"),m=void 0;f||(f=!0,s=m)}}(r,t,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function k(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function D(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var F={injectEventPluginOrder:function(e){h&&a("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&a("102",t),p[t]=r,n=!0)}n&&m()}};function M(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&a("231",t,typeof n),n)}function S(e){if(null!==e&&(C=O(C,e)),e=C,C=null,e&&(k(e,D),C&&a("95"),f))throw e=s,f=!1,s=null,e}var j=Math.random().toString(36).slice(2),T="__reactInternalInstance$"+j,N="__reactEventHandlers$"+j;function B(e){if(e[T])return e[T];for(;!e[T];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[T]).tag||6===e.tag?e:null}function P(e){return!(e=e[T])||5!==e.tag&&6!==e.tag?null:e}function R(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function z(e){return e[N]||null}function L(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function I(e,t,n){(t=M(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function U(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=L(t);for(t=n.length;0<t--;)I(n[t],"captured",e);for(t=0;t<n.length;t++)I(n[t],"bubbled",e)}}function q(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=M(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function H(e){k(e,U)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function V(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var G={animationend:V("Animation","AnimationEnd"),animationiteration:V("Animation","AnimationIteration"),animationstart:V("Animation","AnimationStart"),transitionend:V("Transition","TransitionEnd")},$={},X={};function J(e){if($[e])return $[e];if(!G[e])return e;var t,n=G[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return $[e]=n[t];return e}Y&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var K=J("animationend"),Q=J("animationiteration"),Z=J("animationstart"),ee=J("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function ue(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,u=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[u-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function oe(){return!1}function ce(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:oe,this.isPropagationStopped=oe,this}function fe(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function se(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function le(e){e.eventPool=[],e.getPooled=fe,e.release=se}i(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:oe,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=oe,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var u=new t;return i(u,n.prototype),n.prototype=u,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,le(n),n},le(ce);var de=ce.extend({data:null}),he=ce.extend({data:null}),pe=[9,13,27,32],me=Y&&"CompositionEvent"in window,ve=null;Y&&"documentMode"in document&&(ve=document.documentMode);var ge=Y&&"TextEvent"in window&&!ve,be=Y&&(!me||ve&&8<ve&&11>=ve),ye=String.fromCharCode(32),xe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function _e(e,t){switch(e){case"keyup":return-1!==pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ae(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var Oe={eventTypes:xe,extractEvents:function(e,t,n,r){var i=void 0,u=void 0;if(me)e:{switch(e){case"compositionstart":i=xe.compositionStart;break e;case"compositionend":i=xe.compositionEnd;break e;case"compositionupdate":i=xe.compositionUpdate;break e}i=void 0}else Ee?_e(e,n)&&(i=xe.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=xe.compositionStart);return i?(be&&"ko"!==n.locale&&(Ee||i!==xe.compositionStart?i===xe.compositionEnd&&Ee&&(u=ue()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),i=de.getPooled(i,t,n,r),u?i.data=u:null!==(u=Ae(n))&&(i.data=u),H(i),u=i):u=null,(e=ge?function(e,t){switch(e){case"compositionend":return Ae(t);case"keypress":return 32!==t.which?null:(we=!0,ye);case"textInput":return(e=t.data)===ye&&we?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&_e(e,t)?(e=ue(),ie=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(xe.beforeInput,t,n,r)).data=e,H(t)):t=null,null===u?t:null===t?u:[u,t]}},ke=null,Ce=null,De=null;function Fe(e){if(e=_(e)){"function"!==typeof ke&&a("280");var t=w(e.stateNode);ke(e.stateNode,e.type,t)}}function Me(e){Ce?De?De.push(e):De=[e]:Ce=e}function Se(){if(Ce){var e=Ce,t=De;if(De=Ce=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function je(e,t){return e(t)}function Te(e,t,n){return e(t,n)}function Ne(){}var Be=!1;function Pe(e,t){if(Be)return e(t);Be=!0;try{return je(e,t)}finally{Be=!1,(null!==Ce||null!==De)&&(Ne(),Se())}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ze(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Re[e.type]:"textarea"===t}function Le(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ie(e){if(!Y)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,u.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ue(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.hasOwnProperty("ReactCurrentDispatcher")||(He.ReactCurrentDispatcher={current:null});var Ye=/^(.*)[\\\/]/,Ve="function"===typeof Symbol&&Symbol.for,Ge=Ve?Symbol.for("react.element"):60103,$e=Ve?Symbol.for("react.portal"):60106,Xe=Ve?Symbol.for("react.fragment"):60107,Je=Ve?Symbol.for("react.strict_mode"):60108,Ke=Ve?Symbol.for("react.profiler"):60114,Qe=Ve?Symbol.for("react.provider"):60109,Ze=Ve?Symbol.for("react.context"):60110,et=Ve?Symbol.for("react.concurrent_mode"):60111,tt=Ve?Symbol.for("react.forward_ref"):60112,nt=Ve?Symbol.for("react.suspense"):60113,rt=Ve?Symbol.for("react.memo"):60115,it=Ve?Symbol.for("react.lazy"):60116,ut="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=ut&&e[ut]||e["@@iterator"])?e:null}function ot(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Xe:return"Fragment";case $e:return"Portal";case Ke:return"Profiler";case Je:return"StrictMode";case nt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Qe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return ot(e.type);case it:if(e=1===e._status?e._result:null)return ot(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,u=ot(e.type);n=null,r&&(n=ot(r.type)),r=u,u="",i?u=" (at "+i.fileName.replace(Ye,"")+":"+i.lineNumber+")":n&&(u=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+u}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,st=Object.prototype.hasOwnProperty,lt={},dt={};function ht(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!st.call(dt,e)||!st.call(lt,e)&&(ft.test(e)?dt[e]=!0:(lt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function yt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function _t(e,t){wt(e,t);var n=bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function At(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new ht(e,1,!1,e.toLowerCase(),null)});var Ot={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function kt(e,t,n){return(e=ce.getPooled(Ot.change,e,t,n)).type="change",Me(n),H(e),e}var Ct=null,Dt=null;function Ft(e){S(e)}function Mt(e){if(We(R(e)))return e}function St(e,t){if("change"===e)return t}var jt=!1;function Tt(){Ct&&(Ct.detachEvent("onpropertychange",Nt),Dt=Ct=null)}function Nt(e){"value"===e.propertyName&&Mt(Dt)&&Pe(Ft,e=kt(Dt,e,Le(e)))}function Bt(e,t,n){"focus"===e?(Tt(),Dt=n,(Ct=t).attachEvent("onpropertychange",Nt)):"blur"===e&&Tt()}function Pt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mt(Dt)}function Rt(e,t){if("click"===e)return Mt(t)}function zt(e,t){if("input"===e||"change"===e)return Mt(t)}Y&&(jt=Ie("input")&&(!document.documentMode||9<document.documentMode));var Lt={eventTypes:Ot,_isInputEventSupported:jt,extractEvents:function(e,t,n,r){var i=t?R(t):window,u=void 0,a=void 0,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type?u=St:ze(i)?jt?u=zt:(u=Pt,a=Bt):(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(u=Rt),u&&(u=u(e,t)))return kt(u,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Et(i,"number",i.value)}},It=ce.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function Wt(){return qt}var Ht=0,Yt=0,Vt=!1,Gt=!1,$t=It.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Vt?"mousemove"===e.type?e.screenX-t:0:(Vt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Gt?"mousemove"===e.type?e.screenY-t:0:(Gt=!0,0)}}),Xt=$t.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!u&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,u?(u=t,t=(t=n.relatedTarget||n.toElement)?B(t):null):u=null,u===t)return null;var a=void 0,o=void 0,c=void 0,f=void 0;"mouseout"===e||"mouseover"===e?(a=$t,o=Jt.mouseLeave,c=Jt.mouseEnter,f="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Xt,o=Jt.pointerLeave,c=Jt.pointerEnter,f="pointer");var s=null==u?i:R(u);if(i=null==t?i:R(t),(e=a.getPooled(o,u,n,r)).type=f+"leave",e.target=s,e.relatedTarget=i,(n=a.getPooled(c,t,n,r)).type=f+"enter",n.target=i,n.relatedTarget=s,r=t,u&&r)e:{for(i=r,f=0,a=t=u;a;a=L(a))f++;for(a=0,c=i;c;c=L(c))a++;for(;0<f-a;)t=L(t),f--;for(;0<a-f;)i=L(i),a--;for(;f--;){if(t===i||t===i.alternate)break e;t=L(t),i=L(i)}t=null}else t=null;for(i=t,t=[];u&&u!==i&&(null===(f=u.alternate)||f!==i);)t.push(u),u=L(u);for(u=[];r&&r!==i&&(null===(f=r.alternate)||f!==i);)u.push(r),r=L(r);for(r=0;r<t.length;r++)q(t[r],"bubbled",e);for(r=u.length;0<r--;)q(u[r],"captured",n);return[e,n]}};function Qt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Zt=Object.prototype.hasOwnProperty;function en(e,t){if(Qt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Qt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,u=i?i.alternate:null;if(!i||!u)break;if(i.child===u.child){for(var o=i.child;o;){if(o===n)return nn(i),e;if(o===r)return nn(i),t;o=o.sibling}a("188")}if(n.return!==r.return)n=i,r=u;else{o=!1;for(var c=i.child;c;){if(c===n){o=!0,n=i,r=u;break}if(c===r){o=!0,r=i,n=u;break}c=c.sibling}if(!o){for(c=u.child;c;){if(c===n){o=!0,n=u,r=i;break}if(c===r){o=!0,r=u,n=i;break}c=c.sibling}o||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var un=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),on=It.extend({relatedTarget:null});function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ln=It.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?sn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=$t.extend({dataTransfer:null}),hn=It.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),pn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=$t.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[K,"animationEnd"],[Q,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},bn={};function yn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,bn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){yn(e,!0)}),vn.forEach(function(e){yn(e,!1)});var xn={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=bn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=bn[e];if(!i)return null;switch(e){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":e=ln;break;case"blur":case"focus":e=on;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case K:case Q:case Z:e=un;break;case ee:e=pn;break;case"scroll":e=It;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=ce}return H(t=e.getPooled(i,t,n,r)),t}},wn=xn.isInteractiveTopLevelEventType,_n=[];function An(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=B(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Le(e.nativeEvent);r=e.topLevelType;for(var u=e.nativeEvent,a=null,o=0;o<g.length;o++){var c=g[o];c&&(c=c.extractEvents(r,t,u,i))&&(a=O(a,c))}S(a)}}var En=!0;function On(e,t){if(!t)return null;var n=(wn(e)?Cn:Dn).bind(null,e);t.addEventListener(e,n,!1)}function kn(e,t){if(!t)return null;var n=(wn(e)?Cn:Dn).bind(null,e);t.addEventListener(e,n,!0)}function Cn(e,t){Te(Dn,e,t)}function Dn(e,t){if(En){var n=Le(t);if(null===(n=B(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),_n.length){var r=_n.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Pe(An,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>_n.length&&_n.push(e)}}}var Fn={},Mn=0,Sn="_reactListenersID"+(""+Math.random()).slice(2);function jn(e){return Object.prototype.hasOwnProperty.call(e,Sn)||(e[Sn]=Mn++,Fn[e[Sn]]={}),Fn[e[Sn]]}function Tn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Nn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bn(e,t){var n,r=Nn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nn(r)}}function Pn(){for(var e=window,t=Tn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(n){break}t=Tn(e.document)}return t}function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function zn(e){var t=Pn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Rn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=void 0===r.end?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=Bn(n,u);var a=Bn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ln=Y&&"documentMode"in document&&11>=document.documentMode,In={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Un=null,qn=null,Wn=null,Hn=!1;function Yn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==Un||Un!==Tn(n)?null:("selectionStart"in(n=Un)&&Rn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wn&&en(Wn,n)?null:(Wn=n,(e=ce.getPooled(In.select,qn,e,t)).type="select",e.target=Un,H(e),e))}var Vn={eventTypes:In,extractEvents:function(e,t,n,r){var i,u=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!u)){e:{u=jn(u),i=x.onSelect;for(var a=0;a<i.length;a++){var o=i[a];if(!u.hasOwnProperty(o)||!u[o]){u=!1;break e}}u=!0}i=!u}if(i)return null;switch(u=t?R(t):window,e){case"focus":(ze(u)||"true"===u.contentEditable)&&(Un=u,qn=t,Wn=null);break;case"blur":Wn=qn=Un=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Yn(n,r);case"selectionchange":if(Ln)break;case"keydown":case"keyup":return Yn(n,r)}return null}};function Gn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function $n(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Xn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:bt(n)}}function Kn(e,t){var n=bt(t.value),r=bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Qn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}F.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=z,_=P,A=R,F.injectEventPluginsByName({SimpleEventPlugin:xn,EnterLeaveEventPlugin:Kt,ChangeEventPlugin:Lt,SelectEventPlugin:Vn,BeforeInputEventPlugin:Oe});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},or=["Webkit","ms","Moz","O"];function cr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function fr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=cr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){or.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var sr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(e,t){t&&(sr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function dr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=jn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":kn("scroll",e);break;case"focus":case"blur":kn("focus",e),kn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ie(i)&&kn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&On(i,e)}n[i]=!0}}}function pr(){}var mr=null,vr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,xr="function"===typeof clearTimeout?clearTimeout:void 0,wr=u.unstable_scheduleCallback,_r=u.unstable_cancelCallback;function Ar(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Er(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Or=[],kr=-1;function Cr(e){0>kr||(e.current=Or[kr],Or[kr]=null,kr--)}function Dr(e,t){Or[++kr]=e.current,e.current=t}var Fr={},Mr={current:Fr},Sr={current:!1},jr=Fr;function Tr(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,u={};for(i in n)u[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Nr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Br(e){Cr(Sr),Cr(Mr)}function Pr(e){Cr(Sr),Cr(Mr)}function Rr(e,t,n){Mr.current!==Fr&&a("168"),Dr(Mr,t),Dr(Sr,n)}function zr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var u in r=r.getChildContext())u in e||a("108",ot(t)||"Unknown",u);return i({},n,r)}function Lr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Fr,jr=Mr.current,Dr(Mr,t),Dr(Sr,Sr.current),!0}function Ir(e,t,n){var r=e.stateNode;r||a("169"),n?(t=zr(e,t,jr),r.__reactInternalMemoizedMergedChildContext=t,Cr(Sr),Cr(Mr),Dr(Mr,t)):Cr(Sr),Dr(Sr,n)}var Ur=null,qr=null;function Wr(e){return function(t){try{return e(t)}catch(n){}}}function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Yr(e,t,n,r){return new Hr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return null===n?((n=Yr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $r(e,t,n,r,i,u){var o=2;if(r=e,"function"===typeof e)Vr(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case Xe:return Xr(n.children,i,u,t);case et:return Jr(n,3|i,u,t);case Je:return Jr(n,2|i,u,t);case Ke:return(e=Yr(12,n,t,4|i)).elementType=Ke,e.type=Ke,e.expirationTime=u,e;case nt:return(e=Yr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=u,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Qe:o=10;break e;case Ze:o=9;break e;case tt:o=11;break e;case rt:o=14;break e;case it:o=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Yr(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=u,t}function Xr(e,t,n,r){return(e=Yr(7,e,r,t)).expirationTime=n,e}function Jr(e,t,n,r){return e=Yr(8,e,r,t),t=0===(1&t)?Je:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Kr(e,t,n){return(e=Yr(6,e,null,t)).expirationTime=n,e}function Qr(e,t,n){return(t=Yr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,u=t.latestPingedTime;0===(i=0!==i?i:u)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=_o(),i=Xu(r=$a(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),qa(),Ku(e,i),Ka(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=_o(),i=Xu(r=$a(r,e));i.tag=Wu,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),qa(),Ku(e,i),Ka(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=_o(),r=Xu(n=$a(n,e));r.tag=Hu,void 0!==t&&null!==t&&(r.callback=t),qa(),Ku(e,r),Ka(e,n)}};function oi(e,t,n,r,i,u,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,u,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,u))}function ci(e,t,n){var r=!1,i=Fr,u=t.contextType;return"object"===typeof u&&null!==u?u=Uu(u):(i=Nr(t)?jr:Mr.current,u=(r=null!==(r=t.contextTypes)&&void 0!==r)?Tr(e,i):Fr),t=new t(n,u),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function fi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function si(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var u=t.contextType;"object"===typeof u&&null!==u?i.context=Uu(u):(u=Nr(t)?jr:Mr.current,i.context=Tr(e,u)),null!==(u=e.updateQueue)&&(ta(e,u,n,i,r),i.state=e.memoizedState),"function"===typeof(u=t.getDerivedStateFromProps)&&(ui(e,t,u,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ai.enqueueReplaceState(i,i.state,null),null!==(u=e.updateQueue)&&(ta(e,u,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var li=Array.isArray;function di(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&a("284"),n._owner||a("290",e)}return e}function hi(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function pi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Gr(e,t)).index=0,e.sibling=null,e}function u(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=di(e,t,n),r.return=e,r):((r=$r(n.type,n.key,n.props,null,e.mode,r)).ref=di(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function l(e,t,n,r,u){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,u)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=$r(t.type,t.key,t.props,null,e.mode,n)).ref=di(e,null,t),n.return=e,n;case $e:return(t=Qr(t,e.mode,n)).return=e,t}if(li(t)||at(t))return(t=Xr(t,e.mode,n,null)).return=e,t;hi(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===i?n.type===Xe?l(e,t,n.props.children,r,i):f(e,t,n,r):null;case $e:return n.key===i?s(e,t,n,r):null}if(li(n)||at(n))return null!==i?null:l(e,t,n,r,null);hi(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ge:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?l(t,e,r.props.children,i,r.key):f(t,e,r,i);case $e:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(li(r)||at(r))return l(t,e=e.get(n)||null,r,i,null);hi(t,r)}return null}function m(i,a,o,c){for(var f=null,s=null,l=a,m=a=0,v=null;null!==l&&m<o.length;m++){l.index>m?(v=l,l=null):v=l.sibling;var g=h(i,l,o[m],c);if(null===g){null===l&&(l=v);break}e&&l&&null===g.alternate&&t(i,l),a=u(g,a,m),null===s?f=g:s.sibling=g,s=g,l=v}if(m===o.length)return n(i,l),f;if(null===l){for(;m<o.length;m++)(l=d(i,o[m],c))&&(a=u(l,a,m),null===s?f=l:s.sibling=l,s=l);return f}for(l=r(i,l);m<o.length;m++)(v=p(l,i,m,o[m],c))&&(e&&null!==v.alternate&&l.delete(null===v.key?m:v.key),a=u(v,a,m),null===s?f=v:s.sibling=v,s=v);return e&&l.forEach(function(e){return t(i,e)}),f}function v(i,o,c,f){var s=at(c);"function"!==typeof s&&a("150"),null==(c=s.call(c))&&a("151");for(var l=s=null,m=o,v=o=0,g=null,b=c.next();null!==m&&!b.done;v++,b=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=h(i,m,b.value,f);if(null===y){m||(m=g);break}e&&m&&null===y.alternate&&t(i,m),o=u(y,o,v),null===l?s=y:l.sibling=y,l=y,m=g}if(b.done)return n(i,m),s;if(null===m){for(;!b.done;v++,b=c.next())null!==(b=d(i,b.value,f))&&(o=u(b,o,v),null===l?s=b:l.sibling=b,l=b);return s}for(m=r(i,m);!b.done;v++,b=c.next())null!==(b=p(m,i,v,b.value,f))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),o=u(b,o,v),null===l?s=b:l.sibling=b,l=b);return e&&m.forEach(function(e){return t(i,e)}),s}return function(e,r,u,c){var f="object"===typeof u&&null!==u&&u.type===Xe&&null===u.key;f&&(u=u.props.children);var s="object"===typeof u&&null!==u;if(s)switch(u.$$typeof){case Ge:e:{for(s=u.key,f=r;null!==f;){if(f.key===s){if(7===f.tag?u.type===Xe:f.elementType===u.type){n(e,f.sibling),(r=i(f,u.type===Xe?u.props.children:u.props)).ref=di(e,f,u),r.return=e,e=r;break e}n(e,f);break}t(e,f),f=f.sibling}u.type===Xe?((r=Xr(u.props.children,e.mode,c,u.key)).return=e,e=r):((c=$r(u.type,u.key,u.props,null,e.mode,c)).ref=di(e,r,u),c.return=e,e=c)}return o(e);case $e:e:{for(f=u.key;null!==r;){if(r.key===f){if(4===r.tag&&r.stateNode.containerInfo===u.containerInfo&&r.stateNode.implementation===u.implementation){n(e,r.sibling),(r=i(r,u.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qr(u,e.mode,c)).return=e,e=r}return o(e)}if("string"===typeof u||"number"===typeof u)return u=""+u,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,u)).return=e,e=r):(n(e,r),(r=Kr(u,e.mode,c)).return=e,e=r),o(e);if(li(u))return m(e,r,u,c);if(at(u))return v(e,r,u,c);if(s&&hi(e,u),"undefined"===typeof u&&!f)switch(e.tag){case 1:case 0:a("152",(c=e.type).displayName||c.name||"Component")}return n(e,r)}}var mi=pi(!0),vi=pi(!1),gi={},bi={current:gi},yi={current:gi},xi={current:gi};function wi(e){return e===gi&&a("174"),e}function _i(e,t){Dr(xi,t),Dr(yi,e),Dr(bi,gi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Cr(bi),Dr(bi,t)}function Ai(e){Cr(bi),Cr(yi),Cr(xi)}function Ei(e){wi(xi.current);var t=wi(bi.current),n=tr(t,e.type);t!==n&&(Dr(yi,e),Dr(bi,n))}function Oi(e){yi.current===e&&(Cr(bi),Cr(yi))}var ki=0,Ci=2,Di=4,Fi=8,Mi=16,Si=32,ji=64,Ti=128,Ni=He.ReactCurrentDispatcher,Bi=0,Pi=null,Ri=null,zi=null,Li=null,Ii=null,Ui=null,qi=0,Wi=null,Hi=0,Yi=!1,Vi=null,Gi=0;function $i(){a("307")}function Xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Ji(e,t,n,r,i,u){if(Bi=u,Pi=t,zi=null!==e?e.memoizedState:null,Ni.current=null===zi?fu:su,t=n(r,i),Yi){do{Yi=!1,Gi+=1,zi=null!==e?e.memoizedState:null,Ui=Li,Wi=Ii=Ri=null,Ni.current=su,t=n(r,i)}while(Yi);Vi=null,Gi=0}return Ni.current=cu,(e=Pi).memoizedState=Li,e.expirationTime=qi,e.updateQueue=Wi,e.effectTag|=Hi,e=null!==Ri&&null!==Ri.next,Bi=0,Ui=Ii=Li=zi=Ri=Pi=null,qi=0,Wi=null,Hi=0,e&&a("300"),t}function Ki(){Ni.current=cu,Bi=0,Ui=Ii=Li=zi=Ri=Pi=null,qi=0,Wi=null,Hi=0,Yi=!1,Vi=null,Gi=0}function Qi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ii?Li=Ii=e:Ii=Ii.next=e,Ii}function Zi(){if(null!==Ui)Ui=(Ii=Ui).next,zi=null!==(Ri=zi)?Ri.next:null;else{null===zi&&a("310");var e={memoizedState:(Ri=zi).memoizedState,baseState:Ri.baseState,queue:Ri.queue,baseUpdate:Ri.baseUpdate,next:null};Ii=null===Ii?Li=e:Ii.next=e,zi=Ri.next}return Ii}function eu(e,t){return"function"===typeof t?t(e):t}function tu(e){var t=Zi(),n=t.queue;if(null===n&&a("311"),0<Gi){var r=n.dispatch;if(null!==Vi){var i=Vi.get(n);if(void 0!==i){Vi.delete(n);var u=t.memoizedState;do{u=e(u,i.action),i=i.next}while(null!==i);return Qt(u,t.memoizedState)||(wu=!0),t.memoizedState=u,t.baseUpdate===n.last&&(t.baseState=u),n.eagerReducer=e,n.eagerState=u,[u,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(u=t.baseState,null!==o?(null!==r&&(r.next=null),r=o.next):r=null!==r?r.next:null,null!==r){var c=i=null,f=r,s=!1;do{var l=f.expirationTime;l<Bi?(s||(s=!0,c=o,i=u),l>qi&&(qi=l)):u=f.eagerReducer===e?f.eagerState:e(u,f.action),o=f,f=f.next}while(null!==f&&f!==r);s||(c=o,i=u),Qt(u,t.memoizedState)||(wu=!0),t.memoizedState=u,t.baseUpdate=c,t.baseState=i,n.eagerReducer=e,n.eagerState=u}return[t.memoizedState,n.dispatch]}function nu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Wi?(Wi={lastEffect:null}).lastEffect=e.next=e:null===(t=Wi.lastEffect)?Wi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Wi.lastEffect=e),e}function ru(e,t,n,r){var i=Qi();Hi|=e,i.memoizedState=nu(t,n,void 0,void 0===r?null:r)}function iu(e,t,n,r){var i=Zi();r=void 0===r?null:r;var u=void 0;if(null!==Ri){var a=Ri.memoizedState;if(u=a.destroy,null!==r&&Xi(r,a.deps))return void nu(ki,n,u,r)}Hi|=e,i.memoizedState=nu(t,n,u,r)}function uu(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function au(){}function ou(e,t,n){25>Gi||a("301");var r=e.alternate;if(e===Pi||null!==r&&r===Pi)if(Yi=!0,e={expirationTime:Bi,action:n,eagerReducer:null,eagerState:null,next:null},null===Vi&&(Vi=new Map),void 0===(n=Vi.get(t)))Vi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{qa();var i=_o(),u={expirationTime:i=$a(i,e),action:n,eagerReducer:null,eagerState:null,next:null},o=t.last;if(null===o)u.next=u;else{var c=o.next;null!==c&&(u.next=c),o.next=u}if(t.last=u,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var f=t.eagerState,s=r(f,n);if(u.eagerReducer=r,u.eagerState=s,Qt(s,f))return}catch(l){}Ka(e,i)}}var cu={readContext:Uu,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i},fu={readContext:Uu,useCallback:function(e,t){return Qi().memoizedState=[e,void 0===t?null:t],e},useContext:Uu,useEffect:function(e,t){return ru(516,Ti|ji,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ru(4,Di|Si,uu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ru(4,Di|Si,e,t)},useMemo:function(e,t){var n=Qi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=ou.bind(null,Pi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Qi().memoizedState=e},useState:function(e){var t=Qi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:eu,eagerState:e}).dispatch=ou.bind(null,Pi,e),[t.memoizedState,e]},useDebugValue:au},su={readContext:Uu,useCallback:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Uu,useEffect:function(e,t){return iu(516,Ti|ji,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,iu(4,Di|Si,uu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iu(4,Di|Si,e,t)},useMemo:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:tu,useRef:function(){return Zi().memoizedState},useState:function(e){return tu(eu)},useDebugValue:au},lu=null,du=null,hu=!1;function pu(e,t){var n=Yr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function mu(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function vu(e){if(hu){var t=du;if(t){var n=t;if(!mu(e,t)){if(!(t=Ar(n))||!mu(e,t))return e.effectTag|=2,hu=!1,void(lu=e);pu(lu,n)}lu=e,du=Er(t)}else e.effectTag|=2,hu=!1,lu=e}}function gu(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;lu=e}function bu(e){if(e!==lu)return!1;if(!hu)return gu(e),hu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!br(t,e.memoizedProps))for(t=du;t;)pu(e,t),t=Ar(t);return gu(e),du=lu?Ar(e.stateNode):null,!0}function yu(){du=lu=null,hu=!1}var xu=He.ReactCurrentOwner,wu=!1;function _u(e,t,n,r){t.child=null===e?vi(t,null,n,r):mi(t,e.child,n,r)}function Au(e,t,n,r,i){n=n.render;var u=t.ref;return Iu(t,i),r=Ji(e,t,n,r,u,i),null===e||wu?(t.effectTag|=1,_u(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ju(e,t,i))}function Eu(e,t,n,r,i,u){if(null===e){var a=n.type;return"function"!==typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$r(n.type,null,r,null,t.mode,u)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ou(e,t,a,r,i,u))}return a=e.child,i<u&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?ju(e,t,u):(t.effectTag|=1,(e=Gr(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ou(e,t,n,r,i,u){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(wu=!1,i<u)?ju(e,t,u):Cu(e,t,n,r,u)}function ku(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Cu(e,t,n,r,i){var u=Nr(n)?jr:Mr.current;return u=Tr(t,u),Iu(t,i),n=Ji(e,t,n,r,u,i),null===e||wu?(t.effectTag|=1,_u(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ju(e,t,i))}function Du(e,t,n,r,i){if(Nr(n)){var u=!0;Lr(t)}else u=!1;if(Iu(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ci(t,n,r),si(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,f=n.contextType;"object"===typeof f&&null!==f?f=Uu(f):f=Tr(t,f=Nr(n)?jr:Mr.current);var s=n.getDerivedStateFromProps,l="function"===typeof s||"function"===typeof a.getSnapshotBeforeUpdate;l||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==f)&&fi(t,a,r,f),Vu=!1;var d=t.memoizedState;c=a.state=d;var h=t.updateQueue;null!==h&&(ta(t,h,r,a,i),c=t.memoizedState),o!==r||d!==c||Sr.current||Vu?("function"===typeof s&&(ui(t,n,s,r),c=t.memoizedState),(o=Vu||oi(t,n,o,r,d,c,f))?(l||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=f,r=o):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,o=t.memoizedProps,a.props=t.type===t.elementType?o:ri(t.type,o),c=a.context,"object"===typeof(f=n.contextType)&&null!==f?f=Uu(f):f=Tr(t,f=Nr(n)?jr:Mr.current),(l="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==f)&&fi(t,a,r,f),Vu=!1,c=t.memoizedState,d=a.state=c,null!==(h=t.updateQueue)&&(ta(t,h,r,a,i),d=t.memoizedState),o!==r||c!==d||Sr.current||Vu?("function"===typeof s&&(ui(t,n,s,r),d=t.memoizedState),(s=Vu||oi(t,n,o,r,c,d,f))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,f),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,f)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=f,r=s):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Fu(e,t,n,r,u,i)}function Fu(e,t,n,r,i,u){ku(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Ir(t,n,!1),ju(e,t,u);r=t.stateNode,xu.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=mi(t,e.child,null,u),t.child=mi(t,null,o,u)):_u(e,t,o,u),t.memoizedState=r.state,i&&Ir(t,n,!0),t.child}function Mu(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),_i(e,t.containerInfo)}function Su(e,t,n){var r=t.mode,i=t.pendingProps,u=t.memoizedState;if(0===(64&t.effectTag)){u=null;var a=!1}else u={timedOutAt:null!==u?u.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var o=i.fallback;e=Xr(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(o,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vi(t,null,i.children,n);else null!==e.memoizedState?(o=(r=e.child).sibling,a?(n=i.fallback,i=Gr(r,r.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=Gr(o,n,o.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=mi(t,r.child,i.children,n)):(o=e.child,a?(a=i.fallback,(i=Xr(null,r,0,null)).child=o,0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Xr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=mi(t,o,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=u,t.child=n,r}function ju(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Gr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Tu(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Sr.current)wu=!0;else if(r<n){switch(wu=!1,t.tag){case 3:Mu(t),yu();break;case 5:Ei(t);break;case 1:Nr(t.type)&&Lr(t);break;case 4:_i(t,t.stateNode.containerInfo);break;case 10:zu(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Su(e,t,n):null!==(t=ju(e,t,n))?t.sibling:null}return ju(e,t,n)}}else wu=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Tr(t,Mr.current);if(Iu(t,n),i=Ji(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Ki(),Nr(r)){var u=!0;Lr(t)}else u=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"===typeof o&&ui(t,r,o,e),i.updater=ai,t.stateNode=i,i._reactInternalFiber=t,si(t,r,e,n),t=Fu(null,t,r,!0,u,n)}else t.tag=0,_u(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),u=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"===typeof e)return Vr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),u=ri(e,u),o=void 0,i){case 0:o=Cu(null,t,e,u,n);break;case 1:o=Du(null,t,e,u,n);break;case 11:o=Au(null,t,e,u,n);break;case 14:o=Eu(null,t,e,ri(e.type,u),r,n);break;default:a("306",e,"")}return o;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,Du(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return Mu(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,ta(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(yu(),t=ju(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(du=Er(t.stateNode.containerInfo),lu=t,i=hu=!0),i?(t.effectTag|=2,t.child=vi(t,null,r,n)):(_u(e,t,r,n),yu()),t=t.child),t;case 5:return Ei(t),null===e&&vu(t),r=t.type,i=t.pendingProps,u=null!==e?e.memoizedProps:null,o=i.children,br(r,i)?o=null:null!==u&&br(r,u)&&(t.effectTag|=16),ku(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(_u(e,t,o,n),t=t.child),t;case 6:return null===e&&vu(t),null;case 13:return Su(e,t,n);case 4:return _i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):_u(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return _u(e,t,t.pendingProps,n),t.child;case 8:case 12:return _u(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,zu(t,u=i.value),null!==o){var c=o.value;if(0===(u=Qt(c,u)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,u):1073741823))){if(o.children===i.children&&!Sr.current){t=ju(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var f=c.contextDependencies;if(null!==f){o=c.child;for(var s=f.first;null!==s;){if(s.context===r&&0!==(s.observedBits&u)){1===c.tag&&((s=Xu(n)).tag=Hu,Ku(c,s)),c.expirationTime<n&&(c.expirationTime=n),null!==(s=c.alternate)&&s.expirationTime<n&&(s.expirationTime=n),s=n;for(var l=c.return;null!==l;){var d=l.alternate;if(l.childExpirationTime<s)l.childExpirationTime=s,null!==d&&d.childExpirationTime<s&&(d.childExpirationTime=s);else{if(!(null!==d&&d.childExpirationTime<s))break;d.childExpirationTime=s}l=l.return}f.expirationTime<n&&(f.expirationTime=n);break}s=s.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}}_u(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(u=t.pendingProps).children,Iu(t,n),r=r(i=Uu(i,u.unstable_observedBits)),t.effectTag|=1,_u(e,t,r,n),t.child;case 14:return u=ri(i=t.type,t.pendingProps),Eu(e,t,i,u=ri(i.type,u),r,n);case 15:return Ou(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Nr(r)?(e=!0,Lr(t)):e=!1,Iu(t,n),ci(t,r,i),si(t,r,i,n),Fu(null,t,r,!0,e,n)}a("156")}var Nu={current:null},Bu=null,Pu=null,Ru=null;function zu(e,t){var n=e.type._context;Dr(Nu,n._currentValue),n._currentValue=t}function Lu(e){var t=Nu.current;Cr(Nu),e.type._context._currentValue=t}function Iu(e,t){Bu=e,Ru=Pu=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(wu=!0),e.contextDependencies=null}function Uu(e,t){return Ru!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ru=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Pu?(null===Bu&&a("308"),Pu=t,Bu.contextDependencies={first:t,expirationTime:0}):Pu=Pu.next=t),e._currentValue}var qu=0,Wu=1,Hu=2,Yu=3,Vu=!1;function Gu(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $u(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xu(e){return{expirationTime:e,tag:qu,payload:null,callback:null,next:null,nextEffect:null}}function Ju(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ku(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Gu(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Gu(e.memoizedState),i=n.updateQueue=Gu(n.memoizedState)):r=e.updateQueue=$u(i):null===i&&(i=n.updateQueue=$u(r));null===i||r===i?Ju(r,t):null===r.lastUpdate||null===i.lastUpdate?(Ju(r,t),Ju(i,t)):(Ju(r,t),i.lastUpdate=t)}function Qu(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Gu(e.memoizedState):Zu(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Zu(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=$u(t)),t}function ea(e,t,n,r,u,a){switch(n.tag){case Wu:return"function"===typeof(e=n.payload)?e.call(a,r,u):e;case Yu:e.effectTag=-2049&e.effectTag|64;case qu:if(null===(u="function"===typeof(e=n.payload)?e.call(a,r,u):e)||void 0===u)break;return i({},r,u);case Hu:Vu=!0}return r}function ta(e,t,n,r,i){Vu=!1;for(var u=(t=Zu(e,t)).baseState,a=null,o=0,c=t.firstUpdate,f=u;null!==c;){var s=c.expirationTime;s<i?(null===a&&(a=c,u=f),o<s&&(o=s)):(f=ea(e,0,c,f,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(s=null,c=t.firstCapturedUpdate;null!==c;){var l=c.expirationTime;l<i?(null===s&&(s=c,null===a&&(u=f)),o<l&&(o=l)):(f=ea(e,0,c,f,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===s?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===s&&(u=f),t.baseState=u,t.firstUpdate=a,t.firstCapturedUpdate=s,e.expirationTime=o,e.memoizedState=f}function na(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ra(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ra(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ra(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function ia(e,t){return{value:e,source:t,stack:ct(t)}}function ua(e){e.effectTag|=4}var aa=void 0,oa=void 0,ca=void 0,fa=void 0;aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},oa=function(){},ca=function(e,t,n,r,u){var a=e.memoizedProps;if(a!==r){var o=t.stateNode;switch(wi(bi.current),e=null,n){case"input":a=yt(o,a),r=yt(o,r),e=[];break;case"option":a=Gn(o,a),r=Gn(o,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Xn(o,a),r=Xn(o,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(o.onclick=pr)}lr(n,r),o=n=void 0;var c=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var f=a[n];for(o in f)f.hasOwnProperty(o)&&(c||(c={}),c[o]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var s=r[n];if(f=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&s!==f&&(null!=s||null!=f))if("style"===n)if(f){for(o in f)!f.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(c||(c={}),c[o]="");for(o in s)s.hasOwnProperty(o)&&f[o]!==s[o]&&(c||(c={}),c[o]=s[o])}else c||(e||(e=[]),e.push(n,c)),c=s;else"dangerouslySetInnerHTML"===n?(s=s?s.__html:void 0,f=f?f.__html:void 0,null!=s&&f!==s&&(e=e||[]).push(n,""+s)):"children"===n?f===s||"string"!==typeof s&&"number"!==typeof s||(e=e||[]).push(n,""+s):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=s&&hr(u,n),e||f===s||(e=[])):(e=e||[]).push(n,s))}c&&(e=e||[]).push("style",c),u=e,(t.updateQueue=u)&&ua(t)}},fa=function(e,t,n,r){n!==r&&ua(t)};var sa="function"===typeof WeakSet?WeakSet:Set;function la(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ct(n)),null!==n&&ot(n.type),t=t.value,null!==e&&1===e.tag&&ot(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function da(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ga(e,n)}else t.current=null}function ha(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==ki){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==ki&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function pa(e){switch("function"===typeof qr&&qr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(u){Ga(i,u)}}n=n.next}while(n!==t)}break;case 1:if(da(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(u){Ga(e,u)}break;case 5:da(e);break;case 4:ga(e)}}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function va(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(ur(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var u=t,o=i.stateNode,c=n;8===u.nodeType?u.parentNode.insertBefore(o,c):u.insertBefore(o,c)}else t.insertBefore(i.stateNode,n);else r?(o=t,c=i.stateNode,8===o.nodeType?(u=o.parentNode).insertBefore(c,o):(u=o).appendChild(c),null!==(o=o._reactRootContainer)&&void 0!==o||null!==u.onclick||(u.onclick=pr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ga(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var u=t,o=u;;)if(pa(o),null!==o.child&&4!==o.tag)o.child.return=o,o=o.child;else{if(o===u)break;for(;null===o.sibling;){if(null===o.return||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i?(u=r,o=t.stateNode,8===u.nodeType?u.parentNode.removeChild(o):u.removeChild(o)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(pa(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ha(Di,Fi,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,u=t.updateQueue;t.updateQueue=null,null!==u&&function(e,t,n,r,i){e[N]=i,"input"===n&&"radio"===i.type&&null!=i.name&&wt(e,i),dr(n,r),r=dr(n,i);for(var u=0;u<t.length;u+=2){var a=t[u],o=t[u+1];"style"===a?fr(e,o):"dangerouslySetInnerHTML"===a?ir(e,o):"children"===a?ur(e,o):gt(e,a,o,r)}switch(n){case"input":_t(e,i);break;case"textarea":Kn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?$n(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?$n(e,!!i.multiple,i.defaultValue,!0):$n(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,u,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=_o())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=cr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var o=t.stateNode;null===o&&(o=t.stateNode=new sa),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=$a(t=_o(),e),null!==(e=Ja(e,t))&&(Zr(e,t),0!==(t=e.expirationTime)&&Ao(e,t))}.bind(null,t,e);o.has(e)||(o.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var ya="function"===typeof WeakMap?WeakMap:Map;function xa(e,t,n){(n=Xu(n)).tag=Yu,n.payload={element:null};var r=t.value;return n.callback=function(){jo(r),la(e,t)},n}function wa(e,t,n){(n=Xu(n)).tag=Yu;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)}}var u=e.stateNode;return null!==u&&"function"===typeof u.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ra?Ra=new Set([this]):Ra.add(this));var n=t.value,i=t.stack;la(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function _a(e){switch(e.tag){case 1:Nr(e.type)&&Br();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ai(),Pr(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Oi(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ai(),null;case 10:return Lu(e),null;default:return null}}var Aa=He.ReactCurrentDispatcher,Ea=He.ReactCurrentOwner,Oa=1073741822,ka=!1,Ca=null,Da=null,Fa=0,Ma=-1,Sa=!1,ja=null,Ta=!1,Na=null,Ba=null,Pa=null,Ra=null;function za(){if(null!==Ca)for(var e=Ca.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Br();break;case 3:Ai(),Pr();break;case 5:Oi(t);break;case 4:Ai();break;case 10:Lu(t)}e=e.return}Da=null,Fa=0,Ma=-1,Sa=!1,Ca=null}function La(){for(;null!==ja;){var e=ja.effectTag;if(16&e&&ur(ja.stateNode,""),128&e){var t=ja.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:va(ja),ja.effectTag&=-3;break;case 6:va(ja),ja.effectTag&=-3,ba(ja.alternate,ja);break;case 4:ba(ja.alternate,ja);break;case 8:ga(e=ja),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}ja=ja.nextEffect}}function Ia(){for(;null!==ja;){if(256&ja.effectTag)e:{var e=ja.alternate,t=ja;switch(t.tag){case 0:case 11:case 15:ha(Ci,ki,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}ja=ja.nextEffect}}function Ua(e,t){for(;null!==ja;){var n=ja.effectTag;if(36&n){var r=ja.alternate,i=ja,u=t;switch(i.tag){case 0:case 11:case 15:ha(Mi,Si,i);break;case 1:var o=i.stateNode;if(4&i.effectTag)if(null===r)o.componentDidMount();else{var c=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);o.componentDidUpdate(c,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&na(0,r,o);break;case 3:if(null!==(r=i.updateQueue)){if(o=null,null!==i.child)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}na(0,r,o)}break;case 5:u=i.stateNode,null===r&&4&i.effectTag&&gr(i.type,i.memoizedProps)&&u.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=ja.ref)&&(u=ja.stateNode,"function"===typeof i?i(u):i.current=u)),512&n&&(Na=e),ja=ja.nextEffect}}function qa(){null!==Ba&&_r(Ba),null!==Pa&&Pa()}function Wa(e,t){Ta=ka=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Zr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zr(e,t)):t>n&&Zr(e,t)}ni(0,e)}(e,i>r?i:r),Ea.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=En,vr=function(){var e=Pn();if(Rn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(h){t=null;break e}var u=0,a=-1,o=-1,c=0,f=0,s=e,l=null;t:for(;;){for(var d;s!==t||0!==r&&3!==s.nodeType||(a=u+r),s!==i||0!==n&&3!==s.nodeType||(o=u+n),3===s.nodeType&&(u+=s.nodeValue.length),null!==(d=s.firstChild);)l=s,s=d;for(;;){if(s===e)break t;if(l===t&&++c===r&&(a=u),l===i&&++f===n&&(o=u),null!==(d=s.nextSibling))break;l=(s=l).parentNode}s=d}t=-1===a||-1===o?null:{start:a,end:o}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),En=!1,ja=r;null!==ja;){i=!1;var o=void 0;try{Ia()}catch(f){i=!0,o=f}i&&(null===ja&&a("178"),Ga(ja,o),null!==ja&&(ja=ja.nextEffect))}for(ja=r;null!==ja;){i=!1,o=void 0;try{La()}catch(f){i=!0,o=f}i&&(null===ja&&a("178"),Ga(ja,o),null!==ja&&(ja=ja.nextEffect))}for(zn(vr),vr=null,En=!!mr,mr=null,e.current=t,ja=r;null!==ja;){i=!1,o=void 0;try{Ua(e,n)}catch(f){i=!0,o=f}i&&(null===ja&&a("178"),Ga(ja,o),null!==ja&&(ja=ja.nextEffect))}if(null!==r&&null!==Na){var c=function(e,t){Pa=Ba=Na=null;var n=ro;ro=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var u=t;ha(Ti,ki,u),ha(ki,ji,u)}catch(c){r=!0,i=c}r&&Ga(t,i)}t=t.nextEffect}while(null!==t);ro=n,0!==(n=e.expirationTime)&&Ao(e,n),fo||ro||Do(1073741823,!1)}.bind(null,e,r);Ba=u.unstable_runWithPriority(u.unstable_NormalPriority,function(){return wr(c)}),Pa=c}ka=Ta=!1,"function"===typeof Ur&&Ur(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ra=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ha(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Ca=e;e:{var u=t,o=Fa,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Nr(t.type)&&Br();break;case 3:Ai(),Pr(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==u&&null!==u.child||(bu(t),t.effectTag&=-3),oa(t);break;case 5:Oi(t);var f=wi(xi.current);if(o=t.type,null!==u&&null!=t.stateNode)ca(u,t,o,c,f),u.ref!==t.ref&&(t.effectTag|=128);else if(c){var s=wi(bi.current);if(bu(t)){u=(c=t).stateNode;var l=c.type,d=c.memoizedProps,h=f;switch(u[T]=c,u[N]=d,o=void 0,f=l){case"iframe":case"object":On("load",u);break;case"video":case"audio":for(l=0;l<te.length;l++)On(te[l],u);break;case"source":On("error",u);break;case"img":case"image":case"link":On("error",u),On("load",u);break;case"form":On("reset",u),On("submit",u);break;case"details":On("toggle",u);break;case"input":xt(u,d),On("invalid",u),hr(h,"onChange");break;case"select":u._wrapperState={wasMultiple:!!d.multiple},On("invalid",u),hr(h,"onChange");break;case"textarea":Jn(u,d),On("invalid",u),hr(h,"onChange")}for(o in lr(f,d),l=null,d)d.hasOwnProperty(o)&&(s=d[o],"children"===o?"string"===typeof s?u.textContent!==s&&(l=["children",s]):"number"===typeof s&&u.textContent!==""+s&&(l=["children",""+s]):y.hasOwnProperty(o)&&null!=s&&hr(h,o));switch(f){case"input":qe(u),At(u,d,!0);break;case"textarea":qe(u),Qn(u);break;case"select":case"option":break;default:"function"===typeof d.onClick&&(u.onclick=pr)}o=l,c.updateQueue=o,(c=null!==o)&&ua(t)}else{d=t,u=o,h=c,l=9===f.nodeType?f:f.ownerDocument,s===Zn.html&&(s=er(u)),s===Zn.html?"script"===u?((u=l.createElement("div")).innerHTML="<script><\/script>",l=u.removeChild(u.firstChild)):"string"===typeof h.is?l=l.createElement(u,{is:h.is}):(l=l.createElement(u),"select"===u&&h.multiple&&(l.multiple=!0)):l=l.createElementNS(s,u),(u=l)[T]=d,u[N]=c,aa(u,t,!1,!1),h=u;var p=f,m=dr(l=o,d=c);switch(l){case"iframe":case"object":On("load",h),f=d;break;case"video":case"audio":for(f=0;f<te.length;f++)On(te[f],h);f=d;break;case"source":On("error",h),f=d;break;case"img":case"image":case"link":On("error",h),On("load",h),f=d;break;case"form":On("reset",h),On("submit",h),f=d;break;case"details":On("toggle",h),f=d;break;case"input":xt(h,d),f=yt(h,d),On("invalid",h),hr(p,"onChange");break;case"option":f=Gn(h,d);break;case"select":h._wrapperState={wasMultiple:!!d.multiple},f=i({},d,{value:void 0}),On("invalid",h),hr(p,"onChange");break;case"textarea":Jn(h,d),f=Xn(h,d),On("invalid",h),hr(p,"onChange");break;default:f=d}lr(l,f),s=void 0;var v=l,g=h,b=f;for(s in b)if(b.hasOwnProperty(s)){var x=b[s];"style"===s?fr(g,x):"dangerouslySetInnerHTML"===s?null!=(x=x?x.__html:void 0)&&ir(g,x):"children"===s?"string"===typeof x?("textarea"!==v||""!==x)&&ur(g,x):"number"===typeof x&&ur(g,""+x):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(y.hasOwnProperty(s)?null!=x&&hr(p,s):null!=x&&gt(g,s,x,m))}switch(l){case"input":qe(h),At(h,d,!1);break;case"textarea":qe(h),Qn(h);break;case"option":null!=d.value&&h.setAttribute("value",""+bt(d.value));break;case"select":(f=h).multiple=!!d.multiple,null!=(h=d.value)?$n(f,!!d.multiple,h,!1):null!=d.defaultValue&&$n(f,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof f.onClick&&(h.onclick=pr)}(c=gr(o,c))&&ua(t),t.stateNode=u}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:u&&null!=t.stateNode?fa(u,t,u.memoizedProps,c):("string"!==typeof c&&(null===t.stateNode&&a("166")),u=wi(xi.current),wi(bi.current),bu(t)?(o=(c=t).stateNode,u=c.memoizedProps,o[T]=c,(c=o.nodeValue!==u)&&ua(t)):(o=t,(c=(9===u.nodeType?u:u.ownerDocument).createTextNode(c))[T]=t,o.stateNode=c));break;case 11:break;case 13:if(c=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=o,Ca=t;break e}c=null!==c,o=null!==u&&null!==u.memoizedState,null!==u&&!c&&o&&(null!==(u=u.child.sibling)&&(null!==(f=t.firstEffect)?(t.firstEffect=u,u.nextEffect=f):(t.firstEffect=t.lastEffect=u,u.nextEffect=null),u.effectTag=8)),(c||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ai(),oa(t);break;case 10:Lu(t);break;case 9:case 14:break;case 17:Nr(t.type)&&Br();break;case 18:break;default:a("156")}Ca=null}if(t=e,1===Fa||1!==t.childExpirationTime){for(c=0,o=t.child;null!==o;)(u=o.expirationTime)>c&&(c=u),(f=o.childExpirationTime)>c&&(c=f),o=o.sibling;t.childExpirationTime=c}if(null!==Ca)return Ca;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=_a(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ya(e){var t=Tu(e.alternate,e,Fa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ha(e)),Ea.current=null,t}function Va(e,t){ka&&a("243"),qa(),ka=!0;var n=Aa.current;Aa.current=cu;var r=e.nextExpirationTimeToWorkOn;r===Fa&&e===Da&&null!==Ca||(za(),Fa=r,Ca=Gr((Da=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Ca&&!ko();)Ca=Ya(Ca);else for(;null!==Ca;)Ca=Ya(Ca)}catch(g){if(Ru=Pu=Bu=null,Ki(),null===Ca)i=!0,jo(g);else{null===Ca&&a("271");var u=Ca,o=u.return;if(null!==o){e:{var c=e,f=o,s=u,l=g;if(o=Fa,s.effectTag|=1024,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=l;l=f;var h=-1,p=-1;do{if(13===l.tag){var m=l.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=l.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}l=l.return}while(null!==l);l=f;do{if((m=13===l.tag)&&(m=void 0!==l.memoizedProps.fallback&&null===l.memoizedState),m){if(null===(f=l.updateQueue)?((f=new Set).add(d),l.updateQueue=f):f.add(d),0===(1&l.mode)){l.effectTag|=64,s.effectTag&=-1957,1===s.tag&&(null===s.alternate?s.tag=17:((o=Xu(1073741823)).tag=Hu,Ku(s,o))),s.expirationTime=1073741823;break e}f=o;var v=(s=c).pingCache;null===v?(v=s.pingCache=new ya,m=new Set,v.set(d,m)):void 0===(m=v.get(d))&&(m=new Set,v.set(d,m)),m.has(f)||(m.add(f),s=Xa.bind(null,s,d,f),d.then(s,s)),-1===h?c=1073741823:(-1===p&&(p=10*(1073741822-ti(c,o))-5e3),c=p+h),0<=c&&Ma<c&&(Ma=c),l.effectTag|=2048,l.expirationTime=o;break e}l=l.return}while(null!==l);l=Error((ot(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(s))}Sa=!0,l=ia(l,s),c=f;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=o,Qu(c,o=xa(c,l,o));break e;case 1:if(h=l,p=c.type,s=c.stateNode,0===(64&c.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ra||!Ra.has(s)))){c.effectTag|=2048,c.expirationTime=o,Qu(c,o=wa(c,h,o));break e}}c=c.return}while(null!==c)}Ca=Ha(u);continue}i=!0,jo(g)}}break}if(ka=!1,Aa.current=n,Ru=Pu=Bu=null,Ki(),i)Da=null,e.finishedWork=null;else if(null!==Ca)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Da=null,Sa){if(i=e.latestPendingTime,u=e.latestSuspendedTime,o=e.latestPingedTime,0!==i&&i<r||0!==u&&u<r||0!==o&&o<r)return ei(e,r),void wo(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void wo(e,n,r,t,-1)}t&&-1!==Ma?(ei(e,r),(t=10*(1073741822-ti(e,r)))<Ma&&(Ma=t),t=10*(1073741822-_o()),t=Ma-t,wo(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Ga(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ra||!Ra.has(r)))return Ku(n,e=wa(n,e=ia(t,e),1073741823)),void Ka(n,1073741823);break;case 3:return Ku(n,e=xa(n,e=ia(t,e),1073741823)),void Ka(n,1073741823)}n=n.return}3===e.tag&&(Ku(e,n=xa(e,n=ia(t,e),1073741823)),Ka(e,1073741823))}function $a(e,t){var n=u.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(ka&&!Ta)r=Fa;else{switch(n){case u.unstable_ImmediatePriority:r=1073741823;break;case u.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case u.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case u.unstable_LowPriority:case u.unstable_IdlePriority:r=1;break;default:a("313")}null!==Da&&r===Fa&&--r}return n===u.unstable_UserBlockingPriority&&(0===ao||r<ao)&&(ao=r),r}function Xa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Da&&Fa===n?Da=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&Ao(e,n)))}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ka(e,t){null!==(e=Ja(e,t))&&(!ka&&0!==Fa&&t>Fa&&za(),Zr(e,t),ka&&!Ta&&Da===e||Ao(e,e.expirationTime),go>vo&&(go=0,a("185")))}function Qa(e,t,n,r,i){return u.unstable_runWithPriority(u.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var Za=null,eo=null,to=0,no=void 0,ro=!1,io=null,uo=0,ao=0,oo=!1,co=null,fo=!1,so=!1,lo=null,ho=u.unstable_now(),po=1073741822-(ho/10|0),mo=po,vo=50,go=0,bo=null;function yo(){po=1073741822-((u.unstable_now()-ho)/10|0)}function xo(e,t){if(0!==to){if(t<to)return;null!==no&&u.unstable_cancelCallback(no)}to=t,e=u.unstable_now()-ho,no=u.unstable_scheduleCallback(Co,{timeout:10*(1073741822-t)-e})}function wo(e,t,n,r,i){e.expirationTime=r,0!==i||ko()?0<i&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,yo(),mo=po,Fo(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function _o(){return ro?mo:(Eo(),0!==uo&&1!==uo||(yo(),mo=po),mo)}function Ao(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===eo?(Za=eo=e,e.nextScheduledRoot=e):(eo=eo.nextScheduledRoot=e).nextScheduledRoot=Za):t>e.expirationTime&&(e.expirationTime=t),ro||(fo?so&&(io=e,uo=1073741823,Mo(e,1073741823,!1)):1073741823===t?Do(1073741823,!1):xo(e,t))}function Eo(){var e=0,t=null;if(null!==eo)for(var n=eo,r=Za;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===eo)&&a("244"),r===r.nextScheduledRoot){Za=eo=r.nextScheduledRoot=null;break}if(r===Za)Za=i=r.nextScheduledRoot,eo.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===eo){(eo=n).nextScheduledRoot=Za,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===eo)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}io=t,uo=e}var Oo=!1;function ko(){return!!Oo||!!u.unstable_shouldYield()&&(Oo=!0)}function Co(){try{if(!ko()&&null!==Za){yo();var e=Za;do{var t=e.expirationTime;0!==t&&po<=t&&(e.nextExpirationTimeToWorkOn=po),e=e.nextScheduledRoot}while(e!==Za)}Do(0,!0)}finally{Oo=!1}}function Do(e,t){if(Eo(),t)for(yo(),mo=po;null!==io&&0!==uo&&e<=uo&&!(Oo&&po>uo);)Mo(io,uo,po>uo),Eo(),yo(),mo=po;else for(;null!==io&&0!==uo&&e<=uo;)Mo(io,uo,!1),Eo();if(t&&(to=0,no=null),0!==uo&&xo(io,uo),go=0,bo=null,null!==lo)for(e=lo,lo=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){oo||(oo=!0,co=r)}}if(oo)throw e=co,co=null,oo=!1,e}function Fo(e,t){ro&&a("253"),io=e,uo=t,Mo(e,t,!1),Do(1073741823,!1)}function Mo(e,t,n){if(ro&&a("245"),ro=!0,n){var r=e.finishedWork;null!==r?So(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,xr(r)),Va(e,n),null!==(r=e.finishedWork)&&(ko()?e.finishedWork=r:So(e,r,t)))}else null!==(r=e.finishedWork)?So(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,xr(r)),Va(e,n),null!==(r=e.finishedWork)&&So(e,r,t));ro=!1}function So(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===lo?lo=[r]:lo.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===bo?go++:(bo=e,go=0),u.unstable_runWithPriority(u.unstable_ImmediatePriority,function(){Wa(e,t)})}function jo(e){null===io&&a("246"),io.expirationTime=0,oo||(oo=!0,co=e)}function To(e,t){var n=fo;fo=!0;try{return e(t)}finally{(fo=n)||ro||Do(1073741823,!1)}}function No(e,t){if(fo&&!so){so=!0;try{return e(t)}finally{so=!1}}return e(t)}function Bo(e,t,n){fo||ro||0===ao||(Do(ao,!1),ao=0);var r=fo;fo=!0;try{return u.unstable_runWithPriority(u.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(fo=r)||ro||Do(1073741823,!1)}}function Po(e,t,n,r,i){var u=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Nr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);a("171"),o=void 0}if(1===n.tag){var c=n.type;if(Nr(c)){n=zr(n,c,o);break e}}n=o}else n=Fr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Xu(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),qa(),Ku(u,i),Ka(u,r),r}function Ro(e,t,n,r){var i=t.current;return Po(e,t,n,i=$a(_o(),i),r)}function zo(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Lo(e){var t=1073741822-25*(1+((1073741822-_o()+500)/25|0));t>=Oa&&(t=Oa-1),this._expirationTime=Oa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Io(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Uo(e,t,n){e={current:t=Yr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function qo(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wo(e,t,n,r,i){var u=n._reactRootContainer;if(u){if("function"===typeof i){var a=i;i=function(){var e=zo(u._internalRoot);a.call(e)}}null!=e?u.legacy_renderSubtreeIntoContainer(e,t,i):u.render(t,i)}else{if(u=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uo(e,!1,t)}(n,r),"function"===typeof i){var o=i;i=function(){var e=zo(u._internalRoot);o.call(e)}}No(function(){null!=e?u.legacy_renderSubtreeIntoContainer(e,t,i):u.render(t,i)})}return zo(u._internalRoot)}function Ho(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return qo(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ke=function(e,t,n){switch(t){case"input":if(_t(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=z(r);i||a("90"),We(r),_t(r,i)}}}break;case"textarea":Kn(e,n);break;case"select":null!=(t=n.value)&&$n(e,!!n.multiple,t,!1)}},Lo.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Io;return Po(e,t,null,n,r._onCommit),r},Lo.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Lo.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Fo(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Lo.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Io.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Io.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&a("191",n),n()}}},Uo.prototype.render=function(e,t){var n=this._internalRoot,r=new Io;return null!==(t=void 0===t?null:t)&&r.then(t),Ro(e,n,null,r._onCommit),r},Uo.prototype.unmount=function(e){var t=this._internalRoot,n=new Io;return null!==(e=void 0===e?null:e)&&n.then(e),Ro(null,t,null,n._onCommit),n},Uo.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Io;return null!==(n=void 0===n?null:n)&&i.then(n),Ro(t,r,e,i._onCommit),i},Uo.prototype.createBatch=function(){var e=new Lo(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},je=To,Te=Bo,Ne=function(){ro||0===ao||(Do(ao,!1),ao=0)};var Yo={createPortal:Ho,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return qo(t)||a("200"),Wo(null,e,t,!0,n)},render:function(e,t,n){return qo(t)||a("200"),Wo(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return qo(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Wo(e,t,n,!1,r)},unmountComponentAtNode:function(e){return qo(e)||a("40"),!!e._reactRootContainer&&(No(function(){Wo(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ho.apply(void 0,arguments)},unstable_batchedUpdates:To,unstable_interactiveUpdates:Bo,flushSync:function(e,t){ro&&a("187");var n=fo;fo=!0;try{return Qa(e,t)}finally{fo=n,Do(1073741823,!1)}},unstable_createRoot:function(e,t){return qo(e)||a("299","unstable_createRoot"),new Uo(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=fo;fo=!0;try{Qa(e)}finally{(fo=t)||ro||Do(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[P,R,z,F.injectEventPluginsByName,b,H,function(e){k(e,W)},Me,Se,Dn,S]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ur=Wr(function(e){return t.onCommitFiberRoot(n,e)}),qr=Wr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}})(i({},e,{overrideProps:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:B,bundleType:0,version:"16.8.3",rendererPackageName:"react-dom"});var Vo={default:Yo},Go=Vo&&Yo||Vo;e.exports=Go.default||Go},function(e,t,n){"use strict";e.exports=n(118)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,u=-1,a=-1,o=!1,c=!1;function f(){if(!o){var e=n.expirationTime;c?A():c=!0,_(d,e)}}function s(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var u=i,o=a;i=e,a=t;try{var c=r()}finally{i=u,a=o}if("function"===typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=c.next=c.previous=c;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=c,f()),(t=r.previous).next=r.previous=c,c.next=r,c.previous=t}}function l(){if(-1===u&&null!==n&&1===n.priorityLevel){o=!0;try{do{s()}while(null!==n&&1===n.priorityLevel)}finally{o=!1,null!==n?f():c=!1}}}function d(e){o=!0;var i=r;r=e;try{if(e)for(;null!==n;){var u=t.unstable_now();if(!(n.expirationTime<=u))break;do{s()}while(null!==n&&n.expirationTime<=u)}else if(null!==n)do{s()}while(null!==n&&!E())}finally{o=!1,r=i,null!==n?f():c=!1,l()}}var h,p,m=Date,v="function"===typeof setTimeout?setTimeout:void 0,g="function"===typeof clearTimeout?clearTimeout:void 0,b="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function x(e){h=b(function(t){g(p),e(t)}),p=v(function(){y(h),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var _,A,E,O=null;if("undefined"!==typeof window?O=window:"undefined"!==typeof e&&(O=e),O&&O._schedMock){var k=O._schedMock;_=k[0],A=k[1],E=k[2],t.unstable_now=k[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var C=null,D=function(e){if(null!==C)try{C(e)}finally{C=null}};_=function(e){null!==C?setTimeout(_,0,e):(C=e,setTimeout(D,0,!1))},A=function(){C=null},E=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var F=null,M=!1,S=-1,j=!1,T=!1,N=0,B=33,P=33;E=function(){return N<=t.unstable_now()};var R=new MessageChannel,z=R.port2;R.port1.onmessage=function(){M=!1;var e=F,n=S;F=null,S=-1;var r=t.unstable_now(),i=!1;if(0>=N-r){if(!(-1!==n&&n<=r))return j||(j=!0,x(L)),F=e,void(S=n);i=!0}if(null!==e){T=!0;try{e(i)}finally{T=!1}}};var L=function e(t){if(null!==F){x(e);var n=t-N+P;n<P&&B<P?(8>n&&(n=8),P=n<B?B:n):B=n,N=t+P,M||(M=!0,z.postMessage(void 0))}else j=!1};_=function(e,t){F=e,S=t,T||0>t?z.postMessage(void 0):j||(j=!0,x(L))},A=function(){F=null,M=!1,S=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=u;i=e,u=t.unstable_now();try{return n()}finally{i=r,u=a,l()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=u;i=n,u=t.unstable_now();try{return e()}finally{i=r,u=a,l()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==u?u:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,f();else{a=null;var o=n;do{if(o.expirationTime>r){a=o;break}o=o.next}while(o!==n);null===a?a=n:a===n&&(n=e,f()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=u;i=n,u=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,u=a,l()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())},t.unstable_continueExecution=function(){null!==n&&f()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(68))},,,function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,u=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(122),i)r.regeneratorRuntime=u;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,u="function"===typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",o=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag",f="object"===typeof e,s=t.regeneratorRuntime;if(s)f&&(e.exports=s);else{(s=t.regeneratorRuntime=f?e.exports:{}).wrap=x;var l="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==r&&i.call(b,a)&&(v=b);var y=E.prototype=_.prototype=Object.create(v);A.prototype=y.constructor=E,E.constructor=A,E[c]=A.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[o]=function(){return this},s.AsyncIterator=k,s.async=function(e,t,n,r){var i=new k(x(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return o.type="throw",o.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),f=i.call(a,"finallyLoc");if(c&&f){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var a=u?u.completion:{};return a.type=e,a.arg=t,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function x(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,u=Object.create(i.prototype),a=new M(r||[]);return u._invoke=function(e,t,n){var r=l;return function(i,u){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw u;return j()}for(n.method=i,n.arg=u;;){var a=n.delegate;if(a){var o=C(a,n);if(o){if(o===m)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),u}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function _(){}function A(){}function E(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){var t;this._invoke=function(n,r){function u(){return new Promise(function(t,u){!function t(n,r,u,a){var o=w(e[n],e,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"===typeof f&&i.call(f,"__await")?Promise.resolve(f.__await).then(function(e){t("next",e,u,a)},function(e){t("throw",e,u,a)}):Promise.resolve(f).then(function(e){c.value=e,u(c)},function(e){return t("throw",e,u,a)})}a(o.arg)}(n,r,t,u)})}return t=t?t.then(u,u):u()}}function C(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var u=i.arg;return u?u.done?(t[e.resultName]=u.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):u:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,u=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return u.next=u}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";(function(e){var r=n(124),i=n(125),u=n(126);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return f(this,e,t,n)}function f(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=o(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=o(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?o(e,0):d(e,t);if("Buffer"===t.type&&u(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(s(t),e=o(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return I(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var u,a=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,n/=2}function f(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var s=-1;for(u=n;u<o;u++)if(f(e,u)===f(t,-1===s?0:u-s)){if(-1===s&&(s=u),u-s+1===c)return s*a}else-1!==s&&(u-=u-s),s=-1}else for(n+c>o&&(n=o-c),u=n;u>=0;u--){for(var l=!0,d=0;d<c;d++)if(f(e,u+d)!==f(t,d)){l=!1;break}if(l)return u}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var u=t.length;if(u%2!==0)throw new TypeError("Invalid hex string");r>u/2&&(r=u/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function y(e,t,n,r){return q(I(t,e.length-n),e,n,r)}function x(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return q(U(t),e,n,r)}function A(e,t,n,r){return q(function(e,t){for(var n,r,i,u=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,u.push(i),u.push(r);return u}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var u,a,o,c,f=e[i],s=null,l=f>239?4:f>223?3:f>191?2:1;if(i+l<=n)switch(l){case 1:f<128&&(s=f);break;case 2:128===(192&(u=e[i+1]))&&(c=(31&f)<<6|63&u)>127&&(s=c);break;case 3:u=e[i+1],a=e[i+2],128===(192&u)&&128===(192&a)&&(c=(15&f)<<12|(63&u)<<6|63&a)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:u=e[i+1],a=e[i+2],o=e[i+3],128===(192&u)&&128===(192&a)&&128===(192&o)&&(c=(15&f)<<18|(63&u)<<12|(63&a)<<6|63&o)>65535&&c<1114112&&(s=c)}null===s?(s=65533,l=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=l}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return f(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"===typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,u=Math.min(n,r);i<u;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!u(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var u=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),o=Math.min(u,a),f=this.slice(r,i),s=e.slice(t,n),l=0;l<o;++l)if(f[l]!==s[l]){u=f[l],a=s[l];break}return u<a?-1:a<u?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",u=t;u<n;++u)i+=L(e[u]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",u=0;u<r.length;u+=2)i+=String.fromCharCode(r[u]+256*r[u+1]);return i}function S(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,u){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<u)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function T(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,u=Math.min(e.length-n,2);i<u;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,u=Math.min(e.length-n,4);i<u;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,u){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,u){return u||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,u){return u||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var u=0;u<i;++u)n[u]=this[u+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,u=0;++u<t&&(i*=256);)r+=this[e+u]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,u=0;++u<t&&(i*=256);)r+=this[e+u]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,i=1,u=this[e+--r];r>0&&(i*=256);)u+=this[e+--r]*i;return u>=(i*=128)&&(u-=Math.pow(2,8*t)),u},c.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,u=0;for(this[t]=255&e;++u<n&&(i*=256);)this[t+u]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,u=1;for(this[t+i]=255&e;--i>=0&&(u*=256);)this[t+i]=e/u&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var u=0,a=1,o=0;for(this[t]=255&e;++u<n&&(a*=256);)e<0&&0===o&&0!==this[t+u-1]&&(o=1),this[t+u]=(e/a>>0)-o&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var u=n-1,a=1,o=0;for(this[t+u]=255&e;--u>=0&&(a*=256);)e<0&&0===o&&0!==this[t+u+1]&&(o=1),this[t+u]=(e/a>>0)-o&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,u=r-n;if(this===e&&n<t&&t<r)for(i=u-1;i>=0;--i)e[i+t]=this[i+n];else if(u<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<u;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+u),t);return u},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var u;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(u=t;u<n;++u)this[u]=e;else{var a=c.isBuffer(e)?e:I(new c(e,r).toString()),o=a.length;for(u=0;u<n-t;++u)this[u+t]=a[u%o]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var n;t=t||1/0;for(var r=e.length,i=null,u=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&u.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&u.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&u.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&u.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;u.push(n)}else if(n<2048){if((t-=2)<0)break;u.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;u.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return u}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(68))},function(e,t,n){"use strict";t.byteLength=function(e){var t=f(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=f(e),r=n[0],a=n[1],o=new u(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),c=0,s=a>0?r-4:r,l=0;l<s;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=255&t;2===a&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,o[c++]=255&t);1===a&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,o[c++]=t>>8&255,o[c++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,u=[],a=0,o=n-i;a<o;a+=16383)u.push(s(e,a,a+16383>o?o:a+16383));1===i?(t=e[n-1],u.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],u.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return u.join("")};for(var r=[],i=[],u="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)r[o]=a[o],i[a.charCodeAt(o)]=o;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var i,u,a=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(u=i)>>18&63]+r[u>>12&63]+r[u>>6&63]+r[63&u]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var u,a,o=8*i-r-1,c=(1<<o)-1,f=c>>1,s=-7,l=n?i-1:0,d=n?-1:1,h=e[t+l];for(l+=d,u=h&(1<<-s)-1,h>>=-s,s+=o;s>0;u=256*u+e[t+l],l+=d,s-=8);for(a=u&(1<<-s)-1,u>>=-s,s+=r;s>0;a=256*a+e[t+l],l+=d,s-=8);if(0===u)u=1-f;else{if(u===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),u-=f}return(h?-1:1)*a*Math.pow(2,u-r)},t.write=function(e,t,n,r,i,u){var a,o,c,f=8*u-i-1,s=(1<<f)-1,l=s>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:u-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=s):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=s?(o=0,a=s):a+l>=1?(o=(t*c-1)*Math.pow(2,i),a+=l):(o=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&o,h+=p,o/=256,i-=8);for(a=a<<i|o,f+=i;f>0;e[n+h]=255&a,h+=p,a/=256,f-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(128),u=n(129),a=n(131),o=n(135),c=void 0,f=!1;function s(e,t){e.addEventListener("mouseover.tooltipInit",function(e,n){d(n)&&(l(),c=window.setTimeout(function(){!function(e,t,n){var i=o.getTooltipPlaceholder(),a=u.getTooltipData(t,n);if(!a||0===a.length)return;o.bindData(i,a),o.updatePosition(e,n),o.updateColorTheme(n),r.select("#vis-tooltip").style("visibility","visible"),f=!0,n.onAppear&&n.onAppear(e,t)}(e,n,t)},t.delay||i.DELAY))}),e.addEventListener("mousemove.tooltipUpdate",function(e,n){d(n)&&f&&function(e,t,n){if(!d(t))return;o.updatePosition(e,n),n.onMove&&n.onMove(e,t)}(e,n,t)}),e.addEventListener("mouseout.tooltipRemove",function(e,n){d(n)&&(l(),f&&function(e,t,n){if(!d(t))return;r.select("#vis-tooltip").style("visibility","hidden"),f=!1,o.clearData(),o.clearColorTheme(),o.clearPosition(),n.onDisappear&&n.onDisappear(e,t)}(e,n,t))})}function l(){window.clearTimeout(c),c=void 0}function d(e){return!(!e||!e.datum)&&!e.datum._facetID}function h(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}t.vega=function(e,t){return void 0===t&&(t={showAllFields:!0,isComposition:!1}),s(e,h(t)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),l()}}},t.vegaLite=function(e,t,n){return void 0===n&&(n={showAllFields:!0,isComposition:!1}),n=a.supplementOptions(h(n),t),s(e,h(n)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),l()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELAY=100},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(130);function u(e,t){void 0===t&&(t={});var n=[];return t.fields.forEach(function(u){var o=r.isString(u.title)?u.title:void 0,c=r.isFunction(u.title)?u.title:void 0,f=c&&c(e)||o||u.field,s=u.valueAccessor&&u.valueAccessor(e)||a(e,u.field,t.isComposition);if(void 0!==s){var l=i.customFormat(s,u.formatType,u.format)||i.autoFormat(s);n.push({title:f,value:l,rawValue:s,render:u.render})}}),n}function a(e,t,n){var r,i=t.split("."),u=i[0];return i.shift(),e[u]&&(r=e[u],i.forEach(function(e){(r=r)[e]&&(r=r[e])})),void 0===r?void(n||console.warn("[Tooltip] Cannot find field "+t+" in data.")):r}function o(e,t){void 0===t&&(t={});var n=[],r={};if(t&&t.fields)for(var u=0,a=t.fields;u<a.length;u++){var o=a[u];r[o.field]=o}for(var c in e)if(e.hasOwnProperty(c)){var f=e[c],s=void 0;s=r[c]&&r[c].title?r[c].title:c;var l=void 0,d=void 0;r[c]&&(l=r[c].formatType,d=r[c].format);var h=i.customFormat(f,l,d)||i.autoFormat(f);n.push({title:s,value:h,rawValue:f})}return n}function c(e,t){t.forEach(function(t){delete e[t]})}function f(e,t){t&&t.forEach(function(t){t.removeOriginalTemporalField&&c(e,[t.removeOriginalTemporalField])})}function s(e,t){if(t)return t.forEach(function(t){if(!0===t.bin){var n=t.field,r=n,i=n.concat("_mid"),u=n.concat("_end"),a=e[r],o=e[u];if(void 0!==a&&void 0!==o){var f=a+"-"+o;e[n]=f}c(e,[i,u])}}),e}function l(e,t){if("line"===e||"area"===e){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var u=t[i];r.isDate(u)&&n.push(i)}c(t,n)}}t.getTooltipData=function(e,t){if("group"!==e.mark.marktype){var n,i={};for(var a in e.datum)e.datum.hasOwnProperty(a)&&(i[a]=e.datum[a]);if(c(i,["width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"]),f(i,t.fields),s(i,t.fields),l(e.mark.marktype,i),n=!0===t.showAllFields?o(i,t):u(i,t),t.sort){var d="title"===t.sort?"title":"value"===t.sort?"rawValue":null,h=d?function(e){return function(t,n){return r.isNumber(t[e])&&r.isNumber(n[e])?n[e]-t[e]:r.isString(t[e])&&r.isString(n[e])?t[e].localeCompare(n[e]):r.isDate(t[e])&&r.isDate(n[e])?t[e]-n[e]:r.isDate(t[e])?-1:r.isDate(n[e])?1:r.isNumber(t[e])?-1:(r.isNumber(n[e]),1)}}(d):r.isFunction(t.sort)&&t.sort;h&&(n=n.sort(h))}return n}},t.prepareCustomFieldsData=u,t.getValue=a,t.prepareAllFieldsData=o,t.removeFields=c,t.removeDuplicateTimeFields=f,t.combineBinFields=s,t.dropFieldsForLineArea=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(4),u=n(23),a=n(0);function o(e){return e%1===0?r.format(",")(e):r.format(",.2f")(e)}function c(e){var t=u.timeFormat(".%L"),n=u.timeFormat(":%S"),r=u.timeFormat("%I:%M"),a=u.timeFormat("%I %p"),o=u.timeFormat("%a %d"),c=u.timeFormat("%b %d"),f=u.timeFormat("%B"),s=u.timeFormat("%Y");return(i.timeSecond(e)<e?t:i.timeMinute(e)<e?n:i.timeHour(e)<e?r:i.timeDay(e)<e?a:i.timeMonth(e)<e?i.timeWeek(e)<e?o:c:i.timeYear(e)<e?f:s)(e)}t.customFormat=function(e,t,n){if(void 0!==e&&null!==e&&(t||n)){if(a.isString(n))switch(t){case"time":return n?u.timeFormat(n)(e):c(e);case"number":return n?r.format(n)(e):o(e);case"string":default:return e}return a.isFunction(n)?n(e):void 0}},t.autoFormat=function(e){return a.isNumber(e)?o(e):a.isDate(e)?c(e):e},t.autoNumberFormat=o,t.autoTimeFormat=c},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(229),u=n(30),a=n(24),o={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};function c(e,t){if(t&&e&&!(e.length<=0))if(t.aggregate){for(var n=0,r=e;n<r.length;n++){if((c=r[n]).field===t.field&&c.aggregate===t.aggregate)return c}for(var i=0,u=e;i<u.length;i++){if((c=u[i]).field===t.field&&!c.aggregate)return c}}else for(var a=0,o=e;a<o.length;a++){var c;if((c=o[a]).field===t.field)return c}}function f(e,t){if(t&&t.field&&e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field){if(!i.aggregate)return i;if(i.aggregate===t.aggregate||!t.aggregate)return i}}}function s(e,t,n){var u=r({},n.config);if(e||t){!e&&t&&(e={}),e&&!t&&(t={});var c={};if(t.bin&&(t.bin=i.fieldDef.normalizeBin(t.bin,void 0)),c.field=i.fieldDef.vgField(t)||e.field,t.type===a.TEMPORAL&&t.timeUnit){var f=t.field;c.removeOriginalTemporalField=f;for(var s=0,l=i.spec.fieldDefs(n);s<l.length;s++){var d=l[s];if(d.field===f&&!d.timeUnit){c.removeOriginalTemporalField=void 0;break}}}u.countTitle||(u.countTitle=i.config.defaultConfig.countTitle);var h=i.fieldDef.title(t,u);if("axis"in t&&t.axis&&t.axis.title&&(h=t.axis.title),function(e){return"legend"in e}(t)&&t.legend&&t.legend.title&&(h=t.legend.title),c.title=e.title||h,c.formatType=e.formatType||o[t.type],e.format)c.format=e.format;else switch(c.formatType){case"time":c.format=t.timeUnit?i.timeUnit.formatExpression(t.timeUnit,"",!1,!1).split("'")[1]:u.timeFormat||i.config.defaultConfig.timeFormat;break;case"number":c.format=u.numberFormat}return t.bin&&(c.field=c.field.replace("_start","_range"),c.bin=!0,c.formatType="string"),c}console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.")}t.supplementOptions=function(e,t){var n=[];return t=u.normalize(t,{}),!1!==e.showAllFields?i.spec.fieldDefs(t).forEach(function(r){var i=s(c(e.fields,r),r,t);n.push(i)}):e.fields&&e.fields.forEach(function(e){var r=s(e,f(i.spec.fieldDefs(t),e),t);n.push(r)}),function(e){return u.isConcatSpec(e)||u.isFacetSpec(e)||u.isLayerSpec(e)||u.isRepeatSpec(e)}(t)&&(e.isComposition=!0),e.fields=n,e},t.getFieldOption=c,t.getFieldDef=f,t.supplementFieldOption=s},function(e,t,n){t.parse=n(133),t.stringify=n(134)},function(e,t){var n,r,i,u,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},c=function(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},f=function(){var e,t="";for("-"===r&&(t="-",c("-"));r>="0"&&r<="9";)t+=r,c();if("."===r)for(t+=".";c()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,c(),"-"!==r&&"+"!==r||(t+=r,c());r>="0"&&r<="9";)t+=r,c();if(e=+t,isFinite(e))return e;o("Bad number")},s=function(){var e,t,n,i="";if('"'===r)for(;c();){if('"'===r)return c(),i;if("\\"===r)if(c(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!==typeof a[r])break;i+=a[r]}else i+=r}o("Bad string")},l=function(){for(;r&&r<=" ";)c()},d=function(){var e=[];if("["===r){if(c("["),l(),"]"===r)return c("]"),e;for(;r;){if(e.push(u()),l(),"]"===r)return c("]"),e;c(","),l()}}o("Bad array")},h=function(){var e,t={};if("{"===r){if(c("{"),l(),"}"===r)return c("}"),t;for(;r;){if(e=s(),l(),c(":"),Object.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=u(),l(),"}"===r)return c("}"),t;c(","),l()}}o("Bad object")};u=function(){switch(l(),r){case"{":return h();case"[":return d();case'"':return s();case"-":return f();default:return r>="0"&&r<="9"?f():function(){switch(r){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}o("Unexpected '"+r+"'")}()}},e.exports=function(e,t){var a;return i=e,n=0,r=" ",a=u(),l(),r&&o("Syntax error"),"function"===typeof t?function e(n,r){var i,u,a=n[r];if(a&&"object"===typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(u=e(a,i))?a[i]=u:delete a[i]);return t.call(n,r,a)}({"":a},""):a}},function(e,t){var n,r,i,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=a[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,u){var a;if(n="",r="","number"===typeof u)for(a=0;a<u;a+=1)r+=" ";else"string"===typeof u&&(r=u);if(i=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return function e(t,u){var a,c,f,s,l,d=n,h=u[t];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(t)),"function"===typeof i&&(h=i.call(u,t,h)),typeof h){case"string":return o(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(n+=r,l=[],"[object Array]"===Object.prototype.toString.apply(h)){for(s=h.length,a=0;a<s;a+=1)l[a]=e(a,h)||"null";return f=0===l.length?"[]":n?"[\n"+n+l.join(",\n"+n)+"\n"+d+"]":"["+l.join(",")+"]",n=d,f}if(i&&"object"===typeof i)for(s=i.length,a=0;a<s;a+=1)"string"===typeof(c=i[a])&&(f=e(c,h))&&l.push(o(c)+(n?": ":":")+f);else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(f=e(c,h))&&l.push(o(c)+(n?": ":":")+f);return f=0===l.length?"{}":n?"{\n"+n+l.join(",\n"+n)+"\n"+d+"}":"{"+l.join(",")+"}",n=d,f}}("",{"":e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);function i(){r.select("#vis-tooltip").classed("dark-theme light-theme",!1)}t.getTooltipPlaceholder=function(){return r.select("#vis-tooltip").empty()?r.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):r.select("#vis-tooltip")},t.bindData=function(e,t){e.selectAll("table").remove();var n=e.append("table").selectAll(".tooltip-row").data(t);n.exit().remove(),n.enter().append("tr").attr("class","tooltip-row").each(function(e){var t=r.select(this);e.render?t.append("td").attr("colspan","2").append(function(){return e.render(e.title,e.value)}):(t.append("td").attr("class","key").text(function(e){return e.title+":"}),t.append("td").attr("class","value").text(function(e){return e.value}))})},t.clearData=function(){r.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()},t.updatePosition=function(e,t){var n=10,i=10;t&&t.offset&&void 0!==t.offset.x&&null!==t.offset.x&&(n=t.offset.x),t&&t.offset&&void 0!==t.offset.y&&null!==t.offset.y&&(i=t.offset.y),r.select("#vis-tooltip").style("top",function(){var t=this.getBoundingClientRect().height;return e.clientY+t+i<window.innerHeight?e.clientY+i+"px":e.clientY-t-i+"px"}).style("left",function(){var t=this.getBoundingClientRect().width;return e.clientX+t+n<window.innerWidth?e.clientX+n+"px":e.clientX-t-n+"px"})},t.clearPosition=function(){r.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")},t.updateColorTheme=function(e){i(),e&&"dark"===e.colorTheme?r.select("#vis-tooltip").classed("dark-theme",!0):r.select("#vis-tooltip").classed("light-theme",!0)},t.clearColorTheme=i},,,,,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(1),u=n(143);e.exports=u({displayName:"exports",_replace:function(e,t,n,r,i){var u=t||"";return n&&(u=u+'"<span class=json-key>'+n.replace(/^"|":\s$/g,"")+'</span>": '),r&&(u="true"===r||"false"===r?u+"<span class=json-boolean>"+r+"</span>":u+('"'==r[0]?"<span class=json-string>":"<span class=json-value>")+r+"</span>"),u+(i||"")},_pretty:function(e,t,n){var r=JSON.stringify(e,"function"===typeof t?t:null,isNaN(n)?2:n);return r?r.replace(/&/g,"&amp;").replace(/\\"([^,])/g,"\\&quot;$1").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([,[{]|\[\s*\],?|\{\s*\},?)?$/gm,this._replace):r},render:function(){var e=this.props,t=e.json,n=e.replacer,u=e.space,a=e.className,o=e.themeClassName,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["json","replacer","space","className","themeClassName"]),f=(o=o?o.trim():o)||"json-pretty",s=(a=a?a.trim():a)?a+" "+f:f;if("string"===typeof t)try{t=JSON.parse(t)}catch(l){return console.error("The string is not a valid json data!",l),i.createElement("pre",r({},c,{className:s||"json-pretty",dangerouslySetInnerHTML:{__html:t}}))}return i.createElement("pre",r({},c,{className:s||"json-pretty",dangerouslySetInnerHTML:{__html:this._pretty(t,n,+u)}}))}})},function(e,t,n){"use strict";var r=n(1),i=n(144);if("undefined"===typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var u=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,u)},function(e,t,n){"use strict";var r=n(73),i=n(145),u=n(146),a="mixins";e.exports=function(e,t,n){var o=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},f={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in s;u(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;if(a){var o=f.hasOwnProperty(n)?f[n]:null;return u("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function l(e,t){var n=c.hasOwnProperty(t)?c[t]:null;y.hasOwnProperty(t)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){u("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var o in n.hasOwnProperty(a)&&s.mixins(e,n.mixins),n)if(n.hasOwnProperty(o)&&o!==a){var f=n[o],d=r.hasOwnProperty(o);if(l(d,o),s.hasOwnProperty(o))s[o](e,f);else{var h=c.hasOwnProperty(o);if("function"!==typeof f||h||d||!1===n.autobind)if(d){var v=c[o];u(h&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,o),"DEFINE_MANY_MERGED"===v?r[o]=p(r[o],f):"DEFINE_MANY"===v&&(r[o]=m(r[o],f))}else r[o]=f;else i.push(o,f),r[o]=f}}}}function h(e,t){for(var n in u(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(u(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return h(i,n),h(i,r),i}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return r(x.prototype,e.prototype,y),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;u("object"===typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o};for(var r in t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),u(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),c)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,u,a,o,c){if(r(t),!e){var f;if(void 0===t)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,i,u,a,o,c],l=0;(f=new Error(t.replace(/%s/g,function(){return s[l++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}}},function(e,t){var n=function(){var e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),r=function(){var e=this.cancelAnimationFrame||this.mozCancelAnimationFrame||this.webkitCancelAnimationFrame||this.clearTimeout;return function(t){return e(t)}}();function i(e){var t=e.target||e.srcElement;t.__resizeRAF__&&r(t.__resizeRAF__),t.__resizeRAF__=n(function(){var n=t.__resizeTrigger__;n.__resizeListeners__.forEach(function(t){t.call(n,e)})})}t=function(e,t){var n,r=this.document,u=r.attachEvent;if("undefined"!==typeof navigator&&(n=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],u)e.__resizeTrigger__=e,e.attachEvent("onresize",i);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var a=e.__resizeTrigger__=r.createElement("object");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),a.setAttribute("class","resize-sensor"),a.__resizeElement__=e,a.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i)},a.type="text/html",n&&e.appendChild(a),a.data="about:blank",n||e.appendChild(a)}e.__resizeListeners__.push(t)};e.exports="undefined"===typeof window?t:t.bind(window),e.exports.unbind=function(e,t){var n=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(n?e.detachEvent("onresize",i):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",i),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__)}},,,function(e,t,n){"use strict";var r=n(151);function i(){}function u(){}u.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,u,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=e.exports=n(194);r.build="full",r.tokenize=n(99),r.parse=n(208),r.common=n(209),r.Root._configure(r.Type,r.parse,r.common)},function(e,t,n){"use strict";var r=e.exports=n(195);r.build="light",r.load=function(e,t,n){return"function"===typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(94),r.decoder=n(95),r.verifier=n(96),r.converter=n(97),r.ReflectionObject=n(55),r.Namespace=n(60),r.Root=n(81),r.Enum=n(41),r.Type=n(76),r.Field=n(52),r.OneOf=n(69),r.MapField=n(77),r.Service=n(78),r.Method=n(79),r.Message=n(80),r.wrappers=n(98),r.types=n(56),r.util=n(33),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},function(e,t,n){"use strict";var r=t;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(74),r.BufferWriter=n(202),r.Reader=n(75),r.BufferReader=n(203),r.util=n(45),r.rpc=n(92),r.roots=n(93),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),u=new Array(123),a=0;a<64;)u[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,u=null,a=[],o=0,c=0;t<n;){var f=e[t++];switch(c){case 0:a[o++]=i[f>>2],r=(3&f)<<4,c=1;break;case 1:a[o++]=i[r|f>>4],r=(15&f)<<2,c=2;break;case 2:a[o++]=i[r|f>>6],a[o++]=i[63&f],c=0}o>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,a)),o=0)}return c&&(a[o++]=i[r],a[o++]=61,1===c&&(a[o++]=61)),u?(o&&u.push(String.fromCharCode.apply(String,a.slice(0,o))),u.join("")):String.fromCharCode.apply(String,a.slice(0,o))};r.decode=function(e,t,n){for(var r,i=n,a=0,o=0;o<e.length;){var c=e.charCodeAt(o++);if(61===c&&a>1)break;if(void 0===(c=u[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function u(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function o(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:u,e.writeFloatBE=r?u:i,e.readFloatLE=r?a:o,e.readFloatBE=r?o:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>3.4028234663852886e38)e((i<<31|2139095040)>>>0,n,r);else if(t<1.1754943508222875e-38)e((i<<31|Math.round(t/1.401298464324817e-45))>>>0,n,r);else{var u=Math.floor(Math.log(t)/Math.LN2);e((i<<31|u+127<<23|8388607&Math.round(t*Math.pow(2,-u)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,u=r>>>23&255,a=8388607&r;return 255===u?a?NaN:i*(1/0):0===u?1.401298464324817e-45*i*a:i*Math.pow(2,u-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,u),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function u(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function o(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:u,e.writeDoubleBE=r?u:i,e.readDoubleLE=r?a:o,e.readDoubleBE=r?o:a}():function(){function t(e,t,n,r,i,u){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,u+t),e(1/r>0?0:2147483648,i,u+n);else if(isNaN(r))e(0,i,u+t),e(2146959360,i,u+n);else if(r>1.7976931348623157e308)e(0,i,u+t),e((a<<31|2146435072)>>>0,i,u+n);else{var o;if(r<2.2250738585072014e-308)e((o=r/5e-324)>>>0,i,u+t),e((a<<31|o/4294967296)>>>0,i,u+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(o=r*Math.pow(2,-c))>>>0,i,u+t),e((a<<31|c+1023<<20|1048576*o&1048575)>>>0,i,u+n)}}}function n(e,t,n,r,i){var u=e(r,i+t),a=e(r,i+n),o=2*(a>>31)+1,c=a>>>20&2047,f=4294967296*(1048575&a)+u;return 2047===c?f?NaN:o*(1/0):0===c?5e-324*o*f:o*Math.pow(2,c-1075)*(f+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,u,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,o,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function u(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,u=[],a=0;t<n;)(r=e[t++])<128?u[a++]=r:r>191&&r<224?u[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,u[a++]=55296+(r>>10),u[a++]=56320+(1023&r)):u[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,u.slice(0,a))),i.join("")):String.fromCharCode.apply(String,u.slice(0,a))},r.write=function(e,t,n){for(var r,i,u=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-u}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,u=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(u=e(r),a=0);var o=t.call(u,a,a+=n);return 7&a&&(a=1+(7|a)),o}}},function(e,t,n){"use strict";e.exports=i;var r=n(45);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var u=i.zero=new i(0,0);u.toNumber=function(){return 0},u.zzEncode=u.zzDecode=function(){return this},u.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return u;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):u},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?u:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=a;var r=n(74);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(45),u=i.Buffer;function a(){r.call(this)}a.alloc=function(e){return(a.alloc=i._Buffer_allocUnsafe)(e)};var o=u&&u.prototype instanceof Uint8Array&&"set"===u.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};function c(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o,t,e),this},a.prototype.string=function(e){var t=u.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},function(e,t,n){"use strict";e.exports=u;var r=n(75);(u.prototype=Object.create(r.prototype)).constructor=u;var i=n(45);function u(e){r.call(this,e)}i.Buffer&&(u.prototype._slice=i.Buffer.prototype.slice),u.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";e.exports=i;var r=n(45);function i(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,u,a){if(!u)throw TypeError("request must be specified");var o=this;if(!a)return r.asPromise(e,o,t,n,i,u);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](u).finish(),function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",n,t),a(null,n)}o.end(!0)})}catch(c){return o.emit("error",c,t),void setTimeout(function(){a(c)},0)}else setTimeout(function(){a(Error("already ended"))},0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";function r(e,t){"string"===typeof e&&(t=e,e=void 0);var n=[];function i(e){if("string"!==typeof e){var t=u();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),o=new Array(a.length+1),c=new Array(a.length),f=0;f<a.length;)o[f]=a[f],c[f]=e[a[f++]];return o[f]=t,Function.apply(null,o).apply(null,c)}return Function(t)()}for(var s=new Array(arguments.length-1),l=0;l<s.length;)s[l]=arguments[++l];if(l=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=s[l++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),l!==s.length)throw Error("parameter count mismatch");return n.push(e),i}function u(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=u,i}e.exports=r,r.verbose=!1},function(e,t,n){"use strict";e.exports=u;var r=n(90),i=n(91)("fs");function u(e,t,n){return"function"===typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,function(r,i){return r&&"undefined"!==typeof XMLHttpRequest?u.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))}):u.xhr(e,t,n):r(u,this,e,t)}u.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!==typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},function(e,t,n){"use strict";var r=t,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},u=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var u=0;u<t.length;)".."===t[u]?u>0&&".."!==t[u-1]?t.splice(--u,2):n?t.splice(u,1):++u:"."===t[u]?t.splice(u,1):++u;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=u(t)),i(t)?t:(n||(e=u(e)),(e=e.replace(/(?:\/|^)[^\/]+$/,"")).length?u(e+"/"+t):t)}},function(e,t,n){"use strict";e.exports=E,E.filename=null,E.defaults={keepCase:!1};var r=n(99),i=n(81),u=n(76),a=n(52),o=n(77),c=n(69),f=n(41),s=n(78),l=n(79),d=n(56),h=n(33),p=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,v=/^0[x][0-9a-fA-F]+$/,g=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,y=/^-?0[0-7]+$/,x=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,n){t instanceof i||(n=t,t=new i),n||(n=E.defaults);var O,k,C,D,F,M=r(e,n.alternateCommentMode||!1),S=M.next,j=M.push,T=M.peek,N=M.skip,B=M.cmnt,P=!0,R=!1,z=t,L=n.keepCase?function(e){return e}:h.camelCase;function I(e,t,n){var r=E.filename;return n||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+M.line+")")}function U(){var e,t=[];do{if('"'!==(e=S())&&"'"!==e)throw I(e);t.push(S()),N(e),e=T()}while('"'===e||"'"===e);return t.join("")}function q(e){var t=S();switch(t){case"'":case'"':return j(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;"-"===e.charAt(0)&&(n=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return n*parseInt(e,10);if(v.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(x.test(e))return n*parseFloat(e);throw I(e,"number",t)}(t,!0)}catch(n){if(e&&_.test(t))return t;throw I(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=T())&&"'"!==n?e.push([r=H(S()),N("to",!0)?H(S()):r]):e.push(U())}while(N(",",!0));N(";")}function H(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw I(e,"id");if(m.test(e))return parseInt(e,10);if(g.test(e))return parseInt(e,16);if(y.test(e))return parseInt(e,8);throw I(e,"id")}function Y(){if(void 0!==O)throw I("package");if(O=S(),!_.test(O))throw I(O,"name");z=z.define(O),N(";")}function V(){var e,t=T();switch(t){case"weak":e=C||(C=[]),S();break;case"public":S();default:e=k||(k=[])}t=U(),N(";"),e.push(t)}function G(){if(N("="),D=U(),!(R="proto3"===D)&&"proto2"!==D)throw I(D,"syntax");N(";")}function $(e,t){switch(t){case"option":return K(e,t),N(";"),!0;case"message":return function(e,t){if(!w.test(t=S()))throw I(t,"type name");var n=new u(t);X(n,function(e){if(!$(n,e))switch(e){case"map":!function(e){N("<");var t=S();if(void 0===d.mapKey[t])throw I(t,"type");N(",");var n=S();if(!_.test(n))throw I(n,"type");N(">");var r=S();if(!w.test(r))throw I(r,"name");N("=");var i=new o(L(r),H(S()),t,n);X(i,function(e){if("option"!==e)throw I(e);K(i,e),N(";")},function(){ee(i)}),e.add(i)}(n);break;case"required":case"optional":case"repeated":J(n,e);break;case"oneof":!function(e,t){if(!w.test(t=S()))throw I(t,"name");var n=new c(L(t));X(n,function(e){"option"===e?(K(n,e),N(";")):(j(e),J(n,"optional"))}),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!R||!_.test(e))throw I(e);j(e),J(n,"optional")}}),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=S()))throw I(t,"name");var n=new f(t);X(n,function(e){switch(e){case"option":K(n,e),N(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw I(t,"name");N("=");var n=H(S(),!0),r={};X(r,function(e){if("option"!==e)throw I(e);K(r,e),N(";")},function(){ee(r)}),e.add(t,n,r.comment)}(n,e)}}),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=S()))throw I(t,"service name");var n=new s(t);X(n,function(e){if(!$(n,e)){if("rpc"!==e)throw I(e);!function(e,t){var n=t;if(!w.test(t=S()))throw I(t,"name");var r,i,u,a,o=t;N("("),N("stream",!0)&&(i=!0);if(!_.test(t=S()))throw I(t);r=t,N(")"),N("returns"),N("("),N("stream",!0)&&(a=!0);if(!_.test(t=S()))throw I(t);u=t,N(")");var c=new l(o,n,r,u,i,a);X(c,function(e){if("option"!==e)throw I(e);K(c,e),N(";")}),e.add(c)}(n,e)}}),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=S()))throw I(t,"reference");var n=t;X(null,function(t){switch(t){case"required":case"repeated":case"optional":J(e,t,n);break;default:if(!R||!_.test(t))throw I(t);j(t),J(e,"optional",n)}})}(e,t),!0}return!1}function X(e,t,n){var r=M.line;if(e&&(e.comment=B(),e.filename=E.filename),N("{",!0)){for(var i;"}"!==(i=S());)t(i);N(";",!0)}else n&&n(),N(";"),e&&"string"!==typeof e.comment&&(e.comment=B(r))}function J(e,t,n){var r=S();if("group"!==r){if(!_.test(r))throw I(r,"type");var i=S();if(!w.test(i))throw I(i,"name");i=L(i),N("=");var o=new a(i,H(S()),r,t,n);X(o,function(e){if("option"!==e)throw I(e);K(o,e),N(";")},function(){ee(o)}),e.add(o),R||!o.repeated||void 0===d.packed[r]&&void 0!==d.basic[r]||o.setOption("packed",!1,!0)}else!function(e,t){var n=S();if(!w.test(n))throw I(n,"name");var r=h.lcFirst(n);n===r&&(n=h.ucFirst(n));N("=");var i=H(S()),o=new u(n);o.group=!0;var c=new a(r,i,n,t);c.filename=E.filename,X(o,function(e){switch(e){case"option":K(o,e),N(";");break;case"required":case"optional":case"repeated":J(o,e);break;default:throw I(e)}}),e.add(o).add(c)}(e,t)}function K(e,t){var n=N("(",!0);if(!_.test(t=S()))throw I(t,"name");var r=t;n&&(N(")"),r="("+r+")",t=T(),A.test(t)&&(r+=t,S())),N("="),Q(e,r)}function Q(e,t){if(N("{",!0))do{if(!w.test(F=S()))throw I(F,"name");"{"===T()?Q(e,t+"."+F):(N(":"),"{"===T()?Q(e,t+"."+F):Z(e,t+"."+F,q(!0))),N(",",!0)}while(!N("}",!0));else Z(e,t,q(!0))}function Z(e,t,n){e.setOption&&e.setOption(t,n)}function ee(e){if(N("[",!0)){do{K(e,"option")}while(N(",",!0));N("]")}return e}for(;null!==(F=S());)switch(F){case"package":if(!P)throw I(F);Y();break;case"import":if(!P)throw I(F);V();break;case"syntax":if(!P)throw I(F);G();break;case"option":if(!P)throw I(F);K(z,F),N(";");break;default:if($(z,F)){P=!1;continue}throw I(F)}return E.filename=null,{package:O,imports:k,weakImports:C,syntax:D,root:t}}},function(e,t,n){"use strict";e.exports=u;var r,i=/\/|\./;function u(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),u[e]=t}u("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),u("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),u("timestamp",{Timestamp:r}),u("empty",{Empty:{fields:{}}}),u("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),u("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),u("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),u.get=function(e){return u[e]||null}},,,,function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,u=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),c=r[n];n<u;c=r[++n])m(c)||!x(c)?a+=" "+c:a+=" "+o(c);return a},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var u,a={};function o(e,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),s(r,e,r.depth)}function c(e,t){var n=o.styles[t];return n?"\x1b["+o.colors[n][0]+"m"+e+"\x1b["+o.colors[n][1]+"m":e}function f(e,t){return e}function s(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=s(e,i,r)),i}var u=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(u)return u;var a=Object.keys(n),o=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(A(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return l(n)}var f,x="",E=!1,O=["{","}"];(h(n)&&(E=!0,O=["[","]"]),A(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),_(n)&&(x=" "+l(n)),0!==a.length||E&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),f=E?function(e,t,n,r,i){for(var u=[],a=0,o=t.length;a<o;++a)C(t,String(a))?u.push(d(e,t,n,r,String(a),!0)):u.push("");return i.forEach(function(i){i.match(/^\d+$/)||u.push(d(e,t,n,r,i,!0))}),u}(e,n,r,o,a):a.map(function(t){return d(e,n,r,o,t,E)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(f,x,O)):O[0]+x+O[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,u){var a,o,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),C(r,i)||(a="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=m(n)?s(e,c.value,null):s(e,c.value,n-1)).indexOf("\n")>-1&&(o=u?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),b(a)){if(u&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function v(e){return"number"===typeof e}function g(e){return"string"===typeof e}function b(e){return void 0===e}function y(e){return x(e)&&"[object RegExp]"===E(e)}function x(e){return"object"===typeof e&&null!==e}function w(e){return x(e)&&"[object Date]"===E(e)}function _(e){return x(e)&&("[object Error]"===E(e)||e instanceof Error)}function A(e){return"function"===typeof e}function E(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(u)&&(u=Object({NODE_ENV:"production",PUBLIC_URL:"."}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(u)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=x,t.isDate=w,t.isError=_,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(215);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(216),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var D="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t;if("function"!==typeof(t=e[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],u=0;u<arguments.length;u++)i.push(arguments[u]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=D,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var u=this,a=function(){return i.apply(u,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(F,t,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(214))},function(e,t){var n,r,i=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:u}catch(e){n=u}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,f=[],s=!1,l=-1;function d(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&h())}function h(){if(!s){var e=o(d);s=!0;for(var t=f.length;t;){for(c=f,f=[];++l<t;)c&&c[l].run();l=-1,t=f.length}c=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new p(e,t)),1!==f.length||s||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"aggregate",function(){return Lr}),n.d(r,"bin",function(){return Ur}),n.d(r,"collect",function(){return Hr}),n.d(r,"compare",function(){return Yr}),n.d(r,"countpattern",function(){return Gr}),n.d(r,"cross",function(){return Xr}),n.d(r,"density",function(){return ei}),n.d(r,"expression",function(){return ri}),n.d(r,"extent",function(){return ui}),n.d(r,"facet",function(){return ci}),n.d(r,"field",function(){return si}),n.d(r,"filter",function(){return di}),n.d(r,"flatten",function(){return pi}),n.d(r,"fold",function(){return mi}),n.d(r,"formula",function(){return vi}),n.d(r,"generate",function(){return gi}),n.d(r,"impute",function(){return xi}),n.d(r,"joinaggregate",function(){return wi}),n.d(r,"key",function(){return Ai}),n.d(r,"load",function(){return Oi}),n.d(r,"lookup",function(){return Ci}),n.d(r,"multiextent",function(){return Di}),n.d(r,"multivalues",function(){return Mi}),n.d(r,"params",function(){return ji}),n.d(r,"pivot",function(){return Ti}),n.d(r,"prefacet",function(){return Bi}),n.d(r,"project",function(){return Pi}),n.d(r,"proxy",function(){return Ri}),n.d(r,"relay",function(){return zi}),n.d(r,"sample",function(){return Li}),n.d(r,"sequence",function(){return Ii}),n.d(r,"sieve",function(){return Ui}),n.d(r,"subflow",function(){return ai}),n.d(r,"tupleindex",function(){return qi}),n.d(r,"values",function(){return Wi}),n.d(r,"window",function(){return $i});var i={};n.r(i),n.d(i,"bound",function(){return mf}),n.d(i,"identifier",function(){return bf}),n.d(i,"mark",function(){return yf}),n.d(i,"overlap",function(){return xf}),n.d(i,"render",function(){return Df}),n.d(i,"viewlayout",function(){return Kf});var u={};n.r(u),n.d(u,"axisticks",function(){return dd}),n.d(u,"datajoin",function(){return hd}),n.d(u,"encode",function(){return vd}),n.d(u,"legendentries",function(){return kd}),n.d(u,"linkpath",function(){return jd}),n.d(u,"pie",function(){return Pd}),n.d(u,"scale",function(){return Id}),n.d(u,"sortitems",function(){return Hd}),n.d(u,"stack",function(){return Vd}),n.d(u,"validTicks",function(){return fd});var a={};n.r(a),n.d(a,"contour",function(){return rh}),n.d(a,"geojson",function(){return ah}),n.d(a,"geopath",function(){return ph}),n.d(a,"geopoint",function(){return mh}),n.d(a,"geoshape",function(){return vh}),n.d(a,"graticule",function(){return gh}),n.d(a,"projection",function(){return bh});var o={};n.r(o),n.d(o,"force",function(){return Lh});var c={};n.r(c),n.d(c,"nest",function(){return Gh}),n.d(c,"pack",function(){return Zh}),n.d(c,"partition",function(){return np}),n.d(c,"stratify",function(){return ip}),n.d(c,"tree",function(){return op}),n.d(c,"treelinks",function(){return fp}),n.d(c,"treemap",function(){return dp});var f={};n.r(f),n.d(f,"voronoi",function(){return mp});var s={};n.r(s),n.d(s,"wordcloud",function(){return Sv});var l={};n.r(l),n.d(l,"crossfilter",function(){return qv}),n.d(l,"resolvefilter",function(){return Hv});var d=function(e,t,n){return e.fields=t||[],e.fname=n,e};function h(e){return null==e?null:e.fname}function p(e){return null==e?null:e.fields}var m=function(e){throw Error(e)},v=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||m("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&m("Access path missing closing bracket: "+e),u&&m("Access path missing closing quote: "+e),n>t&&(n++,f()),i},g=Array.isArray,b=function(e){return e===Object(e)},y=function(e){return"string"===typeof e};function x(e){return g(e)?"["+e.map(x)+"]":b(e)||y(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var w=function(e,t){var n=v(e),r="return _["+n.map(x).join("][")+"];";return d(Function("_",r),[e=1===n.length?n[0]:e],t||e)},_=[],A=w("id"),E=d(function(e){return e},_,"identity"),O=d(function(){return 0},_,"zero"),k=d(function(){return 1},_,"one"),C=d(function(){return!0},_,"true"),D=d(function(){return!1},_,"false");function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t,n){var r,i=[t].concat([].slice.call(n));(r=console)[e].apply(r,F(i))}var S=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&M(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&M(t||"warn","WARN",arguments),this},info:function(){return n>=3&&M(t||"log","INFO",arguments),this},debug:function(){return n>=4&&M(t||"log","DEBUG",arguments),this}}},j=function(e){return e[e.length-1]},T=function(e){return null==e||""===e?null:+e};function N(e){return function(t){return e*Math.exp(t)}}function B(e){return function(t){return Math.log(e*t)}}function P(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function R(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L(e,t,n,r){var i=n(e[0]),u=n(j(e)),a=(u-i)*t;return[r(i-a),r(u-a)]}function I(e,t){return L(e,t,T,E)}function U(e,t){var n=Math.sign(e[0]);return L(e,t,B(n),N(n))}function q(e,t,n){return L(e,t,z(n),z(1/n))}function W(e,t,n){return L(e,t,P(n),R(n))}function H(e,t,n,r,i){var u=r(e[0]),a=r(j(e)),o=null!=t?r(t):(u+a)/2;return[i(o+(u-o)*n),i(o+(a-o)*n)]}function Y(e,t,n){return H(e,t,n,T,E)}function V(e,t,n){var r=Math.sign(e[0]);return H(e,t,n,B(r),N(r))}function G(e,t,n,r){return H(e,t,n,z(r),z(1/r))}function $(e,t,n,r){return H(e,t,n,P(r),R(r))}function X(e){return 1+~~(new Date(e).getMonth()/3)}function J(e){return 1+~~(new Date(e).getUTCMonth()/3)}var K=function(e){return null!=e?g(e)?e:[e]:[]},Q=function(e,t,n){var r,i=e[0],u=e[1];return u<i&&(r=u,u=i,i=r),(r=u-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},Z=function(e){return"function"===typeof e},ee=function(e,t){var n,r,i,u,a,o,c,f,s,l=[],h=(e=K(e)).map(function(e,t){return null==e?null:(l.push(t),Z(e)?e:v(e).map(x).join("]["))}),m=l.length-1,g=K(t),b="var u,v;return ";if(m<0)return null;for(r=0;r<=m;++r)i=h[n=l[r]],Z(i)?(u="(u=this."+(o="f"+n)+"(a))",a="(v=this."+o+"(b))",(c=c||{})[o]=i):(u="(u=a["+i+"])",a="(v=b["+i+"])"),o="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[n]?(s=1,f=-1):(s=-1,f=1),b+="("+u+"<"+a+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+s+":"+o+"!==u&&v===v?"+f+":v!==v&&u===u?"+s+(n<m?":":":0");return i=Function("a","b",b+";"),c&&(i=i.bind(c)),e=e.reduce(function(e,t){return Z(t)?(p(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),d(i,Object.keys(e))},te=function(e){return Z(e)?e:function(){return e}},ne=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},re=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},ie=function(e,t){var n,r,i,u,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];null==r||r!==r;r=e[++a]);for(i=u=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>u&&(u=r))}else{for(r=t(e[a]);null==r||r!==r;r=t(e[++a]));for(i=u=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>u&&(u=r))}return[i,u]},ue=function(e,t){var n,r,i,u,a,o=-1,c=e.length;if(null==t){for(;++o<c;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=e[o])&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}else{for(;++o<c;)if(null!=(r=t(e[o],o,e))&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}return[u,a]},ae={},oe=function(e){var t,n,r={};function i(e){return r.hasOwnProperty(e)&&r[e]!==ae}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===ae&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=ae),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,u={},a=0;for(e in r)(i=r[e])===ae||n&&n(i)||(u[e]=i,++a);t.size=a,t.empty=0,t.object=r=u}},e&&Object.keys(e).forEach(function(n){t.set(n,e[n])}),t},ce=function(e,t,n,r,i,u){if(!n&&0!==n)return u;var a,o,c=e[0],f=j(e),s=+n;return f<c&&(a=c,c=f,f=a),(a=Math.abs(t-c))<(o=Math.abs(f-t))&&a<=s?r:o<=s?i:u},fe=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},se=function(e,t,n,r){var i,u=t[0],a=t[t.length-1];return u>a&&(i=u,u=a,a=i),r=void 0===r||r,((n=void 0===n||n)?u<=e:u<e)&&(r?e<=a:e<a)},le=function(e){return"boolean"===typeof e},de=function(e){return"[object Date]"===Object.prototype.toString.call(e)},he=function(e){return"number"===typeof e},pe=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},me=function(e,t){e&&(e=t?K(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):K(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?x(e):v(e).map(x).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return d(n,e,"key")},ve=function(e,t){var n=e[0],r=j(e),i=+t;return i?1===i?r:n+i*(r-n):n},ge=function(e,t,n,r){var i=t.length,u=n.length;if(!u)return t;if(!i)return n;for(var a=r||new t.constructor(i+u),o=0,c=0,f=0;o<i&&c<u;++f)a[f]=e(t[o],n[c])>0?n[c++]:t[o++];for(;o<i;++o,++f)a[f]=t[o];for(;c<u;++c,++f)a[f]=n[c];return a},be=function(e,t){for(var n="";--t>=0;)n+=e;return n},ye=function(e,t,n,r){var i=n||" ",u=e+"",a=t-u.length;return a<=0?u:"left"===r?be(i,a)+u:"center"===r?be(i,~~(a/2))+u+be(i,Math.ceil(a/2)):u+be(i,a)},xe=function(e){return j(e)-e[0]||0},we=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function _e(e){return he(e)?e:de(e)?e:Date.parse(e)}var Ae=function(e,t){return t=t||_e,null==e||""===e?null:t(e)},Ee=function(e){return null==e||""===e?null:e+""},Oe=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},ke=function(e,t,n,r){var i=null!=r?r:"\u2026",u=e+"",a=u.length,o=Math.max(0,t-i.length);return a<=t?u:"left"===n?i+u.slice(a-o):"center"===n?u.slice(0,Math.ceil(o/2))+i+u.slice(a-~~(o/2)):u.slice(0,o)+i},Ce=function(e,t,n){if(e){var r,i=0,u=e.length;if(t)for(;i<u;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}},De=function(e,t,n){return e.fields=t||[],e.fname=n,e};var Fe=function(e){throw Error(e)},Me=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||Fe("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&Fe("Access path missing closing bracket: "+e),u&&Fe("Access path missing closing quote: "+e),n>t&&(n++,f()),i},Se=Array.isArray,je=function(e){return e===Object(e)},Te=function(e){return"string"===typeof e};function Ne(e){return Se(e)?"["+e.map(Ne)+"]":je(e)||Te(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Be=[],Pe=function(e,t){var n=Me(e),r="return _["+n.map(Ne).join("][")+"];";return De(Function("_",r),[e=1===n.length?n[0]:e],t||e)}("id"),Re=De(function(e){return e},Be,"identity"),ze=(De(function(){return 0},Be,"zero"),De(function(){return 1},Be,"one"),De(function(){return!0},Be,"true"));De(function(){return!1},Be,"false");function Le(e,t,n){var r,i=[t].concat([].slice.call(n));(r=console)[e].apply(r,F(i))}var Ie=1,Ue=3,qe=4,We=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=Ie&&Le(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&Le(t||"warn","WARN",arguments),this},info:function(){return n>=Ue&&Le(t||"log","INFO",arguments),this},debug:function(){return n>=qe&&Le(t||"log","DEBUG",arguments),this}}};var He=function(e){return null!=e?Se(e)?e:[e]:[]},Ye=function(e){return"function"===typeof e},Ve=function(e){return Ye(e)?e:function(){return e}},Ge=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},$e=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n};var Xe=function(e,t,n){if(e){var r,i=0,u=e.length;if(t)for(;i<u;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};function Je(e){var t=e||Re,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,u=t(e);return r[u]&&(r[u]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}var Ke=n(10),Qe=n.n(Ke);function Ze(e,t,n,r,i,u,a){try{var o=e[u](a),c=o.value}catch(f){return void n(f)}o.done?t(c):Promise.resolve(c).then(r,i)}function et(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var u=e.apply(t,n);function a(e){Ze(u,r,i,a,o,"next",e)}function o(e){Ze(u,r,i,a,o,"throw",e)}a(void 0)})}}var tt=function(e,t){return nt.apply(this,arguments)};function nt(){return(nt=et(Qe.a.mark(function e(t,n){return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}var rt=Symbol("vega_id"),it=1;function ut(e){return!(!e||!at(e))}function at(e){return e[rt]}function ot(e,t){return e[rt]=t,e}function ct(e){var t=e===Object(e)?e:{data:e};return at(t)?t:ot(t,it++)}function ft(e){return st(e,ct({}))}function st(e,t){for(var n in e)t[n]=e[n];return t}function lt(e,t){return ot(t,at(e))}function dt(e){return e&&e.constructor===ht}function ht(){var e=[],t=[],n=[],r=[],i=[],u=!1;return{constructor:ht,insert:function(t){for(var n=He(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=Ye(e)?r:t,i=He(e),u=0,a=i.length;u<a;++u)n.push(i[u]);return this},modify:function(e,t,r){var u={field:t,value:Ve(r)};return Ye(e)?(u.filter=e,i.push(u)):(u.tuple=e,n.push(u)),this},encode:function(e,t){return Ye(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return u=!0,this},pulse:function(a,o){var c,f,s,l,d,h,p={},m={};for(c=0,f=o.length;c<f;++c)p[at(o[c])]=1;for(c=0,f=t.length;c<f;++c)p[at(d=t[c])]=-1;for(c=0,f=r.length;c<f;++c)l=r[c],o.forEach(function(e){l(e)&&(p[at(e)]=-1)});for(c=0,f=e.length;c<f;++c)h=at(d=e[c]),p[h]?p[h]=1:a.add.push(ct(e[c]));for(c=0,f=o.length;c<f;++c)d=o[c],p[at(d)]<0&&a.rem.push(d);function v(e,t,n){n?e[t]=n(e):a.encode=t,u||(m[at(e)]=e)}for(c=0,f=n.length;c<f;++c)d=(s=n[c]).tuple,l=s.field,(h=p[at(d)])>0&&(v(d,l,s.value),a.modifies(l));for(c=0,f=i.length;c<f;++c)s=i[c],l=s.filter,o.forEach(function(e){l(e)&&p[at(e)]>0&&v(e,s.field,s.value)}),a.modifies(s.field);if(u)a.mod=t.length||r.length?o.filter(function(e){return p[at(e)]>0}):o.slice();else for(h in m)a.mod.push(m[h]);return a}}}var pt="_:mod:_";function mt(){Object.defineProperty(this,pt,{writable:!0,value:{}})}var vt=mt.prototype;vt.set=function(e,t,n,r){var i=this,u=i[e],a=i[pt];return null!=t&&t>=0?(u[t]!==n||r)&&(u[t]=n,a[t+":"+e]=-1,a[e]=-1):(u!==n||r)&&(i[e]=n,a[e]=Se(n)?1+n.length:-1),i},vt.modified=function(e,t){var n,r=this[pt];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Se(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},vt.clear=function(){return this[pt]={},this};var gt=0,bt=new mt;function yt(e,t,n,r){this.id=++gt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var xt=yt.prototype;function wt(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}xt.targets=function(){return this._targets||(this._targets=Je(Pe))},xt.set=function(e){return this.value!==e?(this.value=e,1):0},xt.skip=wt(1),xt.modified=wt(2),xt.parameters=function(e,t,n){t=!1!==t;var r,i,u,a,o=this,c=o._argval=o._argval||new mt,f=o._argops=o._argops||[],s=[];function l(e,n,r){r instanceof yt?(r!==o&&(t&&r.targets().add(o),s.push(r)),f.push({op:r,name:e,index:n})):c.set(e,n,r)}for(r in e)if(i=e[r],"pulse"===r)He(i).forEach(function(e){e instanceof yt?e!==o&&(e.targets().add(o),s.push(e)):Fe("Pulse parameters must be operator instances.")}),o.source=i;else if(Se(i))for(c.set(r,-1,Array(u=i.length)),a=0;a<u;++a)l(r,a,i[a]);else l(r,-1,i);return this.marshall().clear(),n&&(f.initonly=!0),s},xt.marshall=function(e){var t,n,r,i,u,a=this._argval||bt,o=this._argops;if(o){for(n=0,r=o.length;n<r;++n)u=(i=(t=o[n]).op).modified()&&i.stamp===e,a.set(t.name,t.index,i.value,u);if(o.initonly){for(n=0;n<r;++n)(t=o[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},xt.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},xt.run=function(e){return e.stamp<=this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.stamp=e.stamp,this.pulse=t||e);var t};var _t=0;function At(e,t,n){this.id=++_t,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Et(e,t,n){return new At(e,t,n)}var Ot=At.prototype;Ot._filter=ze,Ot._apply=Re,Ot.targets=function(){return this._targets||(this._targets=Je(Pe))},Ot.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},Ot.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},Ot.filter=function(e){var t=Et(e);return this.targets().add(t),t},Ot.apply=function(e){var t=Et(null,e);return this.targets().add(t),t},Ot.merge=function(){var e=Et();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},Ot.throttle=function(e){var t=-1;return this.filter(function(){var n=Date.now();return n-t>e?(t=n,1):0})},Ot.debounce=function(e){var t=Et();return this.targets().add(Et(null,null,function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}}(e,function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()}))),t},Ot.between=function(e,t){var n=!1;return e.targets().add(Et(null,null,function(){n=!0})),t.targets().add(Et(null,null,function(){n=!1})),this.filter(function(){return n})};var kt=n(0),Ct=/^([A-Za-z]+:)?\/\//,Dt="file://";function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=et(Qe.a.mark(function e(t,n){var r,i;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function St(e,t){return jt.apply(this,arguments)}function jt(){return(jt=et(Qe.a.mark(function e(t,n){var r,i,u,a,o,c;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(kt.extend)({},this.options,n),r=this.fileAccess,i={href:null},null!=t&&"string"===typeof t||Object(kt.error)("Sanitize failure, invalid URI: "+Object(kt.stringValue)(t)),a=Ct.test(t),(c=n.baseURL)&&!a&&(t.startsWith("/")||"/"===c[c.length-1]||(t="/"+t),t=c+t),o=(u=t.startsWith(Dt))||"file"===n.mode||"http"!==n.mode&&!a&&r,u?t=t.slice(Dt.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!o}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Tt(e){return e?function(t){return new Promise(function(n,r){e.readFile(t,function(e,t){e?r(e):n(t)})})}:Nt}function Nt(){return Bt.apply(this,arguments)}function Bt(){return(Bt=et(Qe.a.mark(function e(){return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(kt.error)("No file system access.");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(e){return e?function(){var t=et(Qe.a.mark(function t(n,r){var i,u,a;return Qe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(kt.extend)({},this.options.http,r),u=r&&r.response,t.next=4,e(n,i);case 4:return a=t.sent,t.abrupt("return",a.ok?Object(kt.isFunction)(a[u])?a[u]():a.text():Object(kt.error)(a.status+""+a.statusText));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}():Rt}function Rt(){return zt.apply(this,arguments)}function zt(){return(zt=et(Qe.a.mark(function e(){return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(kt.error)("No HTTP fetch method available.");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Lt={boolean:kt.toBoolean,integer:kt.toNumber,number:kt.toNumber,date:kt.toDate,string:kt.toString,unknown:kt.identity},It=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return Ht(e)&&(e=+e)===~~e},Ht,function(e){return!isNaN(Date.parse(e))}],Ut=["boolean","integer","number","date"];function qt(e,t){if(!e||!e.length)return"unknown";var n,r,i,u,a=0,o=e.length,c=It.length,f=It.map(function(e,t){return t+1});for(r=0,o=e.length;r<o;++r)for(n=t?e[r][t]:e[r],i=0;i<c;++i)if(f[i]&&(null!=(u=n)&&u===u)&&!It[i](n)&&(f[i]=0,++a===It.length))return"string";return a=f.reduce(function(e,t){return 0===e?t:e},0)-1,Ut[a]}function Wt(e,t){return t.reduce(function(t,n){return t[n]=qt(e,n),t},{})}function Ht(e){return!isNaN(+e)&&!(e instanceof Date)}var Yt=n(49);function Vt(e){var t=function(t,n){var r={delimiter:e};return Gt(t,n?Object(kt.extend)(n,r):r)};return t.responseType="text",t}function Gt(e,t){return t.header&&(e=t.header.map(kt.stringValue).join(t.delimiter)+"\n"+e),Object(Yt.g)(t.delimiter).parse(e+"")}Gt.responseType="text";var $t=n(71),Xt=function(e){return e},Jt=function(e){if(null==e)return Xt;var t,n,r=e.scale[0],i=e.scale[1],u=e.translate[0],a=e.translate[1];return function(e,o){o||(t=n=0);var c=2,f=e.length,s=new Array(f);for(s[0]=(t+=e[0])*r+u,s[1]=(n+=e[1])*i+a;c<f;)s[c]=e[c],++c;return s}},Kt=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n},Qt=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Zt(e,t)})}:Zt(e,t)};function Zt(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,u=en(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:u}:null==r?{type:"Feature",id:n,properties:i,geometry:u}:{type:"Feature",id:n,bbox:r,properties:i,geometry:u}}function en(e,t){var n=Jt(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],u=0,a=i.length;u<a;++u)t.push(n(i[u],u));e<0&&Kt(t,a)}function u(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function o(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(o)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=u(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(u);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}var tn=function(e,t){var n={},r={},i={},u=[],a=-1;function o(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach(function(e){n[e<0?~e:e]=1}),u.push(i)}}return t.forEach(function(n,r){var i,u=e.arcs[n<0?~n:n];u.length<3&&!u[1][0]&&!u[1][1]&&(i=t[++a],t[a]=n,t[r]=i)}),t.forEach(function(t){var n,u,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),o=a[0],c=a[1];if(n=i[o])if(delete i[n.end],n.push(t),n.end=c,u=r[c]){delete r[u.start];var f=u===n?n:n.concat(u);r[f.start=n.start]=i[f.end=u.end]=f}else r[n.start]=i[n.end]=n;else if(n=r[c])if(delete r[n.start],n.unshift(t),n.start=o,u=i[o]){delete i[u.end];var s=u===n?n:u.concat(n);r[s.start=u.start]=i[s.end=n.end]=s}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=o]=i[n.end=c]=n}),o(i,r),o(r,i),t.forEach(function(e){n[e<0?~e:e]||u.push([e])}),u},nn=function(e){return en(e,function(e,t,n){var r,i,u;if(arguments.length>1)r=function(e,t,n){var r,i=[],u=[];function a(e){var t=e<0?~e:e;(u[t]||(u[t]=[])).push({i:e,g:r})}function o(e){e.forEach(a)}function c(e){e.forEach(o)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":o(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":t.arcs.forEach(c)}}(t),u.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}(0,t,n);else for(i=0,r=new Array(u=e.arcs.length);i<u;++i)r[i]=i;return{type:"MultiLineString",arcs:tn(e,r)}}.apply(this,arguments))};function rn(e,t){var n,r,i;return e=Object($t.a)(e,t),n=t&&(i=t.feature)?Qt:t&&(i=t.mesh)?nn:Object(kt.error)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r):Object(kt.error)("Invalid TopoJSON object: "+i))&&r.features||[r]}rn.responseType="json";var un={dsv:Gt,csv:Vt(","),tsv:Vt("\t"),json:$t.a,topojson:rn};function an(e,t){return arguments.length>1?(un[e]=t,this):un.hasOwnProperty(e)?un[e]:null}function on(e){var t=an(e);return t&&t.responseType||"text"}var cn=n(23),fn=function(e,t,n){var r=an((t=t||{}).type||"json");return r||Object(kt.error)("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||cn.timeParse;var r,i,u,a,o,c,f,s=e.columns||Object.keys(e[0]);"auto"===t&&(t=Wt(e,s));for(s=Object.keys(t),r=s.map(function(e){var r,i,u=t[e];if(u&&(0===u.indexOf("date:")||0===u.indexOf("utc:")))return("'"===(i=(r=u.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?Object(cn.utcParse)(i):n(i);if(!Lt[u])throw Error("Illegal format pattern: "+e+":"+u);return Lt[u]}),a=0,c=e.length,f=s.length;a<c;++a)for(i=e[a],o=0;o<f;++o)u=s[o],i[u]=r[o](i[u])}(e,t.parse,n),e.hasOwnProperty("columns")&&delete e.columns,e};var sn=function(e,t){return function(n){return{options:n||{},sanitize:St,load:Ft,fileAccess:!!t,file:Tt(t),http:Pt(e)}}}("undefined"!==typeof fetch&&fetch,null),ln=fn;function dn(){return(dn=et(Qe.a.mark(function e(t,n){var r,i,u;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:on(n&&n.type)});case 5:u=e.sent;try{u=ln(u,n)}catch(a){i=-2,r.warn("Data ingestion failed",t,a)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:u,status:i});case 14:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}function hn(){return(hn=et(Qe.a.mark(function e(t,n,r){var i,u,a;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(i=this)._pending||pn(i)).requests+=1,e.next=4,i.request(n,r);case 4:return a=e.sent,i.pulse(t,i.changeset().remove(ze).insert(a.data||[])),u.done(),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function pn(e){var t,n=new Promise(function(e){t=e});return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}var mn={skip:!0};function vn(e,t,n,r,i,u){var a,o,c=Ge({},u,mn);Ye(n)||(n=Ve(n)),void 0===r?a=function(t){return e.touch(n(t))}:Ye(r)?(o=new yt(null,r,i,!1),a=function(t){o.evaluate(t);var r=n(t),i=o.value;dt(i)?e.pulse(r,i,u):e.update(r,i,c)}):a=function(t){return e.update(n(t),r,c)},t.apply(a)}function gn(e,t,n,r,i,u){if(void 0===r)t.targets().add(n);else{var a=u||{},o=new yt(null,function(e,t){return t=Ye(t)?t:Ve(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);o.modified(a.force),o.rank=t.rank,t.targets().add(o),n&&(o.skip(!0),o.value=n.value,o.targets().add(n),e.connect(n,[o]))}}var bn={};function yn(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var xn=yn.prototype;function wn(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function _n(e,t){var n=[];return Xe(e,t,function(e){n.push(e)}),n}function An(e,t){var n={};return e.visit(t,function(e){n[at(e)]=1}),function(e){return n[at(e)]?null:e}}function En(e,t,n,r){var i,u,a,o,c,f=this,s=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,a=0,o=n.length;a<o;++a)if((i=n[a]).stamp===t){if(i.fields)for(c in u=f.fields||(f.fields={}),i.fields)u[c]=1;i.changed(f.ADD)&&(s|=f.ADD),i.changed(f.REM)&&(s|=f.REM),i.changed(f.MOD)&&(s|=f.MOD)}this.changes=s}xn.StopPropagation=bn,xn.ADD=1,xn.REM=2,xn.MOD=4,xn.ADD_REM=3,xn.ADD_MOD=5,xn.ALL=7,xn.REFLOW=8,xn.SOURCE=16,xn.NO_SOURCE=32,xn.NO_FIELDS=64,xn.fork=function(e){return new yn(this.dataflow).init(this,e)},xn.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},xn.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new yn(this.dataflow).init(this)).add=e.source,e):e},xn.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},xn.runAfter=function(e){this.dataflow.runAfter(e)},xn.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},xn.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,An(this,1))),this},xn.modifies=function(e){var t=He(e),n=this.fields||(this.fields={});return t.forEach(function(e){n[e]=!0}),this},xn.modified=function(e){var t=this.fields;return!(!this.mod.length||!t)&&(arguments.length?Se(e)?e.some(function(e){return t[e]}):t[e]:!!t)},xn.filter=function(e,t){var n=this;return 1&e&&(n.addF=wn(n.addF,t)),2&e&&(n.remF=wn(n.remF,t)),4&e&&(n.modF=wn(n.modF,t)),16&e&&(n.srcF=wn(n.srcF,t)),n},xn.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=_n(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=_n(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=_n(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},xn.visit=function(e,t){var n,r,i=this,u=t;return 16&e?(Xe(i.source,i.srcF,u),i):(1&e&&Xe(i.add,i.addF,u),2&e&&Xe(i.rem,i.remF,u),4&e&&Xe(i.mod,i.modF,u),8&e&&(n=i.source)&&((r=i.add.length+i.mod.length)===n.length||Xe(n,r?An(i,5):i.srcF,u)),i)};var On=$e(En,yn);function kn(){return(kn=et(Qe.a.mark(function e(t,n,r){var i,u,a,o,c,f,s,l,d,h;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(i=this).logLevel(),!i._pulse){e.next=3;break}return e.abrupt("return",Dn(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,tt(i,n);case 9:if(i._touched.length){e.next=12;break}return i.info("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:a=++i._clock,o=0,i._pulse=new yn(i,a,t),u>=Ue&&(s=Date.now(),i.debug("-- START PROPAGATION ("+a+") -----")),i._touched.forEach(function(e){i._enqueue(e,!0)}),i._touched=Je(Pe),e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=33;break}if((c=i._heap.pop()).rank===c.qrank){e.next=23;break}return i._enqueue(c,!0),e.abrupt("continue",18);case 23:if(!(f=c.run(i._getPulse(c,t))).then){e.next=28;break}return e.next=27,f;case 27:f=e.sent;case 28:u>=qe&&i.debug(c.id,f===bn?"STOP":f,c),f!==bn&&(i._pulse=f,c._targets&&c._targets.forEach(function(e){return i._enqueue(e)})),++o,e.next=18;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(17),l=e.t0;case 38:if(i._pulses={},i._pulse=null,u>=Ue&&(s=Date.now()-s,i.info("> Pulse "+a+": "+o+" operators; "+s+"ms")),l&&(i._postrun=[],i.error(l)),!i._postrun.length){e.next=52;break}d=i._postrun.sort(function(e,t){return t.priority-e.priority}),i._postrun=[],h=0;case 46:if(!(h<d.length)){e.next=52;break}return e.next=49,tt(i,d[h].callback);case 49:++h,e.next=46;break;case 52:if(!r){e.next=55;break}return e.next=55,tt(i,r);case 55:return e.abrupt("return",i);case 56:case"end":return e.stop()}},e,this,[[17,35]])}))).apply(this,arguments)}function Cn(){return(Cn=et(Qe.a.mark(function e(t,n,r){var i,u=this;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return u._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Dn(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}On.fork=function(e){var t=new yn(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,function(e){return t.add.push(e)}),e&t.REM&&this.visit(t.REM,function(e){return t.rem.push(e)}),e&t.MOD&&this.visit(t.MOD,function(e){return t.mod.push(e)})),t},On.changed=function(e){return this.changes&e},On.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Se(e)?e.some(function(e){return n[e]}):n[e]:0},On.filter=function(){Fe("MultiPulse does not support filtering.")},On.materialize=function(){Fe("MultiPulse does not support materialization.")},On.visit=function(e,t){var n=this,r=n.pulses,i=r.length,u=0;if(e&n.SOURCE)for(;u<i;++u)r[u].visit(e,t);else for(;u<i;++u)r[u].stamp===n.stamp&&r[u].visit(e,t);return n};var Fn={skip:!1,force:!1};function Mn(e){var t=[];return{size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),Sn(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,u=e.length,a=e[t],o=1+(t<<1);for(;o<u;)(r=o+1)<u&&n(e[o],e[r])>=0&&(o=r),e[t]=e[o],o=1+((t=o)<<1);e[t]=a,Sn(e,i,t,n)}(t,0,e)):n=r,n}}}function Sn(e,t,n,r){var i,u,a;for(i=e[n];n>t&&r(i,u=e[a=n-1>>1])<0;)e[n]=u,n=a;return e[n]=i}function jn(){this.logger(We()),this.logLevel(Ie),this._clock=0,this._rank=0;try{this._loader=sn()}catch(e){}this._touched=Je(Pe),this._pulses={},this._pulse=null,this._heap=Mn(function(e,t){return e.qrank-t.qrank}),this._postrun=[]}var Tn=jn.prototype;function Nn(e){return function(){return this._log[e].apply(this,arguments)}}function Bn(e,t){yt.call(this,e,null,t)}Tn.stamp=function(){return this._clock},Tn.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},Tn.cleanThreshold=1e4,Tn.add=function(e,t,n,r){var i,u=1;return e instanceof yt?i=e:e&&e.prototype instanceof yt?i=new e:Ye(e)?i=new yt(null,e):(u=0,i=new yt(e,t)),this.rank(i),u&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},Tn.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},Tn.rank=function(e){e.rank=++this._rank},Tn.rerank=function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Fe("Cycle detected in dataflow graph.")},Tn.pulse=function(e,t,n){this.touch(e,n||Fn);var r=new yn(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._pulses[e.id]=t.pulse(r,i),this},Tn.touch=function(e,t){var n=t||Fn;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},Tn.update=function(e,t,n){var r=n||Fn;return(e.set(t)||r.force)&&this.touch(e,r),this},Tn.changeset=ht,Tn.ingest=function(e,t,n){return this.pulse(e,this.changeset().insert(ln(t,n)))},Tn.parse=ln,Tn.preload=function(e,t,n){return hn.apply(this,arguments)},Tn.request=function(e,t){return dn.apply(this,arguments)},Tn.events=function(e,t,n,r){for(var i,u=this,a=Et(n,r),o=function(e){e.dataflow=u;try{a.receive(e)}catch(t){u.error(t)}finally{u.run()}},c=0,f=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):He(e)).length;c<f;++c)i[c].addEventListener(t,o);return a},Tn.on=function(e,t,n,r,i){return(e instanceof yt?gn:vn)(this,e,t,n,r,i),this},Tn.evaluate=function(e,t,n){return kn.apply(this,arguments)},Tn.run=function(e,t,n){return this._pulse?Dn(this):(this.evaluate(e,t,n),this)},Tn.runAsync=function(e,t,n){return Cn.apply(this,arguments)},Tn.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},Tn._enqueue=function(e,t){var n=!this._pulses[e.id];n&&(this._pulses[e.id]=this._pulse),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},Tn._getPulse=function(e,t){var n,r=e.source,i=this._clock;return r&&Se(r)?new En(this,i,n=r.map(function(e){return e.pulse}),t):(n=this._pulses[e.id],r&&((r=r.pulse)&&r!==bn?r.stamp===i&&n.target!==e?n=r:n.source=r.source:n.source=[]),n)},Tn.logger=function(e){return arguments.length?(this._log=e,this):this._log},Tn.error=Nn("error"),Tn.warn=Nn("warn"),Tn.info=Nn("info"),Tn.debug=Nn("debug"),Tn.logLevel=Nn("level");var Pn=$e(Bn,yt);Pn.run=function(e){var t,n=this;return e.stamp<=this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,this.stamp=e.stamp,t.then?t=t.then(function(e){return n.pulse=e}):t!==e.StopPropagation&&(this.pulse=t),t)},Pn.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},Pn.transform=function(){};var Rn={};function zn(e){var t=Ln(e);return t&&t.Definition||null}function Ln(e){return e=e&&e.toLowerCase(),Rn.hasOwnProperty(e)?Rn[e]:null}function In(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}var Un=function(e,t,n){return e.fields=t||[],e.fname=n,e};function qn(e){return null==e?null:e.fname}function Wn(e){return null==e?null:e.fields}var Hn=function(e){throw Error(e)},Yn=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||Hn("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&Hn("Access path missing closing bracket: "+e),u&&Hn("Access path missing closing quote: "+e),n>t&&(n++,f()),i},Vn=Array.isArray,Gn=function(e){return e===Object(e)},$n=function(e){return"string"===typeof e};function Xn(e){return Vn(e)?"["+e.map(Xn)+"]":Gn(e)||$n(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Jn=function(e,t){var n=Yn(e),r="return _["+n.map(Xn).join("][")+"];";return Un(Function("_",r),[e=1===n.length?n[0]:e],t||e)},Kn=[],Qn=(Jn("id"),Un(function(e){return e},Kn,"identity")),Zn=Un(function(){return 0},Kn,"zero"),er=(Un(function(){return 1},Kn,"one"),Un(function(){return!0},Kn,"true"));Un(function(){return!1},Kn,"false");var tr=function(e){return null!=e?Vn(e)?e:[e]:[]},nr=function(e){return"function"===typeof e},rr=function(e,t){var n,r,i,u,a,o,c,f,s,l=[],d=(e=tr(e)).map(function(e,t){return null==e?null:(l.push(t),nr(e)?e:Yn(e).map(Xn).join("]["))}),h=l.length-1,p=tr(t),m="var u,v;return ";if(h<0)return null;for(r=0;r<=h;++r)i=d[n=l[r]],nr(i)?(u="(u=this."+(o="f"+n)+"(a))",a="(v=this."+o+"(b))",(c=c||{})[o]=i):(u="(u=a["+i+"])",a="(v=b["+i+"])"),o="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==p[n]?(s=1,f=-1):(s=-1,f=1),m+="("+u+"<"+a+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+s+":"+o+"!==u&&v===v?"+f+":v!==v&&u===u?"+s+(n<h?":":":0");return i=Function("a","b",m+";"),c&&(i=i.bind(c)),e=e.reduce(function(e,t){return nr(t)?(Wn(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),Un(i,Object.keys(e))},ir=function(e){return nr(e)?e:function(){return e}},ur=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},ar={},or=function(e){var t,n,r={};function i(e){return r.hasOwnProperty(e)&&r[e]!==ar}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===ar&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=ar),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,u={},a=0;for(e in r)(i=r[e])===ar||n&&n(i)||(u[e]=i,++a);t.size=a,t.empty=0,t.object=r=u}},e&&Object.keys(e).forEach(function(n){t.set(n,e[n])}),t},cr=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},fr=function(e,t){e&&(e=t?tr(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):tr(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?Xn(e):Yn(e).map(Xn).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return Un(n,e,"key")};function sr(e,t,n){return n||e+(t?"_"+t:"")}var lr={values:pr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:pr({name:"count",set:"cell.num"}),__count__:pr({name:"count",set:"this.missing + this.valid"}),missing:pr({name:"missing",set:"this.missing"}),valid:pr({name:"valid",set:"this.valid"}),sum:pr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:pr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:pr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:pr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:pr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:pr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:pr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:pr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:pr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:pr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:pr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:pr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:pr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:pr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:pr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:pr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:pr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:pr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},dr=Object.keys(lr);function hr(e,t){return lr[e](t)}function pr(e){return function(t){var n=ur({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function mr(e,t){return e.idx-t.idx}function vr(e,t){var n=t||Qn,r=function(e,t){var n,r=e.reduce(function e(n,r){function i(t){n[t]||e(n,n[t]=lr[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n},e.reduce(function(e,t){return e[t.name]=t,e},{})),i=[];for(n in r)i.push(r[n]);return i.sort(mr)}(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",u="this.cell = cell; this.init();",a="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",o="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",c="var cell = this.cell;";return r.forEach(function(e){i+=e.init,a+=e.add,o+=e.rem}),e.slice().sort(mr).forEach(function(e){c+="t['"+e.out+"']="+e.set+";"}),c+="return t;",(u=Function("cell",u)).prototype.init=Function(i),u.prototype.add=Function("v","t",a),u.prototype.rem=Function("v","t",o),u.prototype.set=Function("t",c),u.prototype.get=n,u.fields=e.map(function(e){return e.out}),u}var gr=function(e,t){var n,r=[],i=e.length,u=-1;if(null==t)for(;++u<i;)isNaN(n=br(e[u]))||r.push(n);else for(;++u<i;)isNaN(n=br(t(e[u],u,e)))||r.push(n);return r};function br(e){return null===e?NaN:+e}var yr=Math.random;var xr=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},wr=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return xr(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var _r=wr(xr);_r.right,_r.left;function Ar(e,t){var n,r=0,i=0,u=0;if(void 0===t){var a=!0,o=!1,c=void 0;try{for(var f,s=e[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var l=f.value;null!=l&&(l=+l)>=l&&(u+=(n=l-i)*(l-(i+=n/++r)))}}catch(y){o=!0,c=y}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}}else{var d=-1,h=!0,p=!1,m=void 0;try{for(var v,g=e[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;null!=(b=t(b,++d,e))&&(b=+b)>=b&&(u+=(n=b-i)*(b-(i+=n/++r)))}}catch(y){p=!0,m=y}finally{try{h||null==g.return||g.return()}finally{if(p)throw m}}}if(r>1)return u/(r-1)}var Er=function(e,t){var n,r;if(void 0===t){var i=!0,u=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var f=o.value;null!=f&&f>=f&&(void 0===n?n=r=f:(n>f&&(n=f),r<f&&(r=f)))}}catch(g){u=!0,a=g}finally{try{i||null==c.return||c.return()}finally{if(u)throw a}}}else{var s=-1,l=!0,d=!1,h=void 0;try{for(var p,m=e[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var v=p.value;null!=(v=t(v,++s,e))&&v>=v&&(void 0===n?n=r=v:(n>v&&(n=v),r<v&&(r=v)))}}catch(g){d=!0,h=g}finally{try{l||null==m.return||m.return()}finally{if(d)throw h}}}return[n,r]};function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,u=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var kr=Array.prototype,Cr=(kr.slice,kr.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Dr=function(e){return null===e?NaN:+e};function Fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}function Mr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xr;r>n;){if(r-n>600){var u=r-n+1,a=t-n+1,o=Math.log(u),c=.5*Math.exp(2*o/3),f=.5*Math.sqrt(o*c*(u-c)/u)*(a-u/2<0?-1:1);Mr(e,t,Math.max(n,Math.floor(t-a*c/u+f)),Math.min(r,Math.floor(t+(u-a)*c/u+f)),i)}var s=e[t],l=n,d=r;for(Sr(e,n,t),i(e[r],s)>0&&Sr(e,n,r);l<d;){for(Sr(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}0===i(e[n],s)?Sr(e,n,d):Sr(e,++d,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Sr(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var jr=Qe.a.mark(Tr);function Tr(e,t){var n,r,i,u,a,o,c,f,s,l,d,h,p;return Qe.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(void 0!==t){m.next=30;break}n=!0,r=!1,i=void 0,m.prev=4,u=e[Symbol.iterator]();case 6:if(n=(a=u.next()).done){m.next=14;break}if(!(null!=(o=a.value)&&(o=+o)>=o)){m.next=11;break}return m.next=11,o;case 11:n=!0,m.next=6;break;case 14:m.next=20;break;case 16:m.prev=16,m.t0=m.catch(4),r=!0,i=m.t0;case 20:m.prev=20,m.prev=21,n||null==u.return||u.return();case 23:if(m.prev=23,!r){m.next=26;break}throw i;case 26:return m.finish(23);case 27:return m.finish(20);case 28:m.next=58;break;case 30:c=-1,f=!0,s=!1,l=void 0,m.prev=34,d=e[Symbol.iterator]();case 36:if(f=(h=d.next()).done){m.next=44;break}if(p=h.value,!(null!=(p=t(p,++c,e))&&(p=+p)>=p)){m.next=41;break}return m.next=41,p;case 41:f=!0,m.next=36;break;case 44:m.next=50;break;case 46:m.prev=46,m.t1=m.catch(34),s=!0,l=m.t1;case 50:m.prev=50,m.prev=51,f||null==d.return||d.return();case 53:if(m.prev=53,!s){m.next=56;break}throw l;case 56:return m.finish(53);case 57:return m.finish(50);case 58:case"end":return m.stop()}},jr,null,[[4,16,20,28],[21,,23,27],[34,46,50,58],[51,,53,57]])}function Nr(e,t){var n;if(void 0===t){var r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value;null!=c&&c>=c&&(void 0===n||n>c)&&(n=c)}}catch(v){i=!0,u=v}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}}else{var f=-1,s=!0,l=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var m=h.value;null!=(m=t(m,++f,e))&&m>=m&&(void 0===n||n>m)&&(n=m)}}catch(v){l=!0,d=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw d}}}return n}var Br=function(e,t){var n=gr(e,t);return[Fr(n.sort(xr),.25),Fr(n,.5),Fr(n,.75)]},Pr=function(e,t){var n,r,i=NaN,u={mean:function(e){return arguments.length?(n=e||0,i=NaN,u):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i=NaN,u):r},sample:function(){var e,t,u=0,a=0;if(i===i)return u=i,i=NaN,u;do{e=(u=2*yr()-1)*u+(a=2*yr()-1)*a}while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),i=n+a*t*r,n+u*t*r},pdf:function(e){var t=Math.exp(Math.pow(e-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*t},cdf:function(e){var t,i=(e-n)/r,u=Math.abs(i);if(u>37)t=0;else{var a=Math.exp(-u*u/2);u<7.07106781186547?(t=a*((((((.0352624965998911*u+.700383064443688)*u+6.37396220353165)*u+33.912866078383)*u+112.079291497871)*u+221.213596169931)*u+220.206867912376),t/=((((((.0883883476483184*u+1.75566716318264)*u+16.064177579207)*u+86.7807322029461)*u+296.564248779674)*u+637.333633378831)*u+793.826512519948)*u+440.413735824752):t=a/(u+1/(u+2/(u+3/(u+4/(u+.65)))))/2.506628274631}return i>0?1-t:t},icdf:function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),u=2/(Math.PI*i)+Math.log(1-Math.pow(t,2))/2,a=Math.log(1-t*t)/i,o=(t>0?1:-1)*Math.sqrt(Math.sqrt(u*u-a)-u);return n+r*Math.SQRT2*o}};return u.mean(e).stdev(t)};function Rr(e){this._key=e?Jn(e):at,this.reset()}var zr=Rr.prototype;function Lr(e){Bn.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}zr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},zr.add=function(e){this._add.push(e)},zr.rem=function(e){this._rem.push(e)},zr.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,u=this._key,a=r.length,o=i.length,c=Array(a-o),f={};for(e=0;e<o;++e)f[u(i[e])]=1;for(e=0,t=0;e<a;++e)f[u(n=r[e])]?f[u(n)]=0:c[t++]=n;return this._rem=[],this._add=c},zr.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},u=0;--r>=0;)t=e(n[r])+"",i.hasOwnProperty(t)||(i[t]=1,++u);return u},zr.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=function(e,t){var n,r,i,u,a,o=-1,c=e.length;if(null==t){for(;++o<c;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=e[o])&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}else{for(;++o<c;)if(null!=(r=t(e[o],o,e))&&r>=r){n=i=r;break}for(u=a=o;++o<c;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r,u=o),i<r&&(i=r,a=o))}return[u,a]}(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},zr.argmin=function(e){return this.extent(e)[0]||{}},zr.argmax=function(e){return this.extent(e)[1]||{}},zr.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},zr.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},zr.quartile=function(e){return this._get===e&&this._q||(this._q=Br(this.values(),e),this._get=e),this._q},zr.q1=function(e){return this.quartile(e)[0]},zr.q2=function(e){return this.quartile(e)[1]},zr.q3=function(e){return this.quartile(e)[2]},zr.ci=function(e){return this._get===e&&this._ci||(this._ci=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,u,a,o,c=gr(e,r),f=c.length,s=t;for(a=0,o=Array(s);a<s;++a){for(i=0,u=0;u<f;++u)i+=c[~~(yr()*f)];o[a]=i/f}return[Fr(o.sort(xr),n/2),Fr(o,1-n/2)]}(this.values(),1e3,.05,e),this._get=e),this._ci},zr.ci0=function(e){return this.ci(e)[0]},zr.ci1=function(e){return this.ci(e)[1]},Lr.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:dr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Ir=cr(Lr,Bn);Ir.transform=function(e,t){var n,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=e.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(this.value=this.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),i.modifies(this._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},Ir.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map(function(){return{}}),i=n.length;function u(e){var t,u,a,o;for(t in e)for(a=e[t].tuple,u=0;u<i;++u)r[u][o=a[n[u]]]=o}u(e._prev),u(t),function u(a,o,c){var f,s,l=n[c],d=r[c++];for(f in d)o[l]=d[f],s=a?a+"|"+f:f,c<i?u(s,o,c):t[s]||e.cell(s,o)}("",{},0)},Ir.init=function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=tr(Wn(e)),u=0,a=i.length;u<a;++u)r[n=i[u]]||(r[n]=1,t.push(n))}this._dims=tr(e.groupby),this._dnames=this._dims.map(function(e){var t=qn(e);return i(e),n.push(t),t}),this.cellkey=e.key?e.key:In(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var u,a,o,c,f,s,l=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=l.length,m={};for(p!==d.length&&Hn("Unmatched number of fields and aggregate ops."),s=0;s<p;++s)u=l[s],a=d[s],null==u&&"count"!==a&&Hn("Null aggregate field specified."),f=sr(a,c=qn(u),h[s]),n.push(f),"count"!==a?((o=m[c])||(i(u),(o=m[c]=[]).field=u,this._measures.push(o)),"count"!==a&&(this._countOnly=!1),o.push(hr(a,f))):this._counts.push(f);return this._measures=this._measures.map(function(e){return vr(e,e.field)}),{}},Ir.cellkey=In(),Ir.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},Ir.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,u=i.length;for(n.agg=Array(u),r=0;r<u;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new Rr),n},Ir.newtuple=function(e,t){var n,r,i=this._dnames,u=this._dims,a={};for(n=0,r=u.length;n<r;++n)a[i[n]]=u[n](e);return t?lt(t.tuple,a):ct(a)},Ir.add=function(e){var t,n,r,i=this.cellkey(e),u=this.cell(i,e);if(u.num+=1,!this._countOnly)for(u.store&&u.data.add(e),n=0,r=(t=u.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},Ir.rem=function(e){var t,n,r,i=this.cellkey(e),u=this.cell(i,e);if(u.num-=1,!this._countOnly)for(u.store&&u.data.rem(e),n=0,r=(t=u.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},Ir.celltuple=function(e){var t,n,r,i=e.tuple,u=this._counts;for(e.store&&e.data.values(),n=0,r=u.length;n<r;++n)i[u[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},Ir.changes=function(e){var t,n,r,i,u=this._adds,a=this._mods,o=this._prev,c=this._drop,f=e.add,s=e.rem,l=e.mod;if(o)for(n in o)t=o[n],c&&!t.num||s.push(t.tuple);for(r=0,i=this._alen;r<i;++r)f.push(this.celltuple(u[r])),u[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=a[r]).num&&c?s:l).push(this.celltuple(t)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,e};function Ur(e){Bn.call(this,null,e)}Ur.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var qr=cr(Ur,Bn);qr.transform=function(e,t){var n,r=this._bins(e),i=r.start,u=r.step,a=e.as||["bin0","bin1"],o=a[0],c=a[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Wn(e.field))?t.ADD_MOD:t.ADD,t.visit(n,function(e){var t=r(e);e[o]=t,e[c]=null==t?null:i+u*(1+(t-i)/u)}),t.modifies(a)},qr._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=function(e){var t,n,r,i,u,a,o,c,f=e.maxbins||20,s=e.base||10,l=Math.log(s),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],m=p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(u=m/f,a=0,o=e.steps.length;a<o&&e.steps[a]<u;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(f)/l),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(m)/l)-n));Math.ceil(m/t)>f;)t*=s;for(a=0,o=d.length;a<o;++a)(u=t/d[a])>=r&&m/u<=f&&(t=u)}return i=(u=Math.log(t))>=0?0:1+~~(-u/l),c=Math.pow(s,-i-1),(e.nice||void 0===e.nice)&&(h=h<(u=Math.floor(h/t+c)*t)?u-t:u,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}}(e),u=i.start,a=i.stop,o=i.step;null!=(t=e.anchor)&&(n=t-(u+o*Math.floor((t-u)/o)),u+=n,a+=n);var c=function(e){var t=r(e);return null==t?null:(t=Math.max(u,Math.min(+t,a-o)),u+o*Math.floor(1e-14+(t-u)/o))};return c.start=u,c.stop=a,c.step=o,this.value=Un(c,Wn(r),e.name||"bin_"+qn(r))};var Wr=function(e,t,n){var r=e,i=t||[],u=n||[],a={},o=0;return{add:function(e){u.push(e)},remove:function(e){a[r(e)]=++o},size:function(){return i.length},data:function(e,t){return o&&(i=i.filter(function(e){return!a[r(e)]}),a={},o=0),t&&e&&i.sort(e),u.length&&(i=e?function(e,t,n,r){var i=t.length,u=n.length;if(!u)return t;if(!i)return n;for(var a=r||new t.constructor(i+u),o=0,c=0,f=0;o<i&&c<u;++f)a[f]=e(t[o],n[c])>0?n[c++]:t[o++];for(;o<i;++o,++f)a[f]=t[o];for(;c<u;++c,++f)a[f]=n[c];return a}(e,i,u.sort(e)):i.concat(u),u=[]),i}}};function Hr(e){Bn.call(this,[],e)}function Yr(e){yt.call(this,null,Vr,e)}function Vr(e){return this.value&&!e.modified()?this.value:rr(e.fields,e.orders)}function Gr(e){Bn.call(this,null,e)}Hr.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},cr(Hr,Bn).transform=function(e,t){var n=t.fork(t.ALL),r=Wr(at,this.value,n.materialize(n.ADD).add),i=e.sort,u=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(u),this.value=n.source=r.data(i,u),t.source&&t.source.root&&(this.value.root=t.source.root),n},cr(Yr,yt),Gr.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var $r=cr(Gr,Bn);function Xr(e){Bn.call(this,null,e)}$r.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(o(n),e.case,u)||[],c=0,f=i.length;c<f;++c)a.test(r=i[c])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,u=this._match,a=this._stop,o=e.field,c=e.as||["text","count"],f=n(function(e){i[e]=1+(i[e]||0)}),s=n(function(e){i[e]-=1});return r?t.visit(t.SOURCE,f):(t.visit(t.ADD,f),t.visit(t.REM,s)),this._finish(t,c)},$r._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},$r._finish=function(e,t){var n,r,i,u=this._counts,a=this._tuples||(this._tuples={}),o=t[0],c=t[1],f=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in u)r=a[n],i=u[n]||0,!r&&i?(a[n]=r=ct({}),r[o]=n,r[c]=i,f.add.push(r)):0===i?(r&&f.rem.push(r),u[n]=null,a[n]=null):r[c]!==i&&(r[c]=i,f.mod.push(r));return f.modifies(t)},Xr.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},cr(Xr,Bn).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],u=i[0],a=i[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),r=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,u,a=[],o={},c=e.length,f=0;f<c;++f)for(o[t]=u=e[f],i=0;i<c;++i)o[n]=e[i],r(o)&&(a.push(ct(o)),(o={})[t]=u);return a}(r,u,a,e.filter||er)):n.mod=r,n.source=this.value,n.modifies(i)};var Jr={kde:function(e,t){var n=Pr(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=function(e){var t=e.length,n=Br(e),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(Ar(e)),r)*Math.pow(t,-.2)}(e)),r):t},r.sample=function(){return e[~~(yr()*i)]+t*n.sample()},r.pdf=function(r){for(var u=0,a=0;a<i;++a)u+=n.pdf((r-e[a])/t);return u/t/i},r.cdf=function(r){for(var u=0,a=0;a<i;++a)u+=n.cdf((r-e[a])/t);return u/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)},mixture:function(e,t){var n,r={},i=0;return r.weights=function(e){return arguments.length?(n=function(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=yr(),r=e[i-1],u=n[0],a=0;a<i-1;u+=n[++a])if(t<u){r=e[a];break}return r.sample()},r.pdf=function(t){for(var r=0,u=0;u<i;++u)r+=n[u]*e[u].pdf(t);return r},r.cdf=function(t){for(var r=0,u=0;u<i;++u)r+=n[u]*e[u].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)},normal:Pr,uniform:function(e,t){null==t&&(t=null==e?1:e,e=0);var n,r,i,u={};return u.min=function(e){return arguments.length?(i=r-(n=e||0),u):n},u.max=function(e){return arguments.length?(i=(r=e||0)-n,u):r},u.sample=function(){return n+i*yr()},u.pdf=function(e){return e>=n&&e<=r?1/i:0},u.cdf=function(e){return e<n?0:e>r?1:(e-n)/i},u.icdf=function(e){return e>=0&&e<=1?n+e*i:NaN},u.min(e).max(t)}},Kr="distributions",Qr="function",Zr="field";function ei(e){Bn.call(this,null,e)}var ti=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],ni={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ti},{name:"weights",type:"number",array:!0}]};function ri(e){yt.call(this,null,ii,e),this.modified(!0)}function ii(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Un(function(n){return t(n,e)},Wn(t),qn(t))}function ui(e){Bn.call(this,[void 0,void 0],e)}function ai(e,t){yt.call(this,e),this.parent=t}ei.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ti.concat(ni)},{name:"as",type:"string",array:!0,default:["value","density"]}]},cr(ei,Bn).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t[Qr];Jr.hasOwnProperty(r)||Hn("Unknown distribution function: "+r);var i=Jr[r]();for(var u in t)u===Zr?i.data((t.from||n()).map(t[u])):u===Kr?i[u](t[u].map(function(t){return e(t,n)})):typeof i[u]===Qr&&i[u](t[u]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.method||"pdf";"pdf"!==i&&"cdf"!==i&&Hn("Invalid density method: "+i),e.extent||r.data||Hn("Missing density extent parameter."),i=r[i];var u=e.as||["value","density"],a=e.extent||Er(r.data()),o=(a[1]-a[0])/(e.steps||100),c=Cr(a[0],a[1]+o/2,o).map(function(e){var t={};return t[u[0]]=e,t[u[1]]=i(e),ct(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n},cr(ri,yt),ui.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},cr(ui,Bn).transform=function(e,t){var n,r=this.value,i=e.field,u=r[0],a=r[1];((n=t.changed()||t.modified(i.fields)||e.modified("field"))||null==u)&&(u=1/0,a=-1/0),t.visit(n?t.SOURCE:t.ADD,function(e){var t=i(e);null!=t&&((t=+t)<u&&(u=t),t>a&&(a=t))}),isFinite(u)&&isFinite(a)||(u=a=void 0),this.value=[u,a]};var oi=cr(ai,yt);function ci(e){Bn.call(this,{},e),this._keys=or();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}oi.connect=function(e){return this.targets().add(e),e.source=this},oi.add=function(e){this.value.add.push(e)},oi.rem=function(e){this.value.rem.push(e)},oi.mod=function(e){this.value.mod.push(e)},oi.init=function(e){this.value.init(e,e.NO_SOURCE)},oi.evaluate=function(){return this.value};var fi=cr(ci,Bn);function si(e){yt.call(this,null,li,e)}function li(e){return this.value&&!e.modified()?this.value:Vn(e.name)?tr(e.name).map(function(e){return Jn(e)}):Jn(e.name,e.as)}function di(e){Bn.call(this,or(),e)}function hi(e,t){return e?e.map(function(e,n){return t[n]||qn(e)}):null}function pi(e){Bn.call(this,[],e)}function mi(e){Bn.call(this,[],e)}function vi(e){Bn.call(this,null,e)}function gi(e){Bn.call(this,[],e)}fi.activate=function(e){this._targets[this._targets.active++]=e},fi.subflow=function(e,t,n,r){var i,u,a=this.value,o=a.hasOwnProperty(e)&&a[e];return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(u=r||(u=this._group[e])&&u.tuple,o=(i=n.dataflow).add(new ai(n.fork(n.NO_SOURCE),this)).connect(t(i,e,u)),a[e]=o,this.activate(o)),o},fi.transform=function(e,t){var n=t.dataflow,r=this,i=e.key,u=e.subflow,a=this._keys,o=e.modified("key");function c(e){return r.subflow(e,u,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,function(e){var t=at(e),n=a.get(t);void 0!==n&&(a.delete(t),c(n).rem(e))}),t.visit(t.ADD,function(e){var t=i(e);a.set(at(e),t),c(t).add(e)}),o||t.modified(i.fields)?t.visit(t.MOD,function(e){var t=at(e),n=a.get(t),r=i(e);n===r?c(r).mod(e):(a.set(t,r),c(n).rem(e),c(r).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,function(e){c(a.get(at(e))).mod(e)}),o&&t.visit(t.REFLOW,function(e){var t=at(e),n=a.get(t),r=i(e);n!==r&&(a.set(t,r),c(n).rem(e),c(r).add(e))}),a.empty>n.cleanThreshold&&n.runAfter(a.clean),t},cr(si,yt),di.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},cr(di,Bn).transform=function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),u=i.add,a=i.rem,o=i.mod,c=e.expr,f=!0;function s(t){var n=at(t),i=c(t,e),s=r.get(n);i&&s?(r.delete(n),u.push(t)):i||s?f&&i&&!s&&o.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,function(e){var t=at(e);r.has(t)?r.delete(t):a.push(e)}),t.visit(t.ADD,function(t){c(t,e)?u.push(t):r.set(at(t),1)}),t.visit(t.MOD,s),e.modified()&&(f=!1,t.visit(t.REFLOW,s)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},pi.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},cr(pi,Bn).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=hi(r,e.as||[]),u=i.length;return n.rem=this.value,t.visit(t.SOURCE,function(e){for(var t,a,o,c=r.map(function(t){return t(e)}),f=c.reduce(function(e,t){return Math.max(e,t.length)},0),s=0;s<f;++s){for(a=ft(e),t=0;t<u;++t)a[i[t]]=null==(o=c[t][s])?null:o;n.add.push(a)}}),this.value=n.source=n.add,n.modifies(i)},mi.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},cr(mi,Bn).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(qn),u=e.as||["key","value"],a=u[0],o=u[1],c=r.length;return n.rem=this.value,t.visit(t.SOURCE,function(e){for(var t,u=0;u<c;++u)(t=ft(e))[a]=i[u],t[o]=r[u](e),n.add.push(t)}),this.value=n.source=n.add,n.modifies(u)},vi.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},cr(vi,Bn).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),u=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(u,function(t){t[r]=n(t,e)})},cr(gi,Bn).transform=function(e,t){var n,r,i,u=this.value,a=t.fork(t.ALL),o=e.size-u.length,c=e.generator;if(o>0){for(n=[];--o>=0;)n.push(i=ct(c(e))),u.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=u.slice(0,-o),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,u=u.slice(-o);return a.source=this.value=u,a};var bi={value:"value",median:function(e,t){if((e=Float64Array.from(Tr(e,t))).length){var n=e.length,r=n>>1;return Mr(e,r-1,0),0===(1&n)&&Mr(e,r,r),Fr(e,.5)}},mean:function(e,t){var n=0,r=0;if(void 0===t){var i=!0,u=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var f=o.value;null!=f&&(f=+f)>=f&&(++n,r+=f)}}catch(g){u=!0,a=g}finally{try{i||null==c.return||c.return()}finally{if(u)throw a}}}else{var s=-1,l=!0,d=!1,h=void 0;try{for(var p,m=e[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var v=p.value;null!=(v=t(v,++s,e))&&(v=+v)>=v&&(++n,r+=v)}}catch(g){d=!0,h=g}finally{try{l||null==m.return||m.return()}finally{if(d)throw h}}}if(n)return r/n},min:Nr,max:function(e,t){var n;if(void 0===t){var r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value;null!=c&&c>=c&&(void 0===n||n<c)&&(n=c)}}catch(v){i=!0,u=v}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}}else{var f=-1,s=!0,l=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var m=h.value;null!=(m=t(m,++f,e))&&m>=m&&(void 0===n||n<m)&&(n=m)}}catch(v){l=!0,d=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw d}}}return n}},yi=[];function xi(e){Bn.call(this,[],e)}function wi(e){Lr.call(this,e)}xi.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},cr(xi,Bn).transform=function(e,t){var n,r,i,u,a,o,c,f,s,l,d=t.fork(t.ALL),h=function(e){var t,n=e.method||bi.value;if(null!=bi[n])return n===bi.value?(t=void 0!==e.value?e.value:0,function(){return t}):bi[n];Hn("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),m=qn(e.field),v=qn(e.key),g=(e.groupby||[]).map(qn),b=function(e,t,n,r){var i,u,a,o,c,f,s,l,d=function(e){return e(l)},h=[],p=r?r.slice():[],m={},v={};for(p.forEach(function(e,t){m[e]=t+1}),o=0,s=e.length;o<s;++o)l=e[o],f=n(l),c=m[f]||(m[f]=p.push(f)),u=(i=t?t.map(d):yi)+"",(a=v[u])||(a=v[u]=[],h.push(a),a.values=i),a[c-1]=l;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),y=[],x=this.value,w=b.domain.length;for(a=0,f=b.length;a<f;++a)for(i=(n=b[a]).values,r=NaN,c=0;c<w;++c)if(null==n[c]){for(u=b.domain[c],l={_impute:!0},o=0,s=i.length;o<s;++o)l[g[o]]=i[o];l[v]=u,l[m]=isNaN(r)?r=h(n,p):r,y.push(ct(l))}return y.length&&(d.add=d.materialize(d.ADD).add.concat(y)),x.length&&(d.rem=d.materialize(d.REM).rem.concat(x)),this.value=y,d},wi.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:dr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var _i=cr(wi,Lr);function Ai(e){yt.call(this,null,Ei,e)}function Ei(e){return this.value&&!e.modified()?this.value:fr(e.fields,e.flat)}function Oi(e){Bn.call(this,[],e)}function ki(e,t,n){n.forEach(ct);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.add=r.source=n,r}function Ci(e){Bn.call(this,{},e)}function Di(e){yt.call(this,null,Fi,e)}function Fi(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,u=-1/0,a=e.extents;for(t=0,n=a.length;t<n;++t)(r=a[t])[0]<i&&(i=r[0]),r[1]>u&&(u=r[1]);return[i,u]}function Mi(e){yt.call(this,null,Si,e)}function Si(e){return this.value&&!e.modified()?this.value:e.values.reduce(function(e,t){return e.concat(t)},[])}function ji(e){Bn.call(this,null,e)}function Ti(e){Lr.call(this,e)}_i.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(n=r.value=r.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),r.changes(),t.visit(t.SOURCE,function(e){ur(e,n[r.cellkey(e)].tuple)}),t.reflow(i).modifies(this._outputs)},_i.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},cr(Ai,yt),cr(Oi,Bn).transform=function(e,t){var n=this,r=t.dataflow;return e.values?ki(this,t,r.parse(e.values,e.format)):r.request(e.url,e.format).then(function(e){return ki(n,t,e.data||[])})},Ci.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},cr(Ci,Bn).transform=function(e,t){var n,r,i=t,u=e.as,a=e.fields,o=e.index,c=e.values,f=null==e.default?null:e.default,s=e.modified(),l=s?t.SOURCE:t.ADD,d=a.length;return c?(r=c.length,d>1&&!u&&Hn('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==d*r&&Hn('The "as" parameter has too few output field names.'),u=u||c.map(qn),n=function(e){for(var t,n,i=0,s=0;i<d;++i)if(null==(n=o.get(a[i](e))))for(t=0;t<r;++t,++s)e[u[s]]=f;else for(t=0;t<r;++t,++s)e[u[s]]=c[t](n)}):(u||Hn("Missing output field names."),n=function(e){for(var t,n=0;n<d;++n)t=o.get(a[n](e)),e[u[n]]=null==t?f:t}),s?i=t.reflow(!0):l|=a.some(function(e){return t.modified(e.fields)})?t.MOD:0,t.visit(l,n),i.modifies(u)},cr(Di,yt),cr(Mi,yt),cr(ji,Bn),ji.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},Ti.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:dr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var Ni=cr(Ti,Lr);function Bi(e){ci.call(this,e)}function Pi(e){Bn.call(this,null,e)}function Ri(e){Bn.call(this,null,e)}function zi(e){Bn.call(this,null,e)}function Li(e){Bn.call(this,[],e),this.count=0}function Ii(e){Bn.call(this,null,e)}function Ui(e){Bn.call(this,null,e),this.modified(!0)}function qi(e){Bn.call(this,or(),e)}function Wi(e){Bn.call(this,null,e)}Ni._transform=Ni.transform,Ni.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",u=Wn(n).concat(Wn(r)),a=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))}),i.sort(function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)}),t?i.slice(0,t):i}(n,e.limit||0,t);return{key:e.key,groupby:e.groupby,ops:a.map(function(){return i}),fields:a.map(function(e){return function(e,t,n,r){return Un(function(r){return t(r)===e?n(r):NaN},r,e+"")}(e,n,r,u)}),as:a.map(function(e){return e+""}),modified:e.modified.bind(e)}}(e,t),t)},cr(Bi,ci).transform=function(e,t){var n=this,r=e.subflow,i=e.field;return(e.modified("field")||i&&t.modified(Wn(i)))&&Hn("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,function(e){var u=n.subflow(at(e),r,t,e);i?i(e).forEach(function(e){u.mod(e)}):u.mod(e)}),t.visit(t.ADD,function(e){var u=n.subflow(at(e),r,t,e);i?i(e).forEach(function(e){u.add(ct(e))}):u.add(e)}),t.visit(t.REM,function(e){var u=n.subflow(at(e),r,t,e);i?i(e).forEach(function(e){u.rem(e)}):u.rem(e)}),t},Pi.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},cr(Pi,Bn).transform=function(e,t){var n,r,i=e.fields,u=hi(e.fields,e.as||[]),a=i?function(e,t){return function(e,t,n,r){for(var i=0,u=n.length;i<u;++i)t[r[i]]=n[i](e);return t}(e,t,i,u)}:st;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,function(e){var t=at(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,function(e){var t=a(e,ct({}));r[at(e)]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(a(e,r[at(e)]))}),n},cr(Ri,Bn).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation},cr(zi,Bn).transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,function(e){var t=at(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,function(e){var t=ft(e);r[at(e)]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(st(e,r[at(e)]))})),n},Li.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},cr(Li,Bn).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,u=this.value,a=this.count,o=0,c=u.reduce(function(e,t){return e[at(t)]=1,e},{});function f(e){var t,r;u.length<i?u.push(e):(r=~~((a+1)*yr()))<u.length&&r>=o&&(t=u[r],c[at(t)]&&n.rem.push(t),u[r]=e),++a}if(t.rem.length&&(t.visit(t.REM,function(e){var t=at(e);c[t]&&(c[t]=-1,n.rem.push(e)),--a}),u=u.filter(function(e){return-1!==c[at(e)]})),(t.rem.length||r)&&u.length<i&&t.source&&(o=a=u.length,t.visit(t.SOURCE,function(e){c[at(e)]||f(e)}),o=-1),r&&u.length>i){for(var s=0,l=u.length-i;s<l;++s)c[at(u[s])]=-1,n.rem.push(u[s]);u=u.slice(l)}return t.mod.length&&t.visit(t.MOD,function(e){c[at(e)]&&n.mod.push(e)}),t.add.length&&t.visit(t.ADD,f),(t.add.length||o<0)&&(n.add=u.filter(function(e){return!c[at(e)]})),this.count=a,this.value=n.source=u,n},Ii.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},cr(Ii,Bn).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Cr(e.start,e.stop,e.step||1).map(function(e){var t={};return t[r]=e,ct(t)}),n.add=t.add.concat(this.value),n}},cr(Ui,Bn).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation},cr(qi,Bn).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,u=!0;function a(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,function(e){i.delete(r(e))}),t.visit(t.ADD,a)):u=!1,this.modified(u),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},cr(Wi,Bn).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(e.sort):t.source).map(e.field))};var Hi={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=Hi.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Hn("ntile num must be greater than zero.");var n=Hi.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Hn("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}}},Yi=Object.keys(Hi);function Vi(e){var t=tr(e.ops),n=tr(e.fields),r=tr(e.params),i=tr(e.as),u=this.outputs=[],a=this.windows=[],o={},c={},f=!0,s=[],l=[];function d(e){tr(Wn(e)).forEach(function(e){o[e]=1})}d(e.sort),t.forEach(function(e,t){var o=n[t],h=qn(o),p=sr(e,h,i[t]);if(d(o),u.push(p),Hi.hasOwnProperty(e))a.push(function(e,t,n,r){var i=Hi[e](t,n);return{init:i.init||Zn,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==o&&"count"!==e&&Hn("Null aggregate field specified."),"count"===e)return void s.push(p);f=!1;var m=c[h];m||((m=c[h]=[]).field=o,l.push(m)),m.push(hr(e,p))}}),(s.length||l.length)&&(this.cell=function(e,t,n){e=e.map(function(e){return vr(e,e.field)});var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,u=r.agg=Array(i),a=0;a<i;++a)u[a]=new e[a](r);if(r.store)var o=r.data=new Rr;return r.add=function(e){if(r.num+=1,!n){o&&o.add(e);for(var t=0;t<i;++t)u[t].add(u[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){o&&o.rem(e);for(var t=0;t<i;++t)u[t].rem(u[t].get(e),e)}},r.set=function(e){var i,a;for(o&&o.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=u.length;i<a;++i)u[i].set(e)},r.init=function(){r.num=0,o&&o.reset();for(var e=0;e<i;++e)u[e].init()},r}(l,s,f)),this.inputs=Object.keys(o)}var Gi=Vi.prototype;function $i(e){Bn.call(this,{},e),this._mlen=0,this._mods=[]}Gi.init=function(){this.windows.forEach(function(e){e.init()}),this.cell&&this.cell.init()},Gi.update=function(e,t){var n,r=this.cell,i=this.windows,u=e.data,a=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(u[n]);for(n=e.p1;n<e.i1;++n)r.add(u[n]);r.set(t)}for(n=0;n<a;++n)i[n].update(e,t)},$i.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Yi.concat(dr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Xi=cr($i,Bn);function Ji(e,t,n){var r=n.sort,i=r&&!n.ignorePeers,u=n.frame||[null,0],a=e.data(r),o=a.length,c=0,f=i?wr(r):null,s={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:r||ir(-1)};for(t.init();c<o;++c)Ki(s,u,c,o),i&&Qi(s,f),t.update(s,a[c])}function Ki(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Qi(e,t){var n=e.i0,r=e.i1-1,i=e.compare,u=e.data,a=u.length-1;n>0&&!i(u[n],u[n-1])&&(e.i0=t.left(u,u[n])),r<a&&!i(u[r],u[r+1])&&(e.i1=t.right(u,u[r]))}Xi.transform=function(e,t){var n,r,i=this,u=i.state,a=e.modified();this.stamp=t.stamp,u&&!a||(u=i.state=new Vi(e));var o=In(e.groupby);function c(e){return i.group(o(e))}for(a||t.modified(u.inputs)?(i.value={},t.visit(t.SOURCE,function(e){c(e).add(e)})):(t.visit(t.REM,function(e){c(e).remove(e)}),t.visit(t.ADD,function(e){c(e).add(e)})),n=0,r=i._mlen;n<r;++n)Ji(i._mods[n],u,e);return i._mlen=0,i._mods=[],t.reflow(a).modifies(u.outputs)},Xi.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Wr(at)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var Zi="top",eu="left",tu="right",nu="bottom",ru="top-left",iu="top-right",uu="bottom-left",au="bottom-right",ou="start",cu="middle",fu="end",su="x",lu="y",du="group",hu="axis",pu="title",mu="frame",vu="scope",gu="legend",bu="row-header",yu="row-footer",xu="row-title",wu="column-header",_u="column-footer",Au="column-title",Eu="padding",Ou="symbol",ku="fit",Cu="fit-x",Du="fit-y",Fu="pad",Mu="none",Su="all",ju="each",Tu="flush",Nu="column",Bu="row";function Pu(e){this.clear(),e&&this.union(e)}var Ru=Pu.prototype;Ru.clone=function(){return new Pu(this)},Ru.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Ru.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Ru.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},Ru.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},Ru.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},Ru.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},Ru.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Ru.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},Ru.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Ru.rotatedPoints=function(e,t,n){var r=this.x1,i=this.y1,u=this.x2,a=this.y2,o=Math.cos(e),c=Math.sin(e),f=t-t*o+n*c,s=n-t*c-n*o;return[o*r-c*i+f,c*r+o*i+s,o*r-c*a+f,c*r+o*a+s,o*u-c*i+f,c*u+o*i+s,o*u-c*a+f,c*u+o*a+s]},Ru.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},Ru.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},Ru.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},Ru.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},Ru.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},Ru.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},Ru.width=function(){return this.x2-this.x1},Ru.height=function(){return this.y2-this.y1};var zu=0,Lu=function(e,t){var n,r=[];return n={id:"gradient_"+zu++,x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};function Iu(e){this.mark=e,this.bounds=this.bounds||new Pu}function Uu(e){Iu.call(this,e),this.items=this.items||[]}function qu(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function Wu(){return"undefined"!==typeof Image?Image:null}function Hu(e){this._pending=0,this._loader=e||sn()}Object(kt.inherits)(Uu,Iu);var Yu=Hu.prototype;function Vu(e){e._pending+=1}function Gu(e){e._pending-=1}Yu.pending=function(){return this._pending},Yu.sanitizeURL=function(e){var t=this;return Vu(t),t._loader.sanitize(e,{context:"href"}).then(function(e){return Gu(t),e}).catch(function(){return Gu(t),null})},Yu.loadImage=function(e){var t=this,n=Wu();return Vu(t),t._loader.sanitize(e,{context:"image"}).then(function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n;return i.onload=function(){Gu(t),i.loaded=!0},i.onerror=function(){Gu(t),i.loaded=!1},i.src=r,i}).catch(function(e){return Gu(t),{loaded:!1,width:0,height:0,src:e&&e.url||""}})},Yu.ready=function(){var e=this;return new Promise(function(t){!function n(r){e.pending()?setTimeout(function(){n(!0)},10):t(r)}(!1)})};var $u=n(27),Xu={basis:{curve:$u.d},"basis-closed":{curve:$u.e},"basis-open":{curve:$u.f},bundle:{curve:$u.g,tension:"beta",value:.85},cardinal:{curve:$u.h,tension:"tension",value:0},"cardinal-open":{curve:$u.j,tension:"tension",value:0},"cardinal-closed":{curve:$u.i,tension:"tension",value:0},"catmull-rom":{curve:$u.k,tension:"alpha",value:.5},"catmull-rom-closed":{curve:$u.l,tension:"alpha",value:.5},"catmull-rom-open":{curve:$u.m,tension:"alpha",value:.5},linear:{curve:$u.n},"linear-closed":{curve:$u.o},monotone:{horizontal:$u.q,vertical:$u.p},natural:{curve:$u.r},step:{curve:$u.s},"step-after":{curve:$u.t},"step-before":{curve:$u.u}};function Ju(e,t,n){var r=Xu.hasOwnProperty(e)&&Xu[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Ku={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Qu=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Zu=function(e){var t,n,r,i,u,a,o,c,f,s,l,d=[];for(c=0,s=(t=e.slice().replace(Qu[0],"###$1").split(Qu[1]).slice(1)).length;c<s;++c){for(r=(n=t[c]).slice(1).trim().replace(Qu[2],"$1###$2").split(Qu[3]),i=[a=n.charAt(0)],f=0,l=r.length;f<l;++f)(u=+r[f])===u&&i.push(u);if(o=Ku[a.toLowerCase()],i.length-1>o)for(f=1,l=i.length;f<l;f+=o)d.push([a].concat(i.slice(f,f+o)));else d.push(i)}return d},ea=Math.PI/180,ta=Math.PI/2,na=2*Math.PI,ra=Math.sqrt(3)/2,ia={},ua={},aa=[].join;function oa(e){var t=aa.call(e);if(ua[t])return ua[t];var n=e[0],r=e[1],i=e[2],u=e[3],a=e[4],o=e[5],c=e[6],f=e[7],s=f*a,l=-c*o,d=c*a,h=f*o,p=Math.cos(i),m=Math.sin(i),v=Math.cos(u),g=Math.sin(u),b=.5*(u-i),y=Math.sin(.5*b),x=8/3*y*y/Math.sin(b),w=n+p-x*m,_=r+m+x*p,A=n+v,E=r+g,O=A+x*g,k=E-x*v;return ua[t]=[s*w+l*_,d*w+h*_,s*O+l*k,d*O+h*k,s*A+l*E,d*A+h*E]}var ca=["l",0,0,0,0,0,0,0];function fa(e,t){var n=ca[0]=e[0];if("a"===n||"A"===n)ca[1]=t*e[1],ca[2]=t*e[2],ca[3]=e[3],ca[4]=e[4],ca[5]=e[5],ca[6]=t*e[6],ca[7]=t*e[7];else for(var r=1,i=e.length;r<i;++r)ca[r]=t*e[r];return ca}var sa=function(e,t,n,r,i){var u,a,o,c,f,s=null,l=0,d=0,h=0,p=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),e.beginPath&&e.beginPath();for(var m=0,v=t.length;m<v;++m){switch(u=t[m],1!==i&&(u=fa(u,i)),u[0]){case"l":l+=u[1],d+=u[2],e.lineTo(l+n,d+r);break;case"L":l=u[1],d=u[2],e.lineTo(l+n,d+r);break;case"h":l+=u[1],e.lineTo(l+n,d+r);break;case"H":l=u[1],e.lineTo(l+n,d+r);break;case"v":d+=u[1],e.lineTo(l+n,d+r);break;case"V":d=u[1],e.lineTo(l+n,d+r);break;case"m":l+=u[1],d+=u[2],e.moveTo(l+n,d+r);break;case"M":l=u[1],d=u[2],e.moveTo(l+n,d+r);break;case"c":a=l+u[5],o=d+u[6],h=l+u[3],p=d+u[4],e.bezierCurveTo(l+u[1]+n,d+u[2]+r,h+n,p+r,a+n,o+r),l=a,d=o;break;case"C":l=u[5],d=u[6],h=u[3],p=u[4],e.bezierCurveTo(u[1]+n,u[2]+r,h+n,p+r,l+n,d+r);break;case"s":a=l+u[3],o=d+u[4],h=2*l-h,p=2*d-p,e.bezierCurveTo(h+n,p+r,l+u[1]+n,d+u[2]+r,a+n,o+r),h=l+u[1],p=d+u[2],l=a,d=o;break;case"S":a=u[3],o=u[4],h=2*l-h,p=2*d-p,e.bezierCurveTo(h+n,p+r,u[1]+n,u[2]+r,a+n,o+r),l=a,d=o,h=u[1],p=u[2];break;case"q":a=l+u[3],o=d+u[4],h=l+u[1],p=d+u[2],e.quadraticCurveTo(h+n,p+r,a+n,o+r),l=a,d=o;break;case"Q":a=u[3],o=u[4],e.quadraticCurveTo(u[1]+n,u[2]+r,a+n,o+r),l=a,d=o,h=u[1],p=u[2];break;case"t":a=l+u[1],o=d+u[2],null===s[0].match(/[QqTt]/)?(h=l,p=d):"t"===s[0]?(h=2*l-c,p=2*d-f):"q"===s[0]&&(h=2*l-h,p=2*d-p),c=h,f=p,e.quadraticCurveTo(h+n,p+r,a+n,o+r),d=o,h=(l=a)+u[1],p=d+u[2];break;case"T":a=u[1],o=u[2],h=2*l-h,p=2*d-p,e.quadraticCurveTo(h+n,p+r,a+n,o+r),l=a,d=o;break;case"a":la(e,l+n,d+r,[u[1],u[2],u[3],u[4],u[5],u[6]+l+n,u[7]+d+r]),l+=u[6],d+=u[7];break;case"A":la(e,l+n,d+r,[u[1],u[2],u[3],u[4],u[5],u[6]+n,u[7]+r]),l=u[6],d=u[7];break;case"z":case"Z":e.closePath()}s=u}};function la(e,t,n,r){for(var i=function(e,t,n,r,i,u,a,o,c){var f=aa.call(arguments);if(ia[f])return ia[f];var s=a*ea,l=Math.sin(s),d=Math.cos(s),h=d*(o-e)*.5+l*(c-t)*.5,p=d*(c-t)*.5-l*(o-e)*.5,m=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);m>1&&(n*=m=Math.sqrt(m),r*=m);var v=d/n,g=l/n,b=-l/r,y=d/r,x=v*o+g*c,w=b*o+y*c,_=v*e+g*t,A=b*e+y*t,E=1/((_-x)*(_-x)+(A-w)*(A-w))-.25;E<0&&(E=0);var O=Math.sqrt(E);u==i&&(O=-O);var k=.5*(x+_)-O*(A-w),C=.5*(w+A)+O*(_-x),D=Math.atan2(w-C,x-k),F=Math.atan2(A-C,_-k)-D;F<0&&1===u?F+=na:F>0&&0===u&&(F-=na);for(var M=Math.ceil(Math.abs(F/(ta+.001))),S=[],j=0;j<M;++j){var T=D+j*F/M,N=D+(j+1)*F/M;S[j]=[k,C,T,N,n,r,l,d]}return ia[f]=S}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),u=0;u<i.length;++u){var a=oa(i[u]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var da={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,na)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,u=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-u),e.lineTo(i,-u),e.lineTo(0,-n),e.lineTo(-i,-u),e.lineTo(-r,-u),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n,i=r-.5773502691896257*n,u=n/4;e.moveTo(0,-r-i),e.lineTo(-u,r-i),e.lineTo(u,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n,i=r-.5773502691896257*n;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=ra*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function ha(e){return da.hasOwnProperty(e)?da[e]:function(e){if(!pa.hasOwnProperty(e)){var t=Zu(e);pa[e]={draw:function(e,n){sa(e,t,0,0,Math.sqrt(n)/2)}}}return pa[e]}(e)}var pa={};var ma=n(32);function va(e){return e.x}function ga(e){return e.y}function ba(e){return e.width}function ya(e){return e.height}function xa(e){return function(){return e}}var wa=function(){var e=va,t=ga,n=ba,r=ya,i=xa(0),u=null;function a(a,o,c){var f,s=null!=o?o:+e.call(this,a),l=null!=c?c:+t.call(this,a),d=+n.call(this,a),h=+r.call(this,a),p=+i.call(this,a);if(u||(u=f=Object(ma.a)()),p<=0)u.rect(s,l,d,h);else{var m=s+d,v=l+h;u.moveTo(s+p,l),u.lineTo(m-p,l),u.quadraticCurveTo(m,l,m,l+p),u.lineTo(m,v-p),u.quadraticCurveTo(m,v,m-p,v),u.lineTo(s+p,v),u.quadraticCurveTo(s,v,s,v-p),u.lineTo(s,l+p),u.quadraticCurveTo(s,l,s+p,l),u.closePath()}if(f)return u=null,f+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:xa(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:xa(+e),a):t},a.width=function(e){return arguments.length?(n="function"===typeof e?e:xa(+e),a):n},a.height=function(e){return arguments.length?(r="function"===typeof e?e:xa(+e),a):r},a.cornerRadius=function(e){return arguments.length?(i="function"===typeof e?e:xa(+e),a):i},a.context=function(e){return arguments.length?(u=null==e?null:e,a):u},a},_a=function(){var e,t,n,r,i,u,a,o,c=null;function f(e,t,n){var r=n/2;if(i){var f=a-t,s=e-u;if(f||s){var l=Math.sqrt(f*f+s*s),d=(f/=l)*o,h=(s/=l)*o,p=Math.atan2(s,f);c.moveTo(u-d,a-h),c.lineTo(e-f*r,t-s*r),c.arc(e,t,r,p-Math.PI,p),c.lineTo(u+d,a+h),c.arc(u,a,o,p,p+Math.PI)}else c.arc(e,t,r,0,na);c.closePath()}else i=1;u=e,a=t,o=r}function s(u){var a,o,s,l=u.length,d=!1;for(null==c&&(c=s=Object(ma.a)()),a=0;a<=l;++a)!(a<l&&r(o=u[a],a,u))===d&&(d=!d)&&(i=0),d&&f(+e(o,a,u),+t(o,a,u),+n(o,a,u));if(s)return c=null,s+""||null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(e){return arguments.length?(t=e,s):t},s.size=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.context=function(e){return arguments.length?(c=null==e?null:e,s):c},s};function Aa(e){return e.x||0}function Ea(e){return e.y||0}function Oa(e){return e.cornerRadius||0}function ka(e){return!(!1===e.defined)}var Ca=Object($u.a)().startAngle(function(e){return e.startAngle||0}).endAngle(function(e){return e.endAngle||0}).padAngle(function(e){return e.padAngle||0}).innerRadius(function(e){return e.innerRadius||0}).outerRadius(function(e){return e.outerRadius||0}).cornerRadius(Oa),Da=Object($u.b)().x(Aa).y1(Ea).y0(function(e){return(e.y||0)+(e.height||0)}).defined(ka),Fa=Object($u.b)().y(Ea).x1(Aa).x0(function(e){return(e.x||0)+(e.width||0)}).defined(ka),Ma=Object($u.v)().x(Aa).y(Ea).defined(ka),Sa=wa().x(Aa).y(Ea).width(function(e){return e.width||0}).height(function(e){return e.height||0}).cornerRadius(Oa),ja=Object($u.Q)().type(function(e){return ha(e.shape||"circle")}).size(function(e){return null==e.size?64:e.size}),Ta=_a().x(Aa).y(Ea).defined(ka).size(function(e){return e.size||1});function Na(e,t,n,r){return Sa.context(e)(t,n,r)}var Ba,Pa=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e},Ra=na-1e-8;function za(e){return Ba=e,za}function La(){}function Ia(e,t){Ba.add(e,t)}za.beginPath=La,za.closePath=La,za.moveTo=Ia,za.lineTo=Ia,za.rect=function(e,t,n,r){Ia(e,t),Ia(e+n,t+r)},za.quadraticCurveTo=function(e,t,n,r){Ia(e,t),Ia(n,r)},za.bezierCurveTo=function(e,t,n,r,i,u){Ia(e,t),Ia(n,r),Ia(i,u)},za.arc=function(e,t,n,r,i,u){if(Math.abs(i-r)>Ra)return Ia(e-n,t-n),void Ia(e+n,t+n);var a,o,c,f,s=1/0,l=-1/0,d=1/0,h=-1/0;function p(e){c=n*Math.cos(e),f=n*Math.sin(e),c<s&&(s=c),c>l&&(l=c),f<d&&(d=f),f>h&&(h=f)}if(p(r),p(i),i!==r)if((r%=na)<0&&(r+=na),(i%=na)<0&&(i+=na),i<r&&(u=!u,a=r,r=i,i=a),u)for(i-=na,a=r-r%ta,o=0;o<4&&a>i;++o,a-=ta)p(a);else for(a=r-r%ta+ta,o=0;o<4&&a<i;++o,a+=ta)p(a);Ia(e+s,t+d),Ia(e+l,t+h)};var Ua=(Ua=qu(1,1))?Ua.getContext("2d"):null,qa=new Pu;function Wa(e){return function(t,n){if(!Ua)return!0;e(Ua,t),qa.clear().union(t.bounds).intersect(n).round();for(var r=qa.x1,i=qa.y1,u=qa.x2,a=qa.y2,o=i;o<=a;++o)for(var c=r;c<=u;++c)if(Ua.isPointInPath(c,o))return!0;return!1}}function Ha(e,t){return t.contains(e.x||0,e.y||0)}function Ya(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,u=e.height||0;return t.intersects(qa.set(n,r,n+i,r+u))}function Va(e,t){var n=e.x||0,r=e.y||0;return Ga(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function Ga(e,t,n,r,i){var u,a,o,c,f=e.x1,s=e.y1,l=e.x2,d=e.y2,h=r-t,p=i-n,m=0,v=1;for(c=0;c<4;++c){if(0===c&&(u=-h,a=-(f-t)),1===c&&(u=h,a=l-t),2===c&&(u=-p,a=-(s-n)),3===c&&(u=p,a=d-n),Math.abs(u)<1e-10&&a<0)return!1;if(o=a/u,u<0){if(o>v)return!1;o>m&&(m=o)}else if(u>0){if(o<m)return!1;o<v&&(v=o)}}return!0}var $a=function(e,t,n){return n.id?function(e,t,n){for(var r=n.width(),i=n.height(),u=n.x1+t.x1*r,a=n.y1+t.y1*i,o=n.x1+t.x2*r,c=n.y1+t.y2*i,f=t.stops,s=0,l=f.length,d=e.createLinearGradient(u,a,o,c);s<l;++s)d.addColorStop(f[s].offset,f[s].color);return d}(e,n,t.bounds):n},Xa=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=$a(e,t,t.fill),!0)},Ja=[],Ka=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=$a(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Ja),e.lineDashOffset=t.strokeDashOffset||0),!0))};function Qa(e,t){return e.zindex-t.zindex||e.index-t.index}function Za(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,u=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&u.push(t);return e.zdirty=!1,e.zitems=u.sort(Qa)}function eo(e,t){var n,r,i=e.items;if(i&&i.length){var u=Za(e);if(u&&u.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=u}for(n=0,r=i.length;n<r;++n)t(i[n])}}function to(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var u=Za(e);for(u&&u.length&&(i=u),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===u)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function no(e){return function(t,n,r){eo(n,function(n){r&&!r.intersects(n.bounds)||ro(e,t,n,n)})}}function ro(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(n.fill&&Xa(t,n,i)&&t.fill(),n.stroke&&Ka(t,n,i)&&t.stroke()))}function io(e){return e=e||kt.truthy,function(t,n,r,i,u,a){return r*=t.pixelRatio,i*=t.pixelRatio,to(n,function(n){var o=n.bounds;if((!o||o.contains(u,a))&&o)return e(t,n,r,i,u,a)?n:void 0})}}function uo(e,t){return function(n,r,i,u){var a,o,c=Array.isArray(r)?r[0]:r,f=null==t?c.fill:t,s=c.stroke&&n.isPointInStroke;return s&&(a=c.strokeWidth,o=c.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=o?o:"butt"),!e(n,r)&&(f&&n.isPointInPath(i,u)||s&&n.isPointInStroke(i,u))}}function ao(e){return io(uo(e))}function oo(e,t){return"translate("+e+","+t+")"}function co(e){return"rotate("+e+")"}function fo(e){return oo(e.x||0,e.y||0)}var so=function(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,u=n.angle||0;e.translate(r,i),u&&e.rotate(u*=ea),e.beginPath(),t(e,n),u&&e.rotate(-u),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return oo(e.x||0,e.y||0)+(e.angle?" "+co(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(za(e),n),Pa(e,n).translate(r,i),n.angle&&e.rotate(n.angle*ea,r,i),e},draw:no(r),pick:ao(r),isect:n||Wa(r)}},lo=so("arc",function(e,t){return Ca.context(e)(t)});var ho=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i,u=uo(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(za(e),r),Pa(e,r[0]))},draw:(i=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||ro(i,e,t.items[0],t.items)}),pick:function(e,t,n,r,i,a){var o=t.items,c=t.bounds;return!o||!o.length||c&&!c.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,u(e,o,n,r)?o[0]:null)},isect:Ha,tip:n}},po=ho("area",function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Fa:Da).curve(Ju(r,n.orient,n.tension)).context(e)(t)},function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],u="horizontal"===e[0].orient?"y":"x",a=e.length,o=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][u]-i))<o&&(o=r,n=e[a]);return n}),mo=1;function vo(){mo=1}var go=function(e,t,n){var r=t.clip,i=e._defs,u=t.clip_id||(t.clip_id="clip"+mo++),a=i.clipping[u]||(i.clipping[u]={id:u});return Object(kt.isFunction)(r)?a.path=r(null):(a.width=n.width||0,a.height=n.height||0),"url(#"+u+")"},bo=.5;function yo(e,t){var n=t.stroke?bo:0;e.beginPath(),Na(e,t,n,n)}var xo=uo(yo);var wo={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",fo(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Pa(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;eo(t,function(t){var i,u=t.x||0,a=t.y||0,o=t.width||0,c=t.height||0;e.save(),e.translate(u,a),(t.stroke||t.fill)&&(i=null==t.opacity?1:t.opacity)>0&&(yo(e,t),t.fill&&Xa(e,t,i)&&e.fill(),t.stroke&&Ka(e,t,i)&&e.stroke()),t.clip&&(e.beginPath(),e.rect(0,0,o,c),e.clip()),n&&n.translate(-u,-a),eo(t,function(t){r.draw(e,t,n)}),n&&n.translate(u,a),e.restore()})},pick:function(e,t,n,r,i,u){if(t.bounds&&!t.bounds.contains(i,u)||!t.items)return null;var a=this,o=n*e.pixelRatio,c=r*e.pixelRatio;return to(t,function(f){var s,l,d,h;if(!(h=f.bounds)||h.contains(i,u))return l=f.x||0,d=f.y||0,e.save(),e.translate(l,d),l=i-l,d=u-d,!(s=to(f,function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,l,d)?a.pick(e,n,r,l,d):null}))&&!1!==t.interactive&&(f.fill||f.stroke)&&xo(e,f,o,c)&&(s=f),e.restore(),s||null})},isect:Ya,background:function(e,t){var n=t.stroke?bo:0;e("class","background"),e("d",Na(null,t,n,n))},foreground:function(e,t,n){e("clip-path",t.clip?go(n,t,t):null)}};function _o(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then(function(t){e.image=t,e.image.url=e.url})),n}function Ao(e,t){return"center"===e?t/2:"right"===e?t:0}function Eo(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Oo={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=_o(t,n),i=t.x||0,u=t.y||0,a=(null!=t.width?t.width:r.width)||0,o=(null!=t.height?t.height:r.height)||0,c=!1===t.aspect?"none":"xMidYMid";i-=Ao(t.align,a),u-=Eo(t.baseline,o),e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",oo(i,u)),e("width",a),e("height",o),e("preserveAspectRatio",c)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,u=(null!=t.width?t.width:n&&n.width)||0,a=(null!=t.height?t.height:n&&n.height)||0;return r-=Ao(t.align,u),i-=Eo(t.baseline,a),e.set(r,i,r+u,i+a)},draw:function(e,t,n){var r=this;eo(t,function(t){if(!n||n.intersects(t.bounds)){var i,u,a,o,c=_o(t,r),f=t.x||0,s=t.y||0,l=(null!=t.width?t.width:c.width)||0,d=(null!=t.height?t.height:c.height)||0;f-=Ao(t.align,l),s-=Eo(t.baseline,d),!1!==t.aspect&&(u=c.width/c.height,a=t.width/t.height,u===u&&a===a&&u!==a&&(a<u?(s+=(d-(o=l/u))/2,d=o):(f+=(l-(o=d*u))/2,l=o))),c.loaded&&(e.globalAlpha=null!=(i=t.opacity)?i:1,e.drawImage(c,f,s,l,d))}})},pick:io(),isect:kt.truthy,get:_o,xOffset:Ao,yOffset:Eo},ko=ho("line",function(e,t){var n=t[0],r=n.interpolate||"linear";return Ma.curve(Ju(r,n.orient,n.tension)).context(e)(t)},function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),u=e.length;--u>=0;)if(!1!==e[u].defined&&(n=e[u].x-t[0])*n+(r=e[u].y-t[1])*r<i)return e[u];return null});function Co(e,t){var n=t.path;if(null==n)return!0;var r=t.pathCache;r&&r.path===n||((t.pathCache=r=Zu(n)).path=n),sa(e,r,t.x,t.y)}var Do={type:"path",tag:"path",nested:!1,attr:function(e,t){e("transform",fo(t)),e("d",t.path)},bound:function(e,t){return Co(za(e),t)?e.set(0,0,0,0):Pa(e,t)},draw:no(Co),pick:ao(Co),isect:Wa(Co)};function Fo(e,t){e.beginPath(),Na(e,t)}var Mo={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Na(null,t))},bound:function(e,t){var n,r;return Pa(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:no(Fo),pick:ao(Fo),isect:Ya};function So(e,t,n){var r,i,u,a;return!(!t.stroke||!Ka(e,t,n))&&(r=t.x||0,i=t.y||0,u=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(u,a),!0)}var jo,To={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",fo(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Pa(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){eo(t,function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&So(e,t,r)&&e.stroke()}})},pick:io(function(e,t,n,r){return!!e.isPointInStroke&&So(e,t,1)&&e.isPointInStroke(n,r)}),isect:Va},No=so("shape",function(e,t){return(t.mark.shape||t.shape).context(e)(t)}),Bo=so("symbol",function(e,t){return ja.context(e)(t)},Ha),Po={height:Uo,measureWidth:Lo,estimateWidth:Ro,width:Ro,canvas:qo};function Ro(e){return jo=Uo(e),zo(Wo(e))}function zo(e){return~~(.8*e.length*jo)}function Lo(e){return Uo(e)<=0?0:(Ua.font=Yo(e),Io(Wo(e)))}function Io(e){return Ua.measureText(e).width}function Uo(e){return null!=e.fontSize?e.fontSize:11}function qo(e){Po.width=e&&Ua?Lo:Ro}function Wo(e){var t=e.text;return null==t?"":e.limit>0?function(e){var t,n=+e.limit,r=e.text+"";Po.width===Lo?(Ua.font=Yo(e),t=Io):(jo=Uo(e),t=zo);if(t(r)<n)return r;var i,u=e.ellipsis||"\u2026",a="rtl"===e.dir,o=0,c=r.length;if(n-=t(u),a){for(;o<c;)i=o+c>>>1,t(r.slice(i))>n?o=i+1:c=i;return u+r.slice(o)}for(;o<c;)i=1+(o+c>>>1),t(r.slice(0,i))<n?o=i:c=i-1;return r.slice(0,o)+u}(e):t+""}function Ho(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Yo(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Uo(e)+"px "+Ho(e,t)}function Vo(e){var t=e.baseline,n=Uo(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}qo(!0);var Go={left:"start",center:"middle",right:"end"},$o=new Pu;function Xo(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-ta,n+=i*Math.cos(t),r+=i*Math.sin(t)),$o.x1=n,$o.y1=r,$o}function Jo(e,t,n){var r,i=Po.height(t),u=t.align,a=Xo(t),o=a.x1,c=a.y1,f=t.dx||0,s=(t.dy||0)+Vo(t)-Math.round(.8*i);if(r=Po.width(t),"center"===u?f-=r/2:"right"===u&&(f-=r),e.set(f+=o,s+=c,f+r,s+i),t.angle&&!n)e.rotate(t.angle*ea,o,c);else if(2===n)return e.rotatedPoints(t.angle*ea,o,c);return e}var Ko={arc:lo,area:po,group:wo,image:Oo,line:ko,path:Do,rect:Mo,rule:To,shape:No,symbol:Bo,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Vo(t),u=Xo(t),a=u.x1,o=u.y1,c=t.angle||0;e("text-anchor",Go[t.align]||"start"),c?(n=oo(a,o)+" "+co(c),(r||i)&&(n+=" "+oo(r,i))):n=oo(a+r,o+i),e("transform",n)},bound:Jo,draw:function(e,t,n){eo(t,function(t){var r,i,u,a,o;n&&!n.intersects(t.bounds)||(o=Wo(t))&&(0===(r=null==t.opacity?1:t.opacity)||t.fontSize<=0||(e.font=Yo(t),e.textAlign=t.align||"left",u=(i=Xo(t)).x1,a=i.y1,t.angle&&(e.save(),e.translate(u,a),e.rotate(t.angle*ea),u=a=0),u+=t.dx||0,a+=(t.dy||0)+Vo(t),t.fill&&Xa(e,t,r)&&e.fillText(o,u,a),t.stroke&&Ka(e,t,r)&&e.strokeText(o,u,a),t.angle&&e.restore()))})},pick:io(function(e,t,n,r,i,u){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=Xo(t),o=a.x1,c=a.y1,f=Jo($o,t,1),s=-t.angle*ea,l=Math.cos(s),d=Math.sin(s),h=l*i-d*u+(o-l*o+d*c),p=d*i+l*u+(c-d*o-l*c);return f.contains(h,p)}),isect:function(e,t){var n=Jo($o,e,2);return Ga(t,n[0],n[1],n[2],n[3])||Ga(t,n[0],n[1],n[4],n[5])||Ga(t,n[4],n[5],n[6],n[7])||Ga(t,n[2],n[3],n[6],n[7])}},trail:ho("trail",function(e,t){return Ta.context(e)(t)},function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})},Qo=function(e,t,n){var r=Ko[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Pu),e,n)},Zo={mark:null},ec=function(e,t,n){var r,i,u,a,o=Ko[e.marktype],c=o.bound,f=e.items,s=f&&f.length;if(o.nested)return s?u=f[0]:(Zo.mark=e,u=Zo),a=Qo(u,c,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new Pu,s)for(r=0,i=f.length;r<i;++r)t.union(Qo(f[r],c,n));return e.bounds=t},tc=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function nc(e,t){return JSON.stringify(e,tc,t)}function rc(e){return function e(t){var n,r,i,u=t.marktype,a=t.items;if(a)for(r=0,i=a.length;r<i;++r)n=u?"mark":"group",a[r][n]=t,a[r].zindex&&(a[r][n].zdirty=!0),"group"===(u||n)&&e(a[r]);u&&ec(t);return t}("string"===typeof e?JSON.parse(e):e)}function ic(e){arguments.length?this.root=rc(e):(this.root=ac({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Uu(this.root)])}var uc=ic.prototype;function ac(e,t){return{bounds:new Pu,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}function oc(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function cc(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function fc(e,t,n,r){var i,u=e.childNodes[t];return u&&u.tagName.toLowerCase()===n.toLowerCase()||(i=u||null,u=oc(e.ownerDocument,n,r),e.insertBefore(u,i)),u}function sc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function lc(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}uc.toJSON=function(e){return nc(this.root,e||0)},uc.mark=function(e,t,n){var r=ac(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var dc=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function hc(e,t){this._active=null,this._handlers={},this._loader=e||sn(),this._tooltip=t||pc}function pc(e,t,n,r){e.element().setAttribute("title",r||"")}var mc=hc.prototype;function vc(e){this._el=null,this._bgcolor=null,this._loader=new Hu(e)}mc.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},mc.element=function(){return this._el},mc.canvas=function(){return this._el&&this._el.firstChild},mc.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},mc.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},mc.on=function(){},mc.off=function(){},mc._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},mc.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},mc.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},mc.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then(function(t){var n=new MouseEvent(e.type,e),r=oc(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)}).catch(function(){})},mc.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,u,a=e&&e.mark;if(a&&(i=Ko[a.marktype]).tip){for((u=dc(t,n))[0]-=r[0],u[1]-=r[1];e=e.mark.group;)u[0]-=e.x||0,u[1]-=e.y||0;e=i.tip(a.items,u)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},mc.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,u=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,o=i.width(),c=i.height();e.mark&&(e=e.mark.group);)u+=e.x||0,a+=e.y||0;return{x:u,y:a,width:o,height:c,left:u,top:a,right:u+o,bottom:a+c}}};var gc=vc.prototype;gc.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},gc.element=function(){return this._el},gc.canvas=function(){return this._el&&this._el.firstChild},gc.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},gc.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},gc.dirty=function(){},gc.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},gc._render=function(){},gc.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then(function(){return t}):Promise.resolve(t)},gc._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(e){e&&i(),n._ready=null})}return r},gc.sanitizeURL=function(e){return this._load("sanitizeURL",e)},gc.loadImage=function(e){return this._load("loadImage",e)};var bc="mouseout";function yc(e,t){hc.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var xc=Object(kt.inherits)(yc,hc);function wc(e,t,n){return function(r){var i=this._active,u=this.pickEvent(r);u===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=u,this.fire(t,r),this.fire(e,r))}}function _c(e){return function(t){this.fire(e,t),this._active=null}}xc.initialize=function(e,t,n){var r=this._canvas=e&&cc(e,"canvas");if(r){var i=this;this.events.forEach(function(e){r.addEventListener(e,function(t){xc[e]?xc[e].call(i,t):i.fire(e,t)})})}return hc.prototype.initialize.call(this,e,t,n)},xc.canvas=function(){return this._canvas},xc.context=function(){return this._canvas.getContext("2d")},xc.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],xc.DOMMouseScroll=function(e){this.fire("mousewheel",e)},xc.mousemove=wc("mousemove","mouseover","mouseout"),xc.dragover=wc("dragover","dragenter","dragleave"),xc.mouseout=_c("mouseout"),xc.dragleave=_c("dragleave"),xc.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},xc.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},xc.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},xc.touchmove=function(e){this.fire("touchmove",e,!0)},xc.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},xc.fire=function(e,t,n){var r,i,u=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,"click"===e&&u&&u.href?this.handleHref(t,u,u.href):"mousemove"!==e&&e!==bc||this.handleTooltip(t,u,e!==bc),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,t,u)},xc.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},xc.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},xc.pickEvent=function(e){var t=dc(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},xc.pick=function(e,t,n,r,i){var u=this.context();return Ko[e.marktype].pick.call(this,u,e,t,n,r,i)};var Ac="undefined"!==typeof window&&window.devicePixelRatio||1;function Ec(e){vc.call(this,e),this._redraw=!1,this._dirty=new Pu}var Oc=Object(kt.inherits)(Ec,vc),kc=vc.prototype,Cc=new Pu;function Dc(e,t){hc.call(this,e,t);var n=this;n._hrefHandler=Mc(n,function(e,t){t&&t.href&&n.handleHref(e,t,t.href)}),n._tooltipHandler=Mc(n,function(e,t){n.handleTooltip(e,t,e.type!==bc)})}Oc.initialize=function(e,t,n,r,i,u){return this._options=u,this._canvas=qu(1,1,u&&u.type),e&&(sc(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),kc.initialize.call(this,e,t,n,r,i)},Oc.resize=function(e,t,n,r){return kc.resize.call(this,e,t,n,r),function(e,t,n,r,i,u){var a,o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,c=e.getContext("2d"),f=o?Ac:i;for(a in e.width=t*f,e.height=n*f,u)c[a]=u[a];o&&1!==f&&(e.style.width=t+"px",e.style.height=n+"px"),c.pixelRatio=f,c.setTransform(f,0,0,f,f*r[0],f*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},Oc.canvas=function(){return this._canvas},Oc.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Oc.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=Cc.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},Oc._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,u=this._dirty;return t.save(),this._redraw||u.empty()?(this._redraw=!1,u=null):u=function(e,t,n){return t.expand(1).round(),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,u,n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,u),t.restore(),this._dirty.clear(),this},Oc.draw=function(e,t,n){var r=Ko[t.marktype];t.clip&&function(e,t){var n=t.clip;if(e.save(),e.beginPath(),Object(kt.isFunction)(n))n(e);else{var r=t.group;e.rect(0,0,r.width||0,r.height||0)}e.clip()}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},Oc.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var Fc=Object(kt.inherits)(Dc,hc);function Mc(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}function Sc(e,t,n){var r,i,u="<"+e;if(t)for(r in t)null!=(i=t[r])&&(u+=" "+r+'="'+i+'"');return n&&(u+=" "+n),u+">"}function jc(e){return"</"+e+">"}Fc.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener(bc,this._tooltipHandler)),this._svg=r=e&&cc(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener(bc,this._tooltipHandler)),hc.prototype.initialize.call(this,e,t,n)},Fc.canvas=function(){return this._svg},Fc.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:Mc(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},Fc.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var Tc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Nc={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Bc=Object.keys(Nc),Pc=Tc.xmlns;function Rc(e){vc.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var zc=Object(kt.inherits)(Rc,vc),Lc=vc.prototype;function Ic(e,t,n){var r,i,u;for((e=fc(e,n,"linearGradient",Pc)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),r=0,i=t.stops.length;r<i;++r)(u=fc(e,r,"stop",Pc)).setAttribute("offset",t.stops[r].offset),u.setAttribute("stop-color",t.stops[r].color);sc(e,r)}function Uc(e,t,n){var r;(e=fc(e,n,"clipPath",Pc)).setAttribute("id",t.id),t.path?(r=fc(e,0,"path",Pc)).setAttribute("d",t.path):((r=fc(e,0,"rect",Pc)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height))}function qc(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Wc(e,t,n,r,i){var u,a=e._svg;if(!a&&(a=oc(u=t.ownerDocument,r,Pc),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var o=oc(u,"path",Pc);o.setAttribute("class","background"),a.appendChild(o),o.__data__=e;var c=oc(u,"g",Pc);a.appendChild(c),c.__data__=e}return(a.ownerSVGElement!==i||function(e){var t=e.mark||e.group;return t&&t.items.length>1}(e)&&a.previousSibling!==n)&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}zc.initialize=function(e,t,n,r){return e&&(this._svg=fc(e,0,"svg",Pc),this._svg.setAttribute("class","marks"),sc(e,1),this._root=fc(this._svg,0,"g",Pc),sc(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),Lc.initialize.call(this,e,t,n,r)},zc.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Lc.background.apply(this,arguments)},zc.resize=function(e,t,n,r){return Lc.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},zc.canvas=function(){return this._svg},zc.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in Tc)e[t]=Tc[t];var n=this._bgcolor?Sc("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+jc("rect"):"";return Sc("svg",e)+n+this._svg.innerHTML+jc("svg")},zc._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),sc(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},zc.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=fc(t,0,"defs",Pc)),Ic(r,n.gradient[e],i++);for(e in n.clipping)r||(n.el=r=fc(t,0,"defs",Pc)),Uc(r,n.clipping[e],i++);r&&(0===i?(t.removeChild(r),n.el=null):sc(r,i))},zc._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},zc.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},zc.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},zc._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,u,a,o,c=++this._dirtyID;for(u=0,a=e.length;u<a;++u)(n=(t=e[u]).mark).marktype!==r&&(r=n.marktype,i=Ko[r]),n.zdirty&&n.dirty!==c&&(this._dirtyAll=!1,qc(t,c),n.items.forEach(function(e){e.dirty=c})),n.zdirty||(t.exit?(i.nested&&n.items.length?(o=n.items[0])._svg&&this._update(i,o._svg,o):t._svg&&(o=t._svg.parentNode)&&o.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==c&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,qc(t,c)),t._update=c));return!this._dirtyAll},zc.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,u=this._svg,a=Ko[t.marktype],o=!1===t.interactive?"none":null,c="g"===a.tag,f=null,s=0;function l(e){var t=i.isDirty(e),n=Wc(e,r,f,a.tag,u);t&&(i._update(a,n,e),c&&function(e,t,n){t=t.lastChild;var r,i=0;eo(n,function(n){r=e.draw(t,n,r),++i}),sc(t,1+i)}(i,n,e)),f=n,++s}return(r=Wc(t,e,n,"g",u)).setAttribute("class",lc(t)),c||r.style.setProperty("pointer-events",o),t.clip?r.setAttribute("clip-path",go(i,t,t.group)):r.removeAttribute("clip-path"),a.nested?t.items.length&&l(t.items[0]):eo(t,l),sc(r,s),r};var Hc=null,Yc=null,Vc={group:function(e,t,n){Yc=t.__values__,Hc=t.childNodes[1],e.foreground($c,n,this),Hc=t.childNodes[0],e.background($c,n,this);var r=!1===n.mark.interactive?"none":null;r!==Yc.events&&(Hc.style.setProperty("pointer-events",r),Yc.events=r)},text:function(e,t,n){var r;(r=Wo(n))!==Yc.text&&(t.textContent=r,Yc.text=r),Gc(t,"font-family",Ho(n)),Gc(t,"font-size",Uo(n)+"px"),Gc(t,"font-style",n.fontStyle),Gc(t,"font-variant",n.fontVariant),Gc(t,"font-weight",n.fontWeight)}};function Gc(e,t,n){n!==Yc[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Yc[t]=n)}function $c(e,t,n){t!==Yc[e]&&(null!=t?n?Hc.setAttributeNS(n,e,t):Hc.setAttribute(e,t):n?Hc.removeAttributeNS(n,e):Hc.removeAttribute(e),Yc[e]=t)}function Xc(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Jc(e){vc.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}zc._update=function(e,t,n){Hc=t,Yc=t.__values__,e.attr($c,n,this);var r=Vc[e.type];r&&r.call(this,e,t,n),this.style(Hc,n)},zc.style=function(e,t){var n,r,i,u,a;if(null!=t)for(n=0,r=Bc.length;n<r;++n)a=t[i=Bc[n]],"font"===i&&(a=Ho(t)),a!==Yc[i]&&(u=Nc[i],null==a?"fill"===u?e.style.setProperty(u,"none"):e.style.removeProperty(u):(a.id&&(this._defs.gradient[a.id]=a,a="url("+Xc()+"#"+a.id+")"),e.style.setProperty(u,a+"")),Yc[i]=a)};var Kc,Qc=Object(kt.inherits)(Jc,vc),Zc=vc.prototype;function ef(e,t,n,r){Kc[r||e]=t}function tf(e,t,n,r){if(null==e)return"";var i,u,a,o,c,f="";for("bgrect"===n&&!1===t.interactive&&(f+="pointer-events: none; "),"text"===n&&(f+="font-family: "+Ho(e)+"; ",f+="font-size: "+Uo(e)+"px; ",e.fontStyle&&(f+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(f+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(f+="font-weight: "+e.fontWeight+"; ")),i=0,u=Bc.length;i<u;++i)a=Bc[i],o=Nc[a],null==(c=e[a])?"fill"===o&&(f+="fill: none; "):"transparent"!==c||"fill"!==o&&"stroke"!==o?(c.id&&(r.gradient[c.id]=c,c="url(#"+c.id+")"),f+=o+": "+c+"; "):f+=o+": none; ";return f?'style="'+f.trim()+'"':null}Qc.resize=function(e,t,n,r){Zc.resize.call(this,e,t,n,r);var i=this._origin,u=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var o in Tc)a[o]=Tc[o];u.head=Sc("svg",a);var c=this._bgcolor;return"transparent"!==c&&"none"!==c||(c=null),u.bg=c?Sc("rect",{width:this._width,height:this._height,style:"fill: "+c+";"})+jc("rect"):"",u.root=Sc("g",{transform:"translate("+i+")"}),u.foot=jc("g")+jc("svg"),this},Qc.background=function(){var e=Zc.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},Qc.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},Qc._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},Qc.buildDefs=function(){var e,t,n,r,i=this._defs,u="";for(t in i.gradient){for(r=(n=i.gradient[t]).stops,u+=Sc("linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<r.length;++e)u+=Sc("stop",{offset:r[e].offset,"stop-color":r[e].color})+jc("stop");u+=jc("linearGradient")}for(t in i.clipping)n=i.clipping[t],u+=Sc("clipPath",{id:t}),n.path?u+=Sc("path",{d:n.path})+jc("path"):u+=Sc("rect",{x:0,y:0,width:n.width,height:n.height})+jc("rect"),u+=jc("clipPath");return u.length>0?Sc("defs")+u+jc("defs"):""},Qc.attributes=function(e,t){return Kc={},e(ef,t,this),Kc},Qc.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},Qc.mark=function(e){var t,n=this,r=Ko[e.marktype],i=r.tag,u=this._defs,a="";function o(o){var c=n.href(o);c&&(a+=Sc("a",c)),t="g"!==i?tf(o,e,i,u):null,a+=Sc(i,n.attributes(r.attr,o),t),"text"===i?a+=Wo(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"g"===i&&(a+=Sc("path",n.attributes(r.background,o),tf(o,e,"bgrect",u))+jc("path"),a+=Sc("g",n.attributes(r.foreground,o))+n.markGroup(o)+jc("g")),a+=jc(i),c&&(a+=jc("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),a+=Sc("g",{class:lc(e),"clip-path":e.clip?go(n,e,e.group):null},t),r.nested?e.items&&e.items.length&&o(e.items[0]):eo(e,o),a+jc("g")},Qc.markGroup=function(e){var t=this,n="";return eo(e,function(e){n+=t.mark(e)}),n};var nf={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},rf={};function uf(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(rf[e]=t,this):rf[e]}function af(e,t,n){var r=[],i=(new Pu).union(t),u=e.marktype;return u?of(e,i,n,r):"group"===u?cf(e,i,n,r):Object(kt.error)("Intersect scene must be mark node or group item.")}function of(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,u=e.marktype,a=i.length,o=0;if("group"===u)for(;o<a;++o)cf(i[o],t,n,r);else for(var c=Ko[u].isect;o<a;++o){var f=i[o];ff(f,t,c)&&r.push(f)}}return r}function cf(e,t,n,r){n&&n(e.mark)&&ff(e,t,Ko.group.isect)&&r.push(e);var i=e.items,u=i&&i.length;if(u){var a=e.x||0,o=e.y||0;t.translate(-a,-o);for(var c=0;c<u;++c)of(i[c],t,n,r);t.translate(a,o)}return r}function ff(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}rf.canvas=rf.png={renderer:Ec,headless:Ec,handler:yc},rf.svg={renderer:Rc,headless:Jc,handler:Dc},rf.none={};var sf=new Pu,lf=function(e){var t=e.clip;if(Object(kt.isFunction)(t))t(za(sf.clear()));else{if(!t)return;sf.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(sf)},df=1e-9;function hf(e,t,n){return e===t||("path"===n?pf(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(kt.isNumber)(e)&&Object(kt.isNumber)(t)?Math.abs(e-t)<=df:e&&t&&(Object(kt.isObject)(e)||Object(kt.isObject)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(i.sort(),u.sort(),r=i.length-1;r>=0;r--)if(i[r]!=u[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!hf(e[n],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function pf(e,t){return hf(Zu(e),Zu(t))}function mf(e){Bn.call(this,null,e)}function vf(e,t,n){return t(e.bounds.clear(),e,n)}Object(kt.inherits)(mf,Bn).transform=function(e,t){var n,r=t.dataflow,i=e.mark,u=i.marktype,a=Ko[u],o=a.bound,c=i.bounds;return a.nested?(i.items.length&&r.dirty(i.items[0]),c=vf(i,o),i.items.forEach(function(e){e.bounds.clear().union(c)})):u===du||e.modified()?(t.visit(t.MOD,function(e){r.dirty(e)}),c.clear(),i.items.forEach(function(e){c.union(vf(e,o))}),i.role===gu&&t.reflow()):(n=t.changed(t.REM),t.visit(t.ADD,function(e){c.union(vf(e,o))}),t.visit(t.MOD,function(e){n=n||c.alignsWith(e.bounds),r.dirty(e),c.union(vf(e,o))}),n&&(c.clear(),i.items.forEach(function(e){c.union(e.bounds)}))),lf(i),t.modifies("bounds")};var gf=":vega_identifier:";function bf(e){Bn.call(this,0,e)}function yf(e){Bn.call(this,null,e)}function xf(e){Bn.call(this,null,e)}bf.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(kt.inherits)(bf,Bn).transform=function(e,t){var n=function(e){var t=e._signals[gf];t||(e._signals[gf]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,function(e){e[i]||(e[i]=++r)}),n.set(this.value=r),t},Object(kt.inherits)(yf,Bn).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===du?Uu:Iu;return t.visit(t.ADD,function(e){r.call(e,n)}),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t};var wf=Object(kt.inherits)(xf,Bn),_f={parity:function(e){return e.filter(function(e,t){return t%2?e.opacity=0:1})},greedy:function(e,t){var n;return e.filter(function(e,r){return r&&Af(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)})}};function Af(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function Ef(e,t){for(var n,r=1,i=e.length,u=e[0].bounds;r<i;u=n,++r)if(Af(u,n=e[r].bounds,t))return!0}function Of(e){var t=e.bounds;return t.width()>1&&t.height()>1}function kf(e){return e.forEach(function(e){return e.opacity=1}),e}function Cf(e,t){return e.reflow(t.modified()).modifies("opacity")}function Df(e){Bn.call(this,null,e)}wf.transform=function(e,t){var n,r,i,u=_f[e.method]||_f.parity,a=t.materialize(t.SOURCE).source,o=e.separation||0;if(a&&a.length){if(!e.method)return e.modified("method")&&(kf(a),t=Cf(t,e)),t;if(e.sort&&(a=a.slice().sort(e.sort)),n=kf(a=a.filter(Of)),t=Cf(t,e),n.length>=3&&Ef(n,o)){do{n=u(n,o)}while(n.length>=3&&Ef(n,o));n.length<3&&!Object(kt.peek)(a).opacity&&(n.length>1&&(Object(kt.peek)(n).opacity=0),Object(kt.peek)(a).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new Pu;return t===Zi||t===nu?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),a.forEach(function(e){r(e)||(e.opacity=0)})),i=n[0].mark.bounds.clear(),a.forEach(function(e){e.opacity&&i.union(e.bounds)}),t}},Object(kt.inherits)(Df,Bn).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,function(e){n.dirty(e)}),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var Ff=new Pu;function Mf(e,t,n){return e[t]===n?0:(e[t]=n,1)}var Sf=.5;function jf(e){var t=e.items[0].datum.orient;return t===eu||t===tu}function Tf(e,t,n,r){var i,u,a=t.items[0],o=a.datum,c=o.orient,f=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(o),s=a.range,l=a.offset,d=a.position,h=a.minExtent,p=a.maxExtent,m=o.title&&a.items[f[2]].items[0],v=a.titlePadding,g=a.bounds,b=0,y=0;switch(Ff.clear().union(g),g.clear(),(i=f[0])>-1&&g.union(a.items[i].bounds),(i=f[1])>-1&&g.union(a.items[i].bounds),c){case Zi:b=d||0,y=-l,u=Math.max(h,Math.min(p,-g.y1)),m&&(u=Nf(m,u,v,0,-1,g)),g.add(0,-u).add(s,0);break;case eu:b=-l,y=d||0,u=Math.max(h,Math.min(p,-g.x1)),m&&(u=Nf(m,u,v,1,-1,g)),g.add(-u,0).add(0,s);break;case tu:b=n+l,y=d||0,u=Math.max(h,Math.min(p,g.x2)),m&&(u=Nf(m,u,v,1,1,g)),g.add(0,0).add(u,s);break;case nu:b=d||0,y=r+l,u=Math.max(h,Math.min(p,g.y2)),m&&(u=Nf(m,u,v,0,1,g)),g.add(0,0).add(s,u);break;default:b=a.x,y=a.y}return Pa(g.translate(b,y),a),Mf(a,"x",b+Sf)|Mf(a,"y",y+Sf)&&(a.bounds=Ff,e.dirty(a),a.bounds=g,e.dirty(a)),a.mark.bounds.clear().union(g)}function Nf(e,t,n,r,i,u){var a=e.bounds,o=0,c=0;return e.auto?(t+=n,r?o=(e.x||0)-(e.x=i*t):c=(e.y||0)-(e.y=i*t),a.translate(-o,-c),e.mark.bounds.set(a.x1,a.y1,a.x2,a.y2),r?(u.add(0,a.y1).add(0,a.y2),t+=a.width()):(u.add(a.x1,0).add(a.x2,0),t+=a.height())):u.union(a),t}function Bf(e){return(new Pu).set(0,0,e.width||0,e.height||0)}function Pf(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Rf(e,t,n){var r=Object(kt.isObject)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function zf(e){return e<0?Math.ceil(-e):0}function Lf(e,t,n){var r,i,u,a,o,c,f,s,l,d,h,p=!n.nodirty,m=n.bounds===Tu?Bf:Pf,v=Ff.set(0,0,0,0),g=Rf(n.align,Nu),b=Rf(n.align,Bu),y=Rf(n.padding,Nu),x=Rf(n.padding,Bu),w=n.columns||t.length,_=w<0?1:Math.ceil(t.length/w),A=t.length,E=Array(A),O=Array(w),k=0,C=Array(A),D=Array(_),F=0,M=Array(A),S=Array(A),j=Array(A);for(i=0;i<w;++i)O[i]=0;for(i=0;i<_;++i)D[i]=0;for(i=0;i<A;++i)c=t[i],o=j[i]=m(c),c.x=c.x||0,M[i]=0,c.y=c.y||0,S[i]=0,u=i%w,a=~~(i/w),k=Math.max(k,f=Math.ceil(o.x2)),F=Math.max(F,s=Math.ceil(o.y2)),O[u]=Math.max(O[u],f),D[a]=Math.max(D[a],s),E[i]=y+zf(o.x1),C[i]=x+zf(o.y1),p&&e.dirty(t[i]);for(i=0;i<A;++i)i%w===0&&(E[i]=0),i<w&&(C[i]=0);if(g===ju)for(u=1;u<w;++u){for(h=0,i=u;i<A;i+=w)h<E[i]&&(h=E[i]);for(i=u;i<A;i+=w)E[i]=h+O[u-1]}else if(g===Su){for(h=0,i=0;i<A;++i)i%w&&h<E[i]&&(h=E[i]);for(i=0;i<A;++i)i%w&&(E[i]=h+k)}else for(g=!1,u=1;u<w;++u)for(i=u;i<A;i+=w)E[i]+=O[u-1];if(b===ju)for(a=1;a<_;++a){for(h=0,r=(i=a*w)+w;i<r;++i)h<C[i]&&(h=C[i]);for(i=a*w;i<r;++i)C[i]=h+D[a-1]}else if(b===Su){for(h=0,i=w;i<A;++i)h<C[i]&&(h=C[i]);for(i=w;i<A;++i)C[i]=h+F}else for(b=!1,a=1;a<_;++a)for(r=(i=a*w)+w;i<r;++i)C[i]+=D[a-1];for(l=0,i=0;i<A;++i)l=E[i]+(i%w?l:0),M[i]+=l-t[i].x;for(u=0;u<w;++u)for(d=0,i=u;i<A;i+=w)d+=C[i],S[i]+=d-t[i].y;if(g&&Rf(n.center,Nu)&&_>1)for(i=0;i<A;++i)(l=(o=g===Su?k:O[i%w])-j[i].x2-t[i].x-M[i])>0&&(M[i]+=l/2);if(b&&Rf(n.center,Bu)&&1!==w)for(i=0;i<A;++i)(d=(o=b===Su?F:D[~~(i/w)])-j[i].y2-t[i].y-S[i])>0&&(S[i]+=d/2);for(i=0;i<A;++i)v.union(j[i].translate(M[i],S[i]));switch(l=Rf(n.anchor,su),d=Rf(n.anchor,lu),Rf(n.anchor,Nu)){case fu:l-=v.width();break;case cu:l-=v.width()/2}switch(Rf(n.anchor,Bu)){case fu:d-=v.height();break;case cu:d-=v.height()/2}for(l=Math.round(l),d=Math.round(d),v.clear(),i=0;i<A;++i)t[i].mark.bounds.clear();for(i=0;i<A;++i)(c=t[i]).x+=M[i]+=l,c.y+=S[i]+=d,v.union(c.mark.bounds.union(c.bounds.translate(M[i],S[i]))),p&&e.dirty(c);return v}function If(e,t,n){var r,i,u,a,o,c,f,s=function(e){for(var t,n,r,i,u,a,o,c=e.items,f=c.length,s=0,l={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};s<f;++s)if(o=(a=c[s]).items,a.marktype===du)switch(a.role){case hu:case gu:break;case bu:(t=l.rowheaders).push.apply(t,F(o));break;case yu:(n=l.rowfooters).push.apply(n,F(o));break;case wu:(r=l.colheaders).push.apply(r,F(o));break;case _u:(i=l.colfooters).push.apply(i,F(o));break;case xu:l.rowtitle=o[0];break;case Au:l.coltitle=o[0];break;default:(u=l.marks).push.apply(u,F(o))}return l}(t),l=s.marks,d=n.bounds===Tu?Uf:qf,h=n.offset,p=n.columns||l.length,m=p<0?1:Math.ceil(l.length/p),v=m*p,g=Lf(e,l,n);s.rowheaders&&(c=Rf(n.headerBand,Bu,null),r=Yf(e,s.rowheaders,l,p,m,-Rf(h,"rowHeader"),Wf,0,d,"x1",0,p,1,c)),s.colheaders&&(c=Rf(n.headerBand,Nu,null),i=Yf(e,s.colheaders,l,p,p,-Rf(h,"columnHeader"),Wf,1,d,"y1",0,1,p,c)),s.rowfooters&&(c=Rf(n.footerBand,Bu,null),u=Yf(e,s.rowfooters,l,p,m,Rf(h,"rowFooter"),Hf,0,d,"x2",p-1,p,1,c)),s.colfooters&&(c=Rf(n.footerBand,Nu,null),a=Yf(e,s.colfooters,l,p,p,Rf(h,"columnFooter"),Hf,1,d,"y2",v-p,1,p,c)),s.rowtitle&&(o=Rf(n.titleAnchor,Bu),f=Rf(h,"rowTitle"),f=o===fu?u+f:r-f,c=Rf(n.titleBand,Bu,.5),Vf(e,s.rowtitle,f,0,g,c)),s.coltitle&&(o=Rf(n.titleAnchor,Nu),f=Rf(h,"columnTitle"),f=o===fu?a+f:i-f,c=Rf(n.titleBand,Nu,.5),Vf(e,s.coltitle,f,1,g,c))}function Uf(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function qf(e,t){return e.bounds[t]}function Wf(e,t){return Math.floor(Math.min(e,t))}function Hf(e,t){return Math.ceil(Math.max(e,t))}function Yf(e,t,n,r,i,u,a,o,c,f,s,l,d,h){var p,m,v,g,b,y,x,w,_,A=n.length,E=0,O=0;if(!A)return E;for(p=s;p<A;p+=l)n[p]&&(E=a(E,c(n[p],f)));if(!t.length)return E;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),E+=u,m=0,g=t.length;m<g;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=s,m=0,g=t.length;m<g;++m,p+=l){for(b=(y=t[m]).mark.bounds,v=p;v>=0&&null==(x=n[v]);v-=d);o?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),_=E):(w=E,_=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),b.union(y.bounds.translate(w-(y.x||0),_-(y.y||0))),y.x=w,y.y=_,e.dirty(y),O=a(O,b[f])}return O}function Vf(e,t,n,r,i,u){if(t){e.dirty(t);var a=n,o=n;r?a=Math.round(i.x1+u*i.width()):o=Math.round(i.y1+u*i.height()),t.bounds.translate(a-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=o,e.dirty(t)}}function Gf(e,t,n,r,i,u,a){var o=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),c=function(e,t){var n=-1/0;return e.forEach(function(e){null!=e.offset&&(n=Math.max(n,e.offset))}),n>-1/0?n:t}(e,o("offset",0)),f=o("anchor",ou),s=f===fu?1:f===cu?.5:0,l={align:ju,bounds:o("bounds",Tu),columns:"vertical"===o("direction")?1:e.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(t){case eu:l.anchor={x:Math.floor(r.x1)-c,column:fu,y:s*(a||r.height()+2*r.y1),row:f};break;case tu:l.anchor={x:Math.ceil(r.x2)+c,y:s*(a||r.height()+2*r.y1),row:f};break;case Zi:l.anchor={y:Math.floor(i.y1)-c,row:fu,x:s*(u||i.width()+2*i.x1),column:f};break;case nu:l.anchor={y:Math.ceil(i.y2)+c,x:s*(u||i.width()+2*i.x1),column:f};break;case ru:l.anchor={x:c,y:c};break;case iu:l.anchor={x:u-c,y:c,column:fu};break;case uu:l.anchor={x:c,y:a-c,row:fu};break;case au:l.anchor={x:u-c,y:a-c,column:fu,row:fu}}return l}function $f(e,t){var n,r,i=t.items[0],u=i.datum,a=i.orient,o=i.bounds,c=i.x,f=i.y;return i._bounds?i._bounds.clear().union(o):i._bounds=o.clone(),o.clear(),function(e,t,n){var r=t.padding,i=r-n.x,u=r-n.y;if(t.datum.title){var a=t.items[1].items[0],o=a.anchor,c=t.titlePadding||0,f=r-a.x,s=r-a.y;switch(a.orient){case eu:i+=Math.ceil(a.bounds.width())+c;break;case tu:case nu:break;default:u+=a.fontSize+c}switch((i||u)&&Jf(e,n,i,u),a.orient){case eu:s+=Xf(t,n,a,o,0,1);break;case tu:f+=Xf(t,n,a,fu,1,0)+c,s+=Xf(t,n,a,o,0,1);break;case nu:f+=Xf(t,n,a,o,1,0),s+=Xf(t,n,a,fu,0,0,1)+c;break;default:f+=Xf(t,n,a,o,1,0)}(f||s)&&Jf(e,a,f,s),(f=Math.round(a.bounds.x1-r))<0&&(Jf(e,n,-f,0),Jf(e,a,-f,0))}else(i||u)&&Jf(e,n,i,u)}(e,i,i.items[0].items[0]),o=function(e,t){return e.items.forEach(function(e){return t.union(e.bounds)}),t.x1=e.padding,t.y1=e.padding,t}(i,o),n=2*i.padding,r=2*i.padding,o.empty()||(n=Math.ceil(o.width()+n),r=Math.ceil(o.height()+r)),u.type===Ou&&function(e){var t=e.reduce(function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e},{});e.forEach(function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y})}(i.items[0].items[0].items[0].items),a!==Mu&&(i.x=c=0,i.y=f=0),i.width=n,i.height=r,Pa(o.set(c,f,c+n,f+r),i),i.mark.bounds.clear().union(o),i}function Xf(e,t,n,r,i,u,a){var o="symbol"!==e.datum.type,c=n.datum.vgrad,f=(!o||!u&&c||a?t:t.items[0]).bounds[i?"x2":"y2"]-e.padding,s=c&&u?f:0,l=c&&u?0:f;return Math.round(r===ou?s:r===fu?l:.5*f)}function Jf(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Kf(e){Bn.call(this,null,e)}Object(kt.inherits)(Kf,Bn).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(function(t){e.layout&&If(n,t,e.layout),function(e,t,n){var r,i,u,a,o,c=t.items,f=Math.max(0,t.width||0),s=Math.max(0,t.height||0),l=(new Pu).set(0,0,f,s),d=l.clone(),h=l.clone(),p=[];for(a=0,o=c.length;a<o;++a)switch((i=c[a]).role){case hu:(jf(i)?d:h).union(Tf(e,i,f,s));break;case pu:r=i;break;case gu:p.push($f(e,i));break;case mu:case vu:case bu:case yu:case xu:case wu:case _u:case Au:d.union(i.bounds),h.union(i.bounds);break;default:l.union(i.bounds)}if(p.length){var m={};for(var v in p.forEach(function(e){(u=e.orient||tu)!==Mu&&(m[u]||(m[u]=[])).push(e)}),m){var g=m[v];Lf(e,g,Gf(g,v,n.legends,d,h,f,s))}p.forEach(function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&n.autosize.type===ku)switch(t.orient){case eu:case tu:l.add(r.x1,0).add(r.x2,0);break;case Zi:case nu:l.add(0,r.y1).add(0,r.y2)}else l.union(r)})}l.union(d).union(h),r&&l.union(function(e,t,n,r,i){var u,a=t.items[0],o=a.frame,c=a.orient,f=a.anchor,s=a.offset,l=a.bounds,d=0,h=c===eu||c===tu?r:n,p=0,m=0;switch(o!==du?c===eu?(d=i.y2,h=i.y1):c===tu?(d=i.y1,h=i.y2):(d=i.x1,h=i.x2):c===eu&&(d=r,h=0),u=f===ou?d:f===fu?h:(d+h)/2,Ff.clear().union(l),c){case Zi:p=u,m=i.y1-s;break;case eu:p=i.x1-s,m=u;break;case tu:p=i.x2+s,m=u;break;case nu:p=u,m=i.y2+s;break;default:p=a.x,m=a.y}return l.translate(p-(a.x||0),m-(a.y||0)),Mf(a,"x",p)|Mf(a,"y",m)&&(a.bounds=Ff,e.dirty(a),a.bounds=l,e.dirty(a)),t.bounds.clear().union(l)}(e,r,f,s,l));!function(e,t,n,r){var i=r.autosize||{},u=i.type,a=e._width,o=e._height,c=e.padding();if(e._autosize<1||!u)return;var f=Math.max(0,t.width||0),s=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,Math.ceil(n.x2-f)),d=Math.max(0,t.height||0),h=Math.max(0,Math.ceil(-n.y1)),p=Math.max(0,Math.ceil(n.y2-d));i.contains===Eu&&(a-=c.left+c.right,o-=c.top+c.bottom);u===Mu?(s=0,h=0,f=a,d=o):u===ku?(f=Math.max(0,a-s-l),d=Math.max(0,o-h-p)):u===Cu?(f=Math.max(0,a-s-l),o=d+h+p):u===Du?(a=f+s+l,d=Math.max(0,o-h-p)):u===Fu&&(a=f+s+l,o=d+h+p);e._resizeView(a,o,f,d,[s,h],i.resize)}(e,t,l,n)}(n,t,e)}),e.modified()&&t.reflow(),t};var Qf=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},Zf="identity",es="linear",ts="log",ns="pow",rs="sqrt",is="symlog",us="time",as="utc",os="sequential",cs="diverging",fs="quantile",ss="quantize",ls="threshold",ds="ordinal",hs="point",ps="band",ms="bin-ordinal";function vs(e){return function(e){return e&&e.startsWith(os)}(e)||function(e){return e&&e.startsWith(cs)}(e)}function gs(e){return e===ts||e.endsWith("-log")}function bs(e){switch(e){case es:case ts:case ns:case rs:case is:case us:case as:case os:return!0}return!1}var ys=n(4),xs={millisecond:ys.timeMillisecond,second:ys.timeSecond,minute:ys.timeMinute,hour:ys.timeHour,day:ys.timeDay,week:ys.timeWeek,month:ys.timeMonth,year:ys.timeYear},ws={millisecond:ys.utcMillisecond,second:ys.utcSecond,minute:ys.utcMinute,hour:ys.utcHour,day:ys.utcDay,week:ys.utcWeek,month:ys.utcMonth,year:ys.utcYear};var _s=n(8),As=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},Es=function(e){return function(t){var n,r,i,u,a=e.range(),o=t[0],c=t[1],f=-1;for(c<o&&(r=o,o=c,c=r),i=0,u=a.length;i<u;++i)a[i]>=o&&a[i]<=c&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(a[f]),c=e.invertExtent(a[n]),[void 0===o[0]?o[1]:o[0],void 0===c[1]?c[0]:c[1]]}},Os=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},ks=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Os(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var Cs=ks(Os),Ds=Cs.right,Fs=(Cs.left,Ds);var Ms=Array.prototype,Ss=(Ms.slice,Ms.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u}),js=Math.sqrt(50),Ts=Math.sqrt(10),Ns=Math.sqrt(2),Bs=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Ps(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function Ps(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=js?10:u>=Ts?5:u>=Ns?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=js?10:u>=Ts?5:u>=Ns?2:1)}function Rs(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=js?i*=10:u>=Ts?i*=5:u>=Ns&&(i*=2),t<e?-i:i}var zs=function(e){return null===e?NaN:+e};function Ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zs;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}function Is(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Us(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var qs=Symbol("implicit");function Ws(){var e=new Map,t=[],n=[],r=qs;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==qs)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,u=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var f=o.value,s=f+"";e.has(s)||e.set(s,t.push(f))}}catch(l){u=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Ws(t,n).unknown(r)},Is.apply(i,arguments),i}var Hs=n(20),Ys=function(e){return function(){return e}},Vs=function(e){return+e},Gs=[0,1];function $s(e){return e}function Xs(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ys(isNaN(t)?NaN:.5)}function Js(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function Ks(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=Xs(i,r),u=n(a,u)):(r=Xs(r,i),u=n(u,a)),function(e){return u(r(e))}}function Qs(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Xs(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(t){var n=Fs(e,t,1,r)-1;return u[n](i[n](t))}}function Zs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function el(){var e,t,n,r,i,u,a=Gs,o=Gs,c=Hs.interpolate,f=$s;function s(){return r=Math.min(a.length,o.length)>2?Qs:Ks,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),Hs.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=Array.from(e,Vs),f===$s||(f=Js(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.rangeRound=function(e){return o=Array.from(e),c=Hs.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?Js(a):$s,l):f!==$s},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function tl(e,t){return el()(e,t)}var nl=n(19),rl=function(e,t,n,r){var i,u=Rs(e,t,n);switch((r=Object(nl.formatSpecifier)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(nl.precisionPrefix)(u,a))||(r.precision=i),Object(nl.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(nl.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(nl.precisionFixed)(u))||(r.precision=i-2*("%"===r.type))}return Object(nl.format)(r)};function il(e){var t=e.domain;return e.ticks=function(e){var n=t();return Bs(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return rl(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),u=0,a=i.length-1,o=i[u],c=i[a];return c<o&&(r=o,o=c,c=r,r=u,u=a,a=r),(r=Ps(o,c,n))>0?r=Ps(o=Math.floor(o/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=Ps(o=Math.ceil(o*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[u]=Math.floor(o/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[u]=Math.ceil(o*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}var ul=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function al(e){return Math.log(e)}function ol(e){return Math.exp(e)}function cl(e){return-Math.log(-e)}function fl(e){return-Math.exp(-e)}function sl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ll(e){return function(t){return-e(-t)}}function dl(e){var t,n,r=e(al,ol),i=r.domain,u=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),n=function(e){return 10===e?sl:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),i()[0]<0?(t=ll(t),n=ll(n),e(cl,fl)):e(al,ol),r}return r.base=function(e){return arguments.length?(u=+e,a()):u},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),o=a[0],c=a[a.length-1];(r=c<o)&&(d=o,o=c,c=d);var f,s,l,d=t(o),h=t(c),p=null==e?10:+e,m=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,o>0){for(;d<h;++d)for(s=1,f=n(d);s<u;++s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else for(;d<h;++d)for(s=u-1,f=n(d);s>=1;--s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else m=Bs(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Object(nl.format)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,u*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*u<u-.5&&(r*=u),r<=a?i(e):""}},r.nice=function(){return i(ul(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function hl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ml(e){var t=1,n=e(hl(t),pl(t));return n.constant=function(n){return arguments.length?e(hl(t=+n),pl(t)):t},il(n)}function vl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gl(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bl(e){return e<0?-e*e:e*e}function yl(e){var t=e($s,$s),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e($s,$s):.5===n?e(gl,bl):e(vl(n),vl(1/n)):n},il(t)}function xl(){var e=yl(el());return e.copy=function(){return Zs(e,xl()).exponent(e.exponent())},Is.apply(e,arguments),e}var wl=1e3,_l=60*wl,Al=60*_l,El=24*Al,Ol=7*El,kl=30*El,Cl=365*El;function Dl(e){return new Date(e)}function Fl(e){return e instanceof Date?+e:+new Date(+e)}function Ml(e,t,n,r,i,u,a,o,c){var f=tl($s,$s),s=f.invert,l=f.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[a,1,wl],[a,5,5*wl],[a,15,15*wl],[a,30,30*wl],[u,1,_l],[u,5,5*_l],[u,15,15*_l],[u,30,30*_l],[i,1,Al],[i,3,3*Al],[i,6,6*Al],[i,12,12*Al],[r,1,El],[r,2,2*El],[n,1,Ol],[t,1,kl],[t,3,3*kl],[e,1,Cl]];function w(o){return(a(o)<o?d:u(o)<o?h:i(o)<o?p:r(o)<o?m:t(o)<o?n(o)<o?v:g:e(o)<o?b:y)(o)}function _(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var u=Math.abs(r-n)/t,a=ks(function(e){return e[2]}).right(x,u);a===x.length?(i=Rs(n/Cl,r/Cl,t),t=e):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],t=a[0]):(i=Math.max(Rs(n,r,t),1),t=o)}return null==i?t:t.every(i)}return f.invert=function(e){return new Date(s(e))},f.domain=function(e){return arguments.length?l(Array.from(e,Fl)):l().map(Dl)},f.ticks=function(e,t){var n,r=l(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=_(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?w:c(t)},f.nice=function(e,t){var n=l();return(e=_(e,n[0],n[n.length-1],t))?l(ul(n,e)):f},f.copy=function(){return Zs(f,Ml(e,t,n,r,i,u,a,o,c))},f}function Sl(){var e,t,n,r,i,u=0,a=1,o=$s,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){var o;return arguments.length?(o=Or(i,2),u=o[0],a=o[1],e=r(u=+u),t=r(a=+a),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function jl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Tl(){var e=il(Sl()($s));return e.copy=function(){return jl(e,Tl())},Us.apply(e,arguments)}function Nl(){var e=yl(Sl());return e.copy=function(){return jl(e,Nl()).exponent(e.exponent())},Us.apply(e,arguments)}function Bl(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=$s,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){var s;return arguments.length?(s=Or(a,3),o=s[0],c=s[1],f=s[2],e=u(o=+o),t=u(c=+c),n=u(f=+f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function Pl(){var e=yl(Bl());return e.copy=function(){return jl(e,Pl()).exponent(e.exponent())},Us.apply(e,arguments)}function Rl(){var e,t,n=Ws().unknown(void 0),r=n.domain,i=n.range,u=[0,1],a=!1,o=0,c=0,f=.5;function s(){var n=r().length,s=u[1]<u[0],l=u[s-0],d=u[1-s],h=Qf(n,o,c);e=(d-l)/(h||1),a&&(e=Math.floor(e)),l+=(d-l-e*(n-o))*f,t=e*(1-o),a&&(l=Math.round(l),t=Math.round(t));var p=Ss(n).map(function(t){return l+e*t});return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),s()):r()},n.range=function(e){return arguments.length?(u=[+e[0],+e[1]],s()):u.slice()},n.rangeRound=function(e){return u=[+e[0],+e[1]],a=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,s()):a},n.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),o=c,s()):o},n.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),s()):o},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,o,c=+e[0],f=+e[1],s=u[1]<u[0],l=s?i().reverse():i(),d=l.length-1;if(c===c&&f===f&&(f<c&&(o=c,c=f,f=o),!(f<l[0]||c>u[1-s])))return n=Math.max(0,Ds(l,c)-1),a=c===f?n:Ds(l,f)-1,c-l[n]>t+1e-10&&++n,s&&(o=n,n=d-a,a=d-o),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Rl().domain(r()).range(u).round(a).paddingInner(o).paddingOuter(c).align(f)},s()}var zl=function(e,t,n){return e.fields=t||[],e.fname=n,e};var Ll=function(e){throw Error(e)},Il=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||Ll("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&Ll("Access path missing closing bracket: "+e),u&&Ll("Access path missing closing quote: "+e),n>t&&(n++,f()),i},Ul=Array.isArray,ql=function(e){return e===Object(e)},Wl=function(e){return"string"===typeof e};function Hl(e){return Ul(e)?"["+e.map(Hl)+"]":ql(e)||Wl(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Yl=[];(function(e,t){var n=Il(e),r="return _["+n.map(Hl).join("][")+"];";zl(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),zl(function(e){return e},Yl,"identity"),zl(function(){return 0},Yl,"zero"),zl(function(){return 1},Yl,"one"),zl(function(){return!0},Yl,"true"),zl(function(){return!1},Yl,"false");var Vl=function(e){return e[e.length-1]};var Gl=function(e){return"function"===typeof e},$l=function(e){return Gl(e)?e:function(){return e}};var Xl=Array.prototype.map;var Jl,Kl=Array.prototype.slice;function Ql(e,t){return arguments.length>1?(Zl[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?As(n):n.invertExtent?Es(n):void 0),n.type=e,n}}(e,t),this):Zl.hasOwnProperty(e)?Zl[e]:void 0}var Zl=(Jl={},Object(_s.a)(Jl,Zf,function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Vs),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Vs):[0,1],il(r)}),Object(_s.a)(Jl,es,function e(){var t=tl($s,$s);return t.copy=function(){return Zs(t,e())},Is.apply(t,arguments),il(t)}),Object(_s.a)(Jl,ts,function e(){var t=dl(el()).domain([1,10]);return t.copy=function(){return Zs(t,e()).base(t.base())},Is.apply(t,arguments),t}),Object(_s.a)(Jl,ns,xl),Object(_s.a)(Jl,rs,function(){return xl.apply(null,arguments).exponent(.5)}),Object(_s.a)(Jl,is,function e(){var t=ml(el());return t.copy=function(){return Zs(t,e()).constant(t.constant())},Is.apply(t,arguments)}),Object(_s.a)(Jl,us,function(){return Is.apply(Ml(ys.timeYear,ys.timeMonth,ys.timeWeek,ys.timeDay,ys.timeHour,ys.timeMinute,ys.timeSecond,ys.timeMillisecond,cn.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),Object(_s.a)(Jl,as,function(){return Is.apply(Ml(ys.utcYear,ys.utcMonth,ys.utcWeek,ys.utcDay,ys.utcHour,ys.utcMinute,ys.utcSecond,ys.utcMillisecond,cn.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Object(_s.a)(Jl,os,Tl),Object(_s.a)(Jl,os+"-"+es,Tl),Object(_s.a)(Jl,os+"-"+ts,function e(){var t=dl(Sl()).domain([1,10]);return t.copy=function(){return jl(t,e()).base(t.base())},Us.apply(t,arguments)}),Object(_s.a)(Jl,os+"-"+ns,Nl),Object(_s.a)(Jl,os+"-"+rs,function(){return Nl.apply(null,arguments).exponent(.5)}),Object(_s.a)(Jl,os+"-"+is,function e(){var t=ml(Sl());return t.copy=function(){return jl(t,e()).constant(t.constant())},Us.apply(t,arguments)}),Object(_s.a)(Jl,cs+"-"+es,function e(){var t=il(Bl()($s));return t.copy=function(){return jl(t,e())},Us.apply(t,arguments)}),Object(_s.a)(Jl,cs+"-"+ts,function e(){var t=dl(Bl()).domain([.1,1,10]);return t.copy=function(){return jl(t,e()).base(t.base())},Us.apply(t,arguments)}),Object(_s.a)(Jl,cs+"-"+ns,Pl),Object(_s.a)(Jl,cs+"-"+rs,function(){return Pl.apply(null,arguments).exponent(.5)}),Object(_s.a)(Jl,cs+"-"+is,function e(){var t=ml(Bl());return t.copy=function(){return jl(t,e()).constant(t.constant())},Us.apply(t,arguments)}),Object(_s.a)(Jl,fs,function e(){var t,n=[],r=[],i=[];function u(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Ls(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[Fs(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value;null==c||isNaN(c=+c)||n.push(c)}}catch(f){r=!0,i=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.sort(Os),u()},a.range=function(e){return arguments.length?(r=Array.from(e),u()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},Is.apply(a,arguments)}),Object(_s.a)(Jl,ss,function e(){var t,n=0,r=1,i=1,u=[.5],a=[0,1];function o(e){return e<=e?a[Fs(u,e,0,i)]:t}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){var t;return arguments.length?(t=Or(e,2),n=t[0],r=t[1],n=+n,r=+r,c()):[n,r]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,u[0]]:t>=i?[u[i-1],r]:[u[t-1],u[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Is.apply(il(o),arguments)}),Object(_s.a)(Jl,ls,function e(){var t,n=[.5],r=[0,1],i=1;function u(e){return e<=e?r[Fs(n,e,0,i)]:t}return u.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return e().domain(n).range(r).unknown(t)},Is.apply(u,arguments)}),Object(_s.a)(Jl,ms,function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Fs(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return Xl.call(e,function(e){return+e})}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Kl.call(e),r):n.slice()},r.tickFormat=function(e,n){return rl(t[0],Vl(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),Object(_s.a)(Jl,ds,Ws),Object(_s.a)(Jl,ps,Rl),Object(_s.a)(Jl,hs,function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(Rl().paddingInner(1))}),Jl);for(var ed in Zl)Ql(ed,Zl[ed]);var td=["clamp","base","constant","exponent"];function nd(e,t,n){return Hs.piecewise(rd(t||"rgb",n),e)}function rd(e,t){var n=Hs[function(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function id(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function ud(e,t){for(var n in e)od(n,t(e[n]))}var ad={};function od(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ad[e]=t,this):ad[e]}function cd(e,t,n){var r;return Object(kt.isNumber)(t)&&null!=n&&(t=Math.min(t,~~(Object(kt.span)(e.domain())/n)||1)),Object(kt.isObject)(t)&&(r=t.step,t=t.interval),Object(kt.isString)(t)&&(t=function(e,t){var n=t===as?ws:xs;return n.hasOwnProperty(e)&&n[e]}(t,e.type)||Object(kt.error)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function fd(e,t,n){var r=e.range(),i=Math.floor(r[0]),u=Math.ceil(Object(kt.peek)(r));if(i>u&&(r=u,u=i,i=r),t=t.filter(function(t){return t=e(t),i<=t&&t<=u}),n>0&&t.length>1){for(var a=[t[0],Object(kt.peek)(t)];t.length>n&&t.length>=3;)t=t.filter(function(e,t){return!(t%2)});t.length<3&&(t=a)}return t}function sd(e,t){return e.bins?fd(e,function(e,t){var n=e.length,r=~~(n/(t||n));return r<2?e.slice():e.filter(function(e,t){return!(t%r)})}(e.bins,t)):e.ticks?e.ticks(t):e.domain()}function ld(e,t,n,r){var i,u,a=e.tickFormat?e.tickFormat(t,n):n&&r===us?Object(cn.timeFormat)(n):n?Object(nl.format)(n):String;if(gs(e.type)){var o=function(e){var t=Object(nl.formatSpecifier)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return n=Object(nl.format)(t),r=Object(nl.format)(".1f")(1)[1],function(e){var t,i,u=n(e),a=u.indexOf(r);if(a<0)return u;for(t=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(u,a),i=t<u.length?u.slice(t):"";--t>a;)if("0"!==u[t]){++t;break}return u.slice(0,t)+i}}return Object(nl.format)(t);var n,r}(n);a=e.bins?o:(i=a,u=o,function(e){return i(e)?u(e):""})}return a}function dd(e){Bn.call(this,null,e)}function hd(e){Bn.call(this,null,e)}function pd(){return ct({})}function md(e){return e.exit}function vd(e){Bn.call(this,null,e)}ud({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},id),ud({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(e){return nd(id(e))}),Object(kt.inherits)(dd,Bn).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,u=cd(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),a=e.format||ld(i,u,e.formatSpecifier,e.formatType),o=e.values?fd(i,e.values,u):sd(i,u);return r&&(n.rem=r),r=o.map(function(e,t){return ct({index:t/(o.length-1||1),value:e,label:a(e)})}),e.extra&&r.length&&r.push(ct({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n},Object(kt.inherits)(hd,Bn).transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||pd,u=e.key||at,a=this.value;return Object(kt.isArray)(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(u))&&Object(kt.error)("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=Object(kt.fastmap)().test(md),a.lookup=function(e){return a.get(u(e))}),t.visit(t.ADD,function(e){var t=u(e),n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(a.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,function(e){var t=u(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))}),t.visit(t.REM,function(e){var t=u(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&a.empty>n.cleanThreshold&&n.runAfter(a.clean),r},Object(kt.inherits)(vd,Bn).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.encoders,i=t.encode;if(Object(kt.isArray)(i)){if(!n.changed()&&!i.every(function(e){return r[e]}))return t.StopPropagation;i=i[0],n.encode=null}var u="enter"===i,a=r.update||kt.falsy,o=r.enter||kt.falsy,c=r.exit||kt.falsy,f=(i&&!u?r[i]:a)||kt.falsy;if(t.changed(t.ADD)&&(t.visit(t.ADD,function(t){o(t,e),a(t,e),f!==kt.falsy&&f!==a&&f(t,e)}),n.modifies(o.output),n.modifies(a.output),f!==kt.falsy&&f!==a&&n.modifies(f.output)),t.changed(t.REM)&&c!==kt.falsy&&(t.visit(t.REM,function(t){c(t,e)}),n.modifies(c.output)),u||f!==kt.falsy){var s=t.MOD|(e.modified()?t.REFLOW:0);u?(t.visit(s,function(t){var r=o(t,e);(f(t,e)||r)&&n.mod.push(t)}),n.mod.length&&n.modifies(o.output)):t.visit(s,function(t){f(t,e)&&n.mod.push(t)}),n.mod.length&&n.modifies(f.output)}return n.changed()?n:t.StopPropagation};var gd,bd,yd="symbol",xd="discrete",wd=(gd={},Object(_s.a)(gd,fs,"quantiles"),Object(_s.a)(gd,ss,"thresholds"),Object(_s.a)(gd,ls,"domain"),gd),_d=(bd={},Object(_s.a)(bd,fs,"quantiles"),Object(_s.a)(bd,ss,"domain"),bd);function Ad(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(kt.peek)(e),t}(e.bins):wd[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[wd[e.type]]()):sd(e,t)}function Ed(e,t,n,r,i){var u=_d[e.type]&&i!==us?function(e,t){var n,r=e[_d[e.type]](),i=r.length,u=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)u=Math.min(u,r[n]-r[n-1]);return rl(0,u,30,t)}(e,r):ld(e,t,r,i);return n===yd&&function(e){return wd[e.type]||e.bins}(e)?function(e){return function(t,n,r){var i=r[n+1]||r.max||1/0,u=Od(t,e),a=Od(i,e);return u&&a?u+"\u2013"+a:a?"< "+a:"\u2265 "+u}}(u):n===xd?function(e){return function(t,n){return n?e(t):null}}(u):function(e){return function(t){return e(t)}}(u)}function Od(e,t){return isFinite(e)?t(e):null}function kd(e){Bn.call(this,[],e)}Object(kt.inherits)(kd,Bn).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,u,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,c=e.type||yd,f=e.scale,s=cd(f,null==e.count?5:e.count,e.minstep),l=e.format||Ed(f,s,c,e.formatSpecifier,e.formatType),d=e.values||Ad(f,s);return o&&(a.rem=o),c===yd?(Object(kt.isFunction)(i=e.size)?(e.values||0!==f(d[0])||(d=d.slice(1)),u=d.reduce(function(t,n){return Math.max(t,i(n,e))},0)):i=Object(kt.constant)(u=i||8),o=d.map(function(t,n){return ct({index:n,label:l(t,n,d),value:t,offset:u,size:i(t,e)})})):"gradient"===c?(n=f.domain(),r=function(e,t,n){var r,i,u,a=n-t;return a&&isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),u=Ql(i)().domain([t,n]).range([0,1]),td.forEach(function(t){return e[t]?u[t](e[t]()):0}),u):$l(.5)}(f,n[0],Object(kt.peek)(n)),d.length<3&&!e.values&&n[0]!==Object(kt.peek)(n)&&(d=[n[0],Object(kt.peek)(n)]),o=d.map(function(e,t){return ct({index:t,label:l(e,t,d),value:e,perc:r(e)})})):(i=d.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(kt.peek)(t),u=i-r;if(e.type===ls){var a=n?u/n:.1;u=(i+=a)-(r-=a)}return function(e){return(e-r)/u}}(f),o=d.map(function(e,t){return ct({index:t,label:l(e,t,d),value:e,perc:t?r(e):0,perc2:t===i?1:r(d[t+1])})})),a.source=o,a.add=o,this.value=o,a};var Cd=Object(kt.fastmap)({line:Td,"line-radial":function(e,t,n,r){return Td(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:Nd,"arc-radial":function(e,t,n,r){return Nd(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:Bd,"curve-radial":function(e,t,n,r){return Bd(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),u=Math.sin(e),a=Math.cos(n),o=Math.sin(n),c=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*u+"A"+t+","+t+" 0 0,"+(c?1:0)+" "+t*a+","+t*o+"L"+r*a+","+r*o},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),u=Math.sin(e),a=Math.cos(n),o=Math.sin(n),c=(t+r)/2;return"M"+t*i+","+t*u+"C"+c*i+","+c*u+" "+c*a+","+c*o+" "+r*a+","+r*o}});function Dd(e){return e.source.x}function Fd(e){return e.source.y}function Md(e){return e.target.x}function Sd(e){return e.target.y}function jd(e){Bn.call(this,{},e)}function Td(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function Nd(e,t,n,r){var i=n-e,u=r-t,a=Math.sqrt(i*i+u*u)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(u,i)/Math.PI+" 0 1 "+n+","+r}function Bd(e,t,n,r){var i=n-e,u=r-t,a=.2*(i+u),o=.2*(u-i);return"M"+e+","+t+"C"+(e+a)+","+(t+o)+" "+(n+o)+","+(r-a)+" "+n+","+r}function Pd(e){Bn.call(this,null,e)}jd.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(kt.inherits)(jd,Bn).transform=function(e,t){var n=e.sourceX||Dd,r=e.sourceY||Fd,i=e.targetX||Md,u=e.targetY||Sd,a=e.as||"path",o=e.orient||"vertical",c=e.shape||"line",f=Cd.get(c+"-"+o)||Cd.get(c);return f||Object(kt.error)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,function(e){e[a]=f(n(e),r(e),i(e),u(e))}),t.reflow(e.modified()).modifies(a)},Pd.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(kt.inherits)(Pd,Bn).transform=function(e,t){var n,r,i,u=e.as||["startAngle","endAngle"],a=u[0],o=u[1],c=e.field||kt.one,f=e.startAngle||0,s=null!=e.endAngle?e.endAngle:2*Math.PI,l=t.source,d=l.map(c),h=d.length,p=f,m=(s-f)/function(e,t){var n=0;if(void 0===t){var r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value;(c=+c)&&(n+=c)}}catch(v){i=!0,u=v}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}}else{var f=-1,s=!0,l=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var m=h.value;(m=+t(m,++f,e))&&(n+=m)}}catch(v){l=!0,d=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw d}}}return n}(d),v=Ss(h);for(e.sort&&v.sort(function(e,t){return d[e]-d[t]}),n=0;n<h;++n)i=d[v[n]],(r=l[v[n]])[a]=p,r[o]=p+=i*m;return this.value=d,t.reflow(e.modified()).modifies(u)};var Rd=5;function zd(e){return bs(e)&&e!==os}var Ld=Object(kt.toSet)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Id(e){Bn.call(this,null,e),this.modified(!0)}function Ud(e,t,n){gs(e)&&(Math.abs(t.reduce(function(e,t){return e+(t<0?-1:t>0?1:0)},0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(kt.stringValue)(t)));return t}function qd(e,t,n){return Object(kt.isFunction)(e)&&(t||n)?function(e,t){var n=t[0],r=Vl(t)-n;return function(t){return e(n+t*r)}}(e,Wd(t||[0,1],n)):e}function Wd(e,t){return t?e.slice().reverse():e}function Hd(e){Bn.call(this,null,e)}Object(kt.inherits)(Id,Bn).transform=function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if(n===os)return os+"-"+es;(function(e){var t=e.type;return bs(t)&&t!==us&&t!==as&&(e.scheme||e.range&&e.range.length&&e.range.every(kt.isString))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?os+"-":3===t?cs+"-":"");return(r+n||es).toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=Ql(i)()),e)if(!Ld[i]){if("padding"===i&&zd(r.type))continue;Object(kt.isFunction)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=t.round||!1,i=t.range;if(null!=t.rangeStep)i=function(e,t,n){e!==ps&&e!==hs&&Object(kt.error)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===hs?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Qf(n,i,r)]}(e.type,t,n);else if(t.scheme){if(i=function(e,t,n){var r,i,u=t.schemeExtent;Object(kt.isArray)(t.scheme)?i=nd(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=od(r))||Object(kt.error)("Unrecognized scheme name: "+t.scheme));return n=e===ls?n+1:e===ms?n-1:e===fs||e===ss?+t.schemeCount||Rd:n,vs(e)?qd(i,u,t.reverse):Object(kt.isFunction)(i)?function(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}(qd(i,u),n):e===ds?i:i.slice(0,n)}(e.type,t,n),Object(kt.isFunction)(i))return e.interpolator(i)}else if(i&&vs(e.type))return e.interpolator(nd(Wd(i,t.reverse),t.interpolate,t.interpolateGamma));i&&t.interpolate&&e.interpolate?e.interpolate(rd(t.interpolate,t.interpolateGamma)):Object(kt.isFunction)(e.round)?e.round(r):Object(kt.isFunction)(e.rangeRound)&&e.interpolate(r?Hs.interpolateRound:Hs.interpolate);i&&e.range(Wd(i,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(kt.isArray)(r)){var i=(null==r.start||null==r.stop)&&e.domain(),u=null==r.start?i[0]:r.start,a=null==r.stop?Object(kt.peek)(i):r.stop,o=r.step;o||Object(kt.error)("Scale bins parameter missing step property."),r=Ss(u,a+o,o)}r?e.bins=r:e.bins&&delete e.bins;e.type===ms&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(Ud(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,u,a=t.domain,o=e.type,c=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===es||t===ns||t===rs)}(e);if(!a)return 0;zd(o)&&t.padding&&a[0]!==Object(kt.peek)(a)&&(a=function(e,t,n,r,i,u){var a=Math.abs(Object(kt.peek)(n)-n[0]),o=a/(a-2*r),c=e===ts?Object(kt.zoomLog)(t,null,o):e===rs?Object(kt.zoomPow)(t,null,o,.5):e===ns?Object(kt.zoomPow)(t,null,o,i||1):e===is?Object(kt.zoomSymlog)(t,null,o,u||1):Object(kt.zoomLinear)(t,null,o);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(o,a,t.range,t.padding,t.exponent,t.constant));(c||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,c&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid&&(((u=t.domainMid)<a[0]||u>a[i])&&n.warn("Scale domainMid exceeds domain min or max.",u),a.splice(i,0,u)));e.domain(Ud(o,a,n)),o===ds&&e.unknown(t.domainImplicit?qs:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&cd(e,t.nice)||null);return a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Object(kt.inherits)(Hd,Bn).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(e.sort),this.modified(n),t};var Yd=["y0","y1"];function Vd(e){Bn.call(this,null,e)}function Gd(e,t,n,r,i){for(var u,a=(t-e.sum)/2,o=e.length,c=0;c<o;++c)(u=e[c])[r]=a,u[i]=a+=Math.abs(n(u))}function $d(e,t,n,r,i){for(var u,a=1/e.sum,o=0,c=e.length,f=0,s=0;f<c;++f)(u=e[f])[r]=o,u[i]=o=a*(s+=Math.abs(n(u)))}function Xd(e,t,n,r,i){for(var u,a,o=0,c=0,f=e.length,s=0;s<f;++s)(u=+n(a=e[s]))<0?(a[r]=c,a[i]=c+=u):(a[r]=o,a[i]=o+=u)}Vd.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Yd}]},Object(kt.inherits)(Vd,Bn).transform=function(e,t){var n,r,i,u,a=e.as||Yd,o=a[0],c=a[1],f=e.field||kt.one,s="center"===e.offset?Gd:"normalize"===e.offset?$d:Xd;for(n=function(e,t,n,r){var i,u,a,o,c,f,s,l,d,h=[],p=function(e){return e(c)};if(null==t)h.push(e.slice());else for(i={},u=0,a=e.length;u<a;++u)c=e[u],f=t.map(p),(s=i[f])||(i[f]=s=[],h.push(s)),s.push(c);for(f=0,d=0,o=h.length;f<o;++f){for(s=h[f],u=0,l=0,a=s.length;u<a;++u)l+=Math.abs(r(s[u]));s.sum=l,l>d&&(d=l),n&&s.sort(n)}return h.max=d,h}(t.source,e.groupby,e.sort,f),r=0,i=n.length,u=n.max;r<i;++r)s(n[r],u,f,o,c);return t.reflow(e.modified()).modifies(a)};var Jd=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var Kd=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Jd(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}}(Jd);Kd.right,Kd.left;var Qd=function(e,t){var n,r;if(void 0===t){var i=!0,u=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var f=o.value;null!=f&&f>=f&&(void 0===n?n=r=f:(n>f&&(n=f),r<f&&(r=f)))}}catch(g){u=!0,a=g}finally{try{i||null==c.return||c.return()}finally{if(u)throw a}}}else{var s=-1,l=!0,d=!1,h=void 0;try{for(var p,m=e[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var v=p.value;null!=(v=t(v,++s,e))&&v>=v&&(void 0===n?n=r=v:(n>v&&(n=v),r<v&&(r=v)))}}catch(g){d=!0,h=g}finally{try{l||null==m.return||m.return()}finally{if(d)throw h}}}return[n,r]};var Zd=Array.prototype;Zd.slice,Zd.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var eh=n(61),th=["size","smooth"],nh=["x","y","weight","size","cellSize","bandwidth"];function rh(e){Bn.call(this,null,e)}rh.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},Object(kt.inherits)(rh,Bn).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i,u,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.count||10;return e.values?(n=Object(eh.b)(),r=th,i=e.values):(n=Object(eh.a)(),r=nh,i=t.materialize(t.SOURCE).source),n.thresholds(e.thresholds||(e.nice?o:(u=o,function(e){for(var t=Qd(e),n=t[0],r=t[1]-n,i=[],a=1;a<=u;++a)i.push(n+r*a/(u+1));return i}))),r.forEach(function(t){null!=e[t]&&n[t](e[t])}),this.value&&(a.rem=this.value),i=i&&i.length?n(i).map(ct):[],this.value=a.source=a.add=i,a};var ih="Feature",uh="FeatureCollection";function ah(e){Bn.call(this,null,e)}ah.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(kt.inherits)(ah,Bn).transform=function(e,t){var n,r=this._features,i=this._points,u=e.fields,a=u&&u[0],o=u&&u[1],c=e.geojson,f=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(kt.accessorFields)(c))||a&&t.modified(Object(kt.accessorFields)(a))||o&&t.modified(Object(kt.accessorFields)(o)),this.value&&!n||(f=t.SOURCE,this._features=r=[],this._points=i=[]),c&&t.visit(f,function(e){r.push(c(e))}),a&&o&&(t.visit(f,function(e){var t=a(e),n=o(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])}),r=r.concat({type:ih,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:uh,features:r}};var oh=n(28),ch=Object(oh.N)(),fh=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function sh(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(dh[e]=function(e,t){return function n(){var r=t();return r.type=e,r.path=Object(oh.N)().projection(r),r.copy=r.copy||function(){var e=n();return fh.forEach(function(t){r.hasOwnProperty(t)&&e[t](r[t]())}),e.path.pointRadius(r.path.pointRadius()),e},r}}(e,t),this):dh.hasOwnProperty(e)?dh[e]:null}function lh(e){return e&&e.path||ch}var dh={albers:oh.a,albersusa:oh.b,azimuthalequalarea:oh.d,azimuthalequidistant:oh.f,conicconformal:oh.o,conicequalarea:oh.q,conicequidistant:oh.s,equirectangular:oh.y,gnomonic:oh.A,identity:oh.E,mercator:oh.H,naturalEarth1:oh.J,orthographic:oh.L,stereographic:oh.R,transversemercator:oh.V};for(var hh in dh)sh(hh,dh[hh]);function ph(e){Bn.call(this,null,e)}function mh(e){Bn.call(this,null,e)}function vh(e){Bn.call(this,null,e)}function gh(e){Bn.call(this,[],e),this.generator=Object(oh.C)()}function bh(e){Bn.call(this,null,e),this.modified(!0)}function yh(e,t,n){Object(kt.isFunction)(e[t])&&e[t](n)}ph.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(kt.inherits)(ph,Bn).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||kt.identity,u=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=lh(e.projection),n.materialize().reflow()):a=i===kt.identity||t.modified(i.fields)?n.ADD_MOD:n.ADD;var o=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(a,function(e){e[u]=r(i(e))}),r.pointRadius(o),n.modifies(u)},mh.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(kt.inherits)(mh,Bn).transform=function(e,t){var n,r=e.projection,i=e.fields[0],u=e.fields[1],a=e.as||["x","y"],o=a[0],c=a[1];function f(e){var t=r([i(e),u(e)]);t?(e[o]=t[0],e[c]=t[1]):(e[o]=void 0,e[c]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,f):(n=t.modified(i.fields)||t.modified(u.fields),t.visit(n?t.ADD_MOD:t.ADD,f)),t.modifies(a)},vh.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(kt.inherits)(vh,Bn).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Object(kt.field)("datum"),u=e.as||"shape",a=n.ADD_MOD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),u=e.pointRadius(n)(t(r));return e.pointRadius(i),u};return r.context=function(t){return e.context(t),r},r}(lh(e.projection),i,e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,function(e){e[u]=r}),n.modifies(u)},gh.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(kt.inherits)(gh,Bn).transform=function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var u in e)Object(kt.isFunction)(i[u])&&i[u](e[u]);return n=i(),r.length?t.mod.push(lt(r[0],n)):t.add.push(ct(n)),r[0]=n,t},Object(kt.inherits)(bh,Bn).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=sh((e||"mercator").toLowerCase());t||Object(kt.error)("Unrecognized projection type: "+e);return t()}(e.type),fh.forEach(function(t){null!=e[t]&&yh(n,t,e[t])})):fh.forEach(function(t){e.modified(t)&&yh(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(kt.array)(e)).length?e[0]:{type:uh,features:e.reduce(function(e,t){return e.concat(function(e){return e.type===uh?e.features:Object(kt.array)(e).map(function(e){return e.type===ih?e:{type:ih,geometry:e}})}(t))},[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var xh=n(42),wh=function(e){return function(){return e}},_h=function(){return 1e-6*(Math.random()-.5)};function Ah(e){return e.x+e.vx}function Eh(e){return e.y+e.vy}function Oh(e){return e.index}function kh(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Ch=n(36),Dh=n(34);function Fh(e){return e.x}function Mh(e){return e.y}var Sh=10,jh=Math.PI*(3-Math.sqrt(5)),Th=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),u=0,a=.6,o=new Map,c=Object(Dh.d)(s),f=Object(Ch.a)("tick","end");function s(){l(),f.call("tick",t),n<r&&(c.stop(),f.call("end",t))}function l(r){var c,f,s=e.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(n+=(u-n)*i,o.forEach(function(e){e(n)}),c=0;c<s;++c)null==(f=e[c]).fx?f.x+=f.vx*=a:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=a:(f.y=f.fy,f.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=Sh*Math.sqrt(n),u=n*jh;t.x=i*Math.cos(u),t.y=i*Math.sin(u)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:l,restart:function(){return c.restart(s),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),o.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(u=+e,t):u},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?o.delete(e):o.set(e,h(n)),t):o.get(e)},find:function(t,n,r){var i,u,a,o,c,f=0,s=e.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)(a=(i=t-(o=e[f]).x)*i+(u=n-o.y)*u)<r&&(c=o,r=a);return c},on:function(e,n){return arguments.length>1?(f.on(e,n),t):f.on(e)}}},Nh={center:function(e,t){var n;function r(){var r,i,u=n.length,a=0,o=0;for(r=0;r<u;++r)a+=(i=n[r]).x,o+=i.y;for(a=a/u-e,o=o/u-t,r=0;r<u;++r)(i=n[r]).x-=a,i.y-=o}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},collide:function(e){var t,n,r=1,i=1;function u(){for(var e,u,o,c,f,s,l,d=t.length,h=0;h<i;++h)for(u=Object(xh.a)(t,Ah,Eh).visitAfter(a),e=0;e<d;++e)o=t[e],s=n[o.index],l=s*s,c=o.x+o.vx,f=o.y+o.vy,u.visit(p);function p(e,t,n,i,u){var a=e.data,d=e.r,h=s+d;if(!a)return t>c+h||i<c-h||n>f+h||u<f-h;if(a.index>o.index){var p=c-a.x-a.vx,m=f-a.y-a.vy,v=p*p+m*m;v<h*h&&(0===p&&(v+=(p=_h())*p),0===m&&(v+=(m=_h())*m),v=(h-(v=Math.sqrt(v)))/v*r,o.vx+=(p*=v)*(h=(d*=d)/(l+d)),o.vy+=(m*=v)*h,a.vx-=p*(h=1-h),a.vy-=m*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function o(){if(t){var r,i,u=t.length;for(n=new Array(u),r=0;r<u;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=wh(null==e?1:+e)),u.initialize=function(e){t=e,o()},u.iterations=function(e){return arguments.length?(i=+e,u):i},u.strength=function(e){return arguments.length?(r=+e,u):r},u.radius=function(t){return arguments.length?(e="function"===typeof t?t:wh(+t),o(),u):e},u},nbody:function(){var e,t,n,r,i=wh(-30),u=1,a=1/0,o=.81;function c(r){var i,u=e.length,a=Object(xh.a)(e,Fh,Mh).visitAfter(s);for(n=r,i=0;i<u;++i)t=e[i],a.visit(l)}function f(){if(e){var t,n,u=e.length;for(r=new Array(u),t=0;t<u;++t)n=e[t],r[n.index]=+i(n,t,e)}}function s(e){var t,n,i,u,a,o=0,c=0;if(e.length){for(i=u=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(o+=t.value,c+=n,i+=n*t.x,u+=n*t.y);e.x=i/c,e.y=u/c}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=r[t.data.index]}while(t=t.next)}e.value=o}function l(e,i,c,f){if(!e.value)return!0;var s=e.x-t.x,l=e.y-t.y,d=f-i,h=s*s+l*l;if(d*d/o<h)return h<a&&(0===s&&(h+=(s=_h())*s),0===l&&(h+=(l=_h())*l),h<u&&(h=Math.sqrt(u*h)),t.vx+=s*e.value*n/h,t.vy+=l*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===s&&(h+=(s=_h())*s),0===l&&(h+=(l=_h())*l),h<u&&(h=Math.sqrt(u*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=s*d,t.vy+=l*d)}while(e=e.next)}}return c.initialize=function(t){e=t,f()},c.strength=function(e){return arguments.length?(i="function"===typeof e?e:wh(+e),f(),c):i},c.distanceMin=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c},link:function(e){var t,n,r,i,u,a=Oh,o=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=wh(30),f=1;function s(r){for(var i=0,a=e.length;i<f;++i)for(var o,c,s,l,d,h,p,m=0;m<a;++m)c=(o=e[m]).source,l=(s=o.target).x+s.vx-c.x-c.vx||_h(),d=s.y+s.vy-c.y-c.vy||_h(),l*=h=((h=Math.sqrt(l*l+d*d))-n[m])/h*r*t[m],d*=h,s.vx-=l*(p=u[m]),s.vy-=d*p,c.vx+=l*(p=1-p),c.vy+=d*p}function l(){if(r){var o,c,f=r.length,s=e.length,l=new Map(r.map(function(e,t){return[a(e,t,r),e]}));for(o=0,i=new Array(f);o<s;++o)(c=e[o]).index=o,"object"!==typeof c.source&&(c.source=kh(l,c.source)),"object"!==typeof c.target&&(c.target=kh(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(o=0,u=new Array(s);o<s;++o)c=e[o],u[o]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);t=new Array(s),d(),n=new Array(s),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+o(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),s.initialize=function(e){r=e,l()},s.links=function(t){return arguments.length?(e=t,l(),s):e},s.id=function(e){return arguments.length?(a=e,s):a},s.iterations=function(e){return arguments.length?(f=+e,s):f},s.strength=function(e){return arguments.length?(o="function"===typeof e?e:wh(+e),d(),s):o},s.distance=function(e){return arguments.length?(c="function"===typeof e?e:wh(+e),h(),s):c},s},x:function(e){var t,n,r,i=wh(.1);function u(e){for(var i,u=0,a=t.length;u<a;++u)(i=t[u]).vx+=(r[u]-i.x)*n[u]*e}function a(){if(t){var u,a=t.length;for(n=new Array(a),r=new Array(a),u=0;u<a;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return"function"!==typeof e&&(e=wh(null==e?0:+e)),u.initialize=function(e){t=e,a()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:wh(+e),a(),u):i},u.x=function(t){return arguments.length?(e="function"===typeof t?t:wh(+t),a(),u):e},u},y:function(e){var t,n,r,i=wh(.1);function u(e){for(var i,u=0,a=t.length;u<a;++u)(i=t[u]).vy+=(r[u]-i.y)*n[u]*e}function a(){if(t){var u,a=t.length;for(n=new Array(a),r=new Array(a),u=0;u<a;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return"function"!==typeof e&&(e=wh(null==e?0:+e)),u.initialize=function(e){t=e,a()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:wh(+e),a(),u):i},u.y=function(t){return arguments.length?(e="function"===typeof t?t:wh(+t),a(),u):e},u}},Bh="forces",Ph=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Rh=["static","iterations"],zh=["x","y","vx","vy"];function Lh(e){Bn.call(this,null,e)}Lh.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:zh}]};var Ih=Object(kt.inherits)(Lh,Bn);function Uh(e,t,n,r){var i,u,a,o,c=Object(kt.array)(t.forces);for(i=0,u=Ph.length;i<u;++i)(a=Ph[i])!==Bh&&t.modified(a)&&e[a](t[a]);for(i=0,u=c.length;i<u;++i)o=Bh+i,(a=n||t.modified(Bh,i)?Wh(c[i]):r&&qh(c[i],r)?e.force(o):null)&&e.force(o,a);for(u=e.numForces||0;i<u;++i)e.force(Bh+i,null);return e.numForces=c.length,e}function qh(e,t){var n,r;for(n in e)if(Object(kt.isFunction)(r=e[n])&&t.modified(Object(kt.accessorFields)(r)))return 1;return 0}function Wh(e){var t,n;for(n in Nh.hasOwnProperty(e.force)||Object(kt.error)("Unrecognized force: "+e.force),t=Nh[e.force](),e)Object(kt.isFunction)(t[n])&&Hh(t[n],e[n],e);return t}function Hh(e,t,n){e(Object(kt.isFunction)(t)?function(e){return t(e,n)}:t)}Ih.transform=function(e,t){var n,r,i=this.value,u=t.changed(t.ADD_REM),a=e.modified(Ph),o=e.iterations||300;if(i?(u&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&Uh(i,e,0,t)):(this.value=i=function(e,t){var n=Th(e),r=!1,i=n.stop,u=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,u()},n.stop=function(){return r=!0,i()},Uh(n,t,!0).on("end",function(){r=!0})}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(u=!0,i.tick()),t.modifies("index")),a||u||e.modified(Rh)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/o)),e.static)for(i.stop();--o>=0;)i.tick();else if(i.stopped()&&i.restart(),!u)return t.StopPropagation;return this.finish(e,t)},Ih.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,u=0,a=i.length;u<a;++u)if((n=i[u]).name===Bh&&"link"===n.op._argval.force)for(var o,c=n.op._argops,f=0,s=c.length;f<s;++f)if("links"===c[f].name&&(o=c[f].op.source)){r.pulse(o,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(zh)};var Yh=function(e,t,n){var r={};return e.each(function(e){var i=e.data;n(i)&&(r[t(i)]=e)}),e.lookup=r,e},Vh=n(31);function Gh(e){Bn.call(this,null,e)}function $h(e){return e.values}function Xh(){var e,t=[];return e={entries:function(e){return function e(n,r){if(++r>t.length)return n;var i,u=[];for(i in n)u.push({key:i,values:e(n[i],r)});return u}(function e(n,r){if(r>=t.length)return n;for(var i,u,a,o=-1,c=n.length,f=t[r++],s={},l={};++o<c;)(a=s[i=f(u=n[o])+""])?a.push(u):s[i]=[u];for(i in s)l[i]=e(s[i],r);return l}(e,0),0)},key:function(n){return t.push(n),e}}}function Jh(e){Bn.call(this,null,e)}function Kh(e,t){return e.parent===t.parent?1:2}Gh.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(kt.inherits)(Gh,Bn).transform=function(e,t){t.source||Object(kt.error)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),u=this.value;return(!u||r||t.changed())&&(u&&u.each(function(e){e.children&&ut(e.data)&&i.rem.push(e.data)}),this.value=u=Object(Vh.b)({values:Object(kt.array)(e.keys).reduce(function(e,t){return e.key(t),e},Xh()).entries(i.source)},$h),n&&u.each(function(e){e.children&&(e=ct(e.data),i.add.push(e),i.source.push(e))}),Yh(u,at,at)),i.source.root=u,i},Object(kt.inherits)(Jh,Bn).transform=function(e,t){t.source&&t.source.root||Object(kt.error)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,u=e.as||r;e.field&&i.sum(e.field),e.sort&&i.sort(e.sort),function(e,t,n){for(var r,i=0,u=t.length;i<u;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?Kh:kt.one);try{this.value=n(i)}catch(a){Object(kt.error)(a)}return i.each(function(e){!function(e,t,n){for(var r=e.data,i=0,u=t.length-1;i<u;++i)r[n[i]]=e[t[i]];r[n[u]]=e.children?e.children.length:0}(e,r,u)}),t.reflow(e.modified()).modifies(u).modifies("leaf")};var Qh=["x","y","r","depth","children"];function Zh(e){Jh.call(this,e)}Zh.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Qh.length,default:Qh}]};var ep=Object(kt.inherits)(Zh,Jh);ep.layout=Vh.c,ep.params=["size","padding"],ep.fields=Qh;var tp=["x0","y0","x1","y1","depth","children"];function np(e){Jh.call(this,e)}np.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:tp.length,default:tp}]};var rp=Object(kt.inherits)(np,Jh);function ip(e){Bn.call(this,null,e)}rp.layout=Vh.f,rp.params=["size","round","padding"],rp.fields=tp,ip.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(kt.inherits)(ip,Bn).transform=function(e,t){t.source||Object(kt.error)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),u=!this.value||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),u&&(n=i.source.length?Yh(Object(Vh.g)().id(e.key).parentId(e.parentKey)(i.source),e.key,kt.truthy):Yh(Object(Vh.g)()([{}]),e.key,e.key)),i.source.root=this.value=n,i};var up={tidy:Vh.h,cluster:Vh.a},ap=["x","y","depth","children"];function op(e){Jh.call(this,e)}op.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:ap.length,default:ap}]};var cp=Object(kt.inherits)(op,Jh);function fp(e){Bn.call(this,[],e)}cp.layout=function(e){var t=e||"tidy";if(up.hasOwnProperty(t))return up[t]();Object(kt.error)("Unrecognized Tree layout method: "+t)},cp.params=["size","nodeSize"],cp.fields=ap,fp.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(kt.inherits)(fp,Bn).transform=function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),u={};return r||Object(kt.error)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,function(e){u[at(e)]=1}),r.each(function(e){var t=e.data,n=e.parent&&e.parent.data;n&&u[at(t)]&&u[at(n)]&&i.add.push(ct({source:n,target:t}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,function(e){u[at(e)]=1}),n.forEach(function(e){(u[at(e.source)]||u[at(e.target)])&&i.mod.push(e)})),i};var sp={binary:Vh.j,dice:Vh.k,slice:Vh.m,slicedice:Vh.n,squarify:Vh.o,resquarify:Vh.l},lp=["x0","y0","x1","y1","depth","children"];function dp(e){Jh.call(this,e)}dp.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:lp.length,default:lp}]};var hp=Object(kt.inherits)(dp,Jh);hp.layout=function(){var e=Object(Vh.i)();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){sp.hasOwnProperty(t)?e.tile(sp[t]):Object(kt.error)("Unrecognized Treemap layout method: "+t)},e},hp.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],hp.fields=lp;var pp=n(70);function mp(e){Bn.call(this,null,e)}mp.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var vp=Object(kt.inherits)(mp,Bn),gp=[[-1e5,-1e5],[1e5,1e5]];vp.transform=function(e,t){var n,r,i,u,a=e.as||"path",o=t.source;for(n=Object(pp.a)().x(e.x).y(e.y),e.size?n.size(e.size):n.extent(e.extent||gp),this.value=n=n(o),r=n.polygons(),i=0,u=o.length;i<u;++i)o[i][a]=r[i]?"M"+r[i].join("L")+"Z":null;return t.reflow(e.modified()).modifies(a)};var bp=Math.PI/180,yp=64,xp=2048,wp=function(){var e,t,n,r,i,u,a,o=[256,256],c=Op,f=[],s=Math.random,l={};function d(e,t,n){for(var r,i,u,a,f,l=t.x,d=t.y,h=Math.sqrt(o[0]*o[0]+o[1]*o[1]),p=c(o),m=s()<.5?1:-1,v=-m;(r=p(v+=m))&&(i=~~r[0],u=~~r[1],!(Math.min(Math.abs(i),Math.abs(u))>=h));)if(t.x=l+i,t.y=d+u,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>o[0]||t.y+t.y1>o[1])&&(!n||!Ap(t,e,o[0]))&&(!n||(f=n,(a=t).x+a.x1>f[0].x&&a.x+a.x0<f[1].x&&a.y+a.y1>f[0].y&&a.y+a.y0<f[1].y))){for(var g,b=t.sprite,y=t.width>>5,x=o[0]>>5,w=t.x-(y<<4),_=127&w,A=32-_,E=t.y1-t.y0,O=(t.y+t.y0)*x+(w>>5),k=0;k<E;k++){g=0;for(var C=0;C<=y;C++)e[O+C]|=g<<A|(C<y?(g=b[k*y+C])>>>_:0);O+=x}return t.sprite=null,!0}return!1}return l.layout=function(){for(var c=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(yp<<5)/t,e.height=xp/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(qu()),l=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((o[0]>>5)*o[1]),h=null,p=f.length,m=-1,v=[],g=f.map(function(o){return{text:e(o),font:t(o),style:r(o),weight:i(o),rotate:u(o),size:~~n(o),padding:a(o),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:o}}).sort(function(e,t){return t.size-e.size});++m<p;){var b=g[m];b.x=o[0]*(s()+.5)>>1,b.y=o[1]*(s()+.5)>>1,_p(c,b,g,m),b.hasText&&d(l,b,h)&&(v.push(b),h?Ep(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=o[0]>>1,b.y-=o[1]>>1)}return v},l.words=function(e){return arguments.length?(f=e,l):f},l.size=function(e){return arguments.length?(o=[+e[0],+e[1]],l):o},l.font=function(e){return arguments.length?(t=kp(e),l):t},l.fontStyle=function(e){return arguments.length?(r=kp(e),l):r},l.fontWeight=function(e){return arguments.length?(i=kp(e),l):i},l.rotate=function(e){return arguments.length?(u=kp(e),l):u},l.text=function(t){return arguments.length?(e=kp(t),l):e},l.spiral=function(e){return arguments.length?(c=Cp[e]||e,l):c},l.fontSize=function(e){return arguments.length?(n=kp(e),l):n},l.padding=function(e){return arguments.length?(a=kp(e),l):a},l.random=function(e){return arguments.length?(s=e,l):s},l};function _p(e,t,n,r){if(!t.sprite){var i=e.context,u=e.ratio;i.clearRect(0,0,(yp<<5)/u,xp/u);var a,o,c,f,s,l=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/u)+"px "+t.font,a=i.measureText(t.text+"m").width*u,c=t.size<<1,t.rotate){var m=Math.sin(t.rotate*bp),v=Math.cos(t.rotate*bp),g=a*v,b=a*m,y=c*v,x=c*m;a=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,c=~~Math.max(Math.abs(b+y),Math.abs(b-y))}else a=a+31>>5<<5;if(c>h&&(h=c),l+a>=yp<<5&&(l=0,d+=h,h=0),d+c>=xp)break;i.translate((l+(a>>1))/u,(d+(c>>1))/u),t.rotate&&i.rotate(t.rotate*bp),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=c,t.xoff=l,t.yoff=d,t.x1=a>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,l+=a}for(var w=i.getImageData(0,0,(yp<<5)/u,xp/u).data,_=[];--r>=0;)if((t=n[r]).hasText){for(o=(a=t.width)>>5,c=t.y1-t.y0,f=0;f<c*o;f++)_[f]=0;if(null==(l=t.xoff))return;d=t.yoff;var A=0,E=-1;for(s=0;s<c;s++){for(f=0;f<a;f++){var O=o*s+(f>>5),k=w[(d+s)*(yp<<5)+(l+f)<<2]?1<<31-f%32:0;_[O]|=k,A|=k}A?E=s:(t.y0++,c--,s--,d++)}t.y1=t.y0+E,t.sprite=_.slice(0,(t.y1-t.y0)*o)}}}function Ap(e,t,n){n>>=5;for(var r,i=e.sprite,u=e.width>>5,a=e.x-(u<<4),o=127&a,c=32-o,f=e.y1-e.y0,s=(e.y+e.y0)*n+(a>>5),l=0;l<f;l++){r=0;for(var d=0;d<=u;d++)if((r<<c|(d<u?(r=i[l*u+d])>>>o:0))&t[s+d])return!0;s+=n}return!1}function Ep(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Op(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function kp(e){return"function"===typeof e?e:function(){return e}}var Cp={archimedean:Op,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},Dp=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},Fp="identity",Mp="linear",Sp="log",jp="pow",Tp="sqrt",Np="symlog",Bp="time",Pp="utc",Rp="sequential",zp="diverging",Lp="quantile",Ip="quantize",Up="threshold",qp="ordinal",Wp="point",Hp="band",Yp="bin-ordinal";ys.timeMillisecond,ys.timeSecond,ys.timeMinute,ys.timeHour,ys.timeDay,ys.timeWeek,ys.timeMonth,ys.timeYear,ys.utcMillisecond,ys.utcSecond,ys.utcMinute,ys.utcHour,ys.utcDay,ys.utcWeek,ys.utcMonth,ys.utcYear;var Vp=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},Gp=function(e){return function(t){var n,r,i,u,a=e.range(),o=t[0],c=t[1],f=-1;for(c<o&&(r=o,o=c,c=r),i=0,u=a.length;i<u;++i)a[i]>=o&&a[i]<=c&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(a[f]),c=e.invertExtent(a[n]),[void 0===o[0]?o[1]:o[0],void 0===c[1]?c[0]:c[1]]}},$p=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Xp=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return $p(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var Jp=Xp($p),Kp=Jp.right,Qp=(Jp.left,Kp);var Zp=Array.prototype,em=(Zp.slice,Zp.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u}),tm=Math.sqrt(50),nm=Math.sqrt(10),rm=Math.sqrt(2),im=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=um(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function um(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=tm?10:u>=nm?5:u>=rm?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=tm?10:u>=nm?5:u>=rm?2:1)}function am(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=tm?i*=10:u>=nm?i*=5:u>=rm&&(i*=2),t<e?-i:i}var om=function(e){return null===e?NaN:+e};function cm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:om;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}function fm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sm(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var lm=Symbol("implicit");function dm(){var e=new Map,t=[],n=[],r=lm;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==lm)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,u=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var f=o.value,s=f+"";e.has(s)||e.set(s,t.push(f))}}catch(l){u=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return dm(t,n).unknown(r)},fm.apply(i,arguments),i}var hm=function(e){return function(){return e}},pm=function(e){return+e},mm=[0,1];function vm(e){return e}function gm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hm(isNaN(t)?NaN:.5)}function bm(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function ym(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=gm(i,r),u=n(a,u)):(r=gm(r,i),u=n(u,a)),function(e){return u(r(e))}}function xm(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=gm(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(t){var n=Qp(e,t,1,r)-1;return u[n](i[n](t))}}function wm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _m(){var e,t,n,r,i,u,a=mm,o=mm,c=Hs.interpolate,f=vm;function s(){return r=Math.min(a.length,o.length)>2?xm:ym,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),Hs.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=Array.from(e,pm),f===vm||(f=bm(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.rangeRound=function(e){return o=Array.from(e),c=Hs.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?bm(a):vm,l):f!==vm},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function Am(e,t){return _m()(e,t)}var Em=function(e,t,n,r){var i,u=am(e,t,n);switch((r=Object(nl.formatSpecifier)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(nl.precisionPrefix)(u,a))||(r.precision=i),Object(nl.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(nl.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(nl.precisionFixed)(u))||(r.precision=i-2*("%"===r.type))}return Object(nl.format)(r)};function Om(e){var t=e.domain;return e.ticks=function(e){var n=t();return im(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Em(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),u=0,a=i.length-1,o=i[u],c=i[a];return c<o&&(r=o,o=c,c=r,r=u,u=a,a=r),(r=um(o,c,n))>0?r=um(o=Math.floor(o/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=um(o=Math.ceil(o*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[u]=Math.floor(o/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[u]=Math.ceil(o*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}var km=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function Cm(e){return Math.log(e)}function Dm(e){return Math.exp(e)}function Fm(e){return-Math.log(-e)}function Mm(e){return-Math.exp(-e)}function Sm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jm(e){return function(t){return-e(-t)}}function Tm(e){var t,n,r=e(Cm,Dm),i=r.domain,u=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),n=function(e){return 10===e?Sm:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),i()[0]<0?(t=jm(t),n=jm(n),e(Fm,Mm)):e(Cm,Dm),r}return r.base=function(e){return arguments.length?(u=+e,a()):u},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),o=a[0],c=a[a.length-1];(r=c<o)&&(d=o,o=c,c=d);var f,s,l,d=t(o),h=t(c),p=null==e?10:+e,m=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,o>0){for(;d<h;++d)for(s=1,f=n(d);s<u;++s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else for(;d<h;++d)for(s=u-1,f=n(d);s>=1;--s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else m=im(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Object(nl.format)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,u*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*u<u-.5&&(r*=u),r<=a?i(e):""}},r.nice=function(){return i(km(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Nm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pm(e){var t=1,n=e(Nm(t),Bm(t));return n.constant=function(n){return arguments.length?e(Nm(t=+n),Bm(t)):t},Om(n)}function Rm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lm(e){return e<0?-e*e:e*e}function Im(e){var t=e(vm,vm),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(vm,vm):.5===n?e(zm,Lm):e(Rm(n),Rm(1/n)):n},Om(t)}function Um(){var e=Im(_m());return e.copy=function(){return wm(e,Um()).exponent(e.exponent())},fm.apply(e,arguments),e}var qm=1e3,Wm=60*qm,Hm=60*Wm,Ym=24*Hm,Vm=7*Ym,Gm=30*Ym,$m=365*Ym;function Xm(e){return new Date(e)}function Jm(e){return e instanceof Date?+e:+new Date(+e)}function Km(e,t,n,r,i,u,a,o,c){var f=Am(vm,vm),s=f.invert,l=f.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[a,1,qm],[a,5,5*qm],[a,15,15*qm],[a,30,30*qm],[u,1,Wm],[u,5,5*Wm],[u,15,15*Wm],[u,30,30*Wm],[i,1,Hm],[i,3,3*Hm],[i,6,6*Hm],[i,12,12*Hm],[r,1,Ym],[r,2,2*Ym],[n,1,Vm],[t,1,Gm],[t,3,3*Gm],[e,1,$m]];function w(o){return(a(o)<o?d:u(o)<o?h:i(o)<o?p:r(o)<o?m:t(o)<o?n(o)<o?v:g:e(o)<o?b:y)(o)}function _(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var u=Math.abs(r-n)/t,a=Xp(function(e){return e[2]}).right(x,u);a===x.length?(i=am(n/$m,r/$m,t),t=e):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],t=a[0]):(i=Math.max(am(n,r,t),1),t=o)}return null==i?t:t.every(i)}return f.invert=function(e){return new Date(s(e))},f.domain=function(e){return arguments.length?l(Array.from(e,Jm)):l().map(Xm)},f.ticks=function(e,t){var n,r=l(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=_(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?w:c(t)},f.nice=function(e,t){var n=l();return(e=_(e,n[0],n[n.length-1],t))?l(km(n,e)):f},f.copy=function(){return wm(f,Km(e,t,n,r,i,u,a,o,c))},f}function Qm(){var e,t,n,r,i,u=0,a=1,o=vm,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){var o;return arguments.length?(o=Or(i,2),u=o[0],a=o[1],e=r(u=+u),t=r(a=+a),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function Zm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ev(){var e=Om(Qm()(vm));return e.copy=function(){return Zm(e,ev())},sm.apply(e,arguments)}function tv(){var e=Im(Qm());return e.copy=function(){return Zm(e,tv()).exponent(e.exponent())},sm.apply(e,arguments)}function nv(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=vm,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){var s;return arguments.length?(s=Or(a,3),o=s[0],c=s[1],f=s[2],e=u(o=+o),t=u(c=+c),n=u(f=+f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function rv(){var e=Im(nv());return e.copy=function(){return Zm(e,rv()).exponent(e.exponent())},sm.apply(e,arguments)}function iv(){var e,t,n=dm().unknown(void 0),r=n.domain,i=n.range,u=[0,1],a=!1,o=0,c=0,f=.5;function s(){var n=r().length,s=u[1]<u[0],l=u[s-0],d=u[1-s],h=Dp(n,o,c);e=(d-l)/(h||1),a&&(e=Math.floor(e)),l+=(d-l-e*(n-o))*f,t=e*(1-o),a&&(l=Math.round(l),t=Math.round(t));var p=em(n).map(function(t){return l+e*t});return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),s()):r()},n.range=function(e){return arguments.length?(u=[+e[0],+e[1]],s()):u.slice()},n.rangeRound=function(e){return u=[+e[0],+e[1]],a=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,s()):a},n.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),o=c,s()):o},n.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),s()):o},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,o,c=+e[0],f=+e[1],s=u[1]<u[0],l=s?i().reverse():i(),d=l.length-1;if(c===c&&f===f&&(f<c&&(o=c,c=f,f=o),!(f<l[0]||c>u[1-s])))return n=Math.max(0,Kp(l,c)-1),a=c===f?n:Kp(l,f)-1,c-l[n]>t+1e-10&&++n,s&&(o=n,n=d-a,a=d-o),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return iv().domain(r()).range(u).round(a).paddingInner(o).paddingOuter(c).align(f)},s()}var uv=function(e,t,n){return e.fields=t||[],e.fname=n,e};var av=function(e){throw Error(e)},ov=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||av("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&av("Access path missing closing bracket: "+e),u&&av("Access path missing closing quote: "+e),n>t&&(n++,f()),i},cv=Array.isArray,fv=function(e){return e===Object(e)},sv=function(e){return"string"===typeof e};function lv(e){return cv(e)?"["+e.map(lv)+"]":fv(e)||sv(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var dv=[];(function(e,t){var n=ov(e),r="return _["+n.map(lv).join("][")+"];";uv(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),uv(function(e){return e},dv,"identity"),uv(function(){return 0},dv,"zero"),uv(function(){return 1},dv,"one"),uv(function(){return!0},dv,"true"),uv(function(){return!1},dv,"false");var hv=function(e){return e[e.length-1]};var pv=Array.prototype.map;var mv,vv=Array.prototype.slice;function gv(e,t){return arguments.length>1?(bv[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?Vp(n):n.invertExtent?Gp(n):void 0),n.type=e,n}}(e,t),this):bv.hasOwnProperty(e)?bv[e]:void 0}var bv=(mv={},Object(_s.a)(mv,Fp,function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,pm),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,pm):[0,1],Om(r)}),Object(_s.a)(mv,Mp,function e(){var t=Am(vm,vm);return t.copy=function(){return wm(t,e())},fm.apply(t,arguments),Om(t)}),Object(_s.a)(mv,Sp,function e(){var t=Tm(_m()).domain([1,10]);return t.copy=function(){return wm(t,e()).base(t.base())},fm.apply(t,arguments),t}),Object(_s.a)(mv,jp,Um),Object(_s.a)(mv,Tp,function(){return Um.apply(null,arguments).exponent(.5)}),Object(_s.a)(mv,Np,function e(){var t=Pm(_m());return t.copy=function(){return wm(t,e()).constant(t.constant())},fm.apply(t,arguments)}),Object(_s.a)(mv,Bp,function(){return fm.apply(Km(ys.timeYear,ys.timeMonth,ys.timeWeek,ys.timeDay,ys.timeHour,ys.timeMinute,ys.timeSecond,ys.timeMillisecond,cn.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),Object(_s.a)(mv,Pp,function(){return fm.apply(Km(ys.utcYear,ys.utcMonth,ys.utcWeek,ys.utcDay,ys.utcHour,ys.utcMinute,ys.utcSecond,ys.utcMillisecond,cn.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Object(_s.a)(mv,Rp,ev),Object(_s.a)(mv,Rp+"-"+Mp,ev),Object(_s.a)(mv,Rp+"-"+Sp,function e(){var t=Tm(Qm()).domain([1,10]);return t.copy=function(){return Zm(t,e()).base(t.base())},sm.apply(t,arguments)}),Object(_s.a)(mv,Rp+"-"+jp,tv),Object(_s.a)(mv,Rp+"-"+Tp,function(){return tv.apply(null,arguments).exponent(.5)}),Object(_s.a)(mv,Rp+"-"+Np,function e(){var t=Pm(Qm());return t.copy=function(){return Zm(t,e()).constant(t.constant())},sm.apply(t,arguments)}),Object(_s.a)(mv,zp+"-"+Mp,function e(){var t=Om(nv()(vm));return t.copy=function(){return Zm(t,e())},sm.apply(t,arguments)}),Object(_s.a)(mv,zp+"-"+Sp,function e(){var t=Tm(nv()).domain([.1,1,10]);return t.copy=function(){return Zm(t,e()).base(t.base())},sm.apply(t,arguments)}),Object(_s.a)(mv,zp+"-"+jp,rv),Object(_s.a)(mv,zp+"-"+Tp,function(){return rv.apply(null,arguments).exponent(.5)}),Object(_s.a)(mv,zp+"-"+Np,function e(){var t=Pm(nv());return t.copy=function(){return Zm(t,e()).constant(t.constant())},sm.apply(t,arguments)}),Object(_s.a)(mv,Lp,function e(){var t,n=[],r=[],i=[];function u(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=cm(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[Qp(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value;null==c||isNaN(c=+c)||n.push(c)}}catch(f){r=!0,i=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.sort($p),u()},a.range=function(e){return arguments.length?(r=Array.from(e),u()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},fm.apply(a,arguments)}),Object(_s.a)(mv,Ip,function e(){var t,n=0,r=1,i=1,u=[.5],a=[0,1];function o(e){return e<=e?a[Qp(u,e,0,i)]:t}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){var t;return arguments.length?(t=Or(e,2),n=t[0],r=t[1],n=+n,r=+r,c()):[n,r]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,u[0]]:t>=i?[u[i-1],r]:[u[t-1],u[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return e().domain([n,r]).range(a).unknown(t)},fm.apply(Om(o),arguments)}),Object(_s.a)(mv,Up,function e(){var t,n=[.5],r=[0,1],i=1;function u(e){return e<=e?r[Qp(n,e,0,i)]:t}return u.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return e().domain(n).range(r).unknown(t)},fm.apply(u,arguments)}),Object(_s.a)(mv,Yp,function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Qp(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return pv.call(e,function(e){return+e})}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=vv.call(e),r):n.slice()},r.tickFormat=function(e,n){return Em(t[0],hv(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),Object(_s.a)(mv,qp,dm),Object(_s.a)(mv,Hp,iv),Object(_s.a)(mv,Wp,function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(iv().paddingInner(1))}),mv);for(var yv in bv)gv(yv,bv[yv]);function xv(e,t,n){return Hs.piecewise(function(e,t){var n=Hs[function(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function wv(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function _v(e,t){for(var n in e)Ev(n,t(e[n]))}var Av={};function Ev(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Av[e]=t,this):Av[e]}_v({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},wv),_v({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(e){return xv(wv(e))});var Ov=Math.random;var kv=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var Cv=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return kv(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}}(kv);Cv.right,Cv.left;var Dv=Array.prototype;Dv.slice,Dv.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Fv=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Mv=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Sv(e){Bn.call(this,wp(),e)}function jv(e){return new Uint32Array(e)}function Tv(e,t,n){var r=(t<257?function(e){return new Uint8Array(e)}:t<65537?function(e){return new Uint16Array(e)}:jv)(e);return n&&r.set(n),r}Sv.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Fv}]},Object(kt.inherits)(Sv,Bn).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(kt.error)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||Mv.some(function(n){var r=e[n];return Object(kt.isFunction)(r)&&t.modified(r.fields)})){var r,i=t.materialize(t.SOURCE).source,u=this.value,a=e.as||Fv,o=e.fontSize||14;if(Object(kt.isFunction)(o)?r=e.fontSizeRange:o=Object(kt.constant)(o),r){var c=o,f=gv("sqrt")().domain(function(e,t){for(var n,r=1/0,i=-1/0,u=0,a=t.length;u<a;++u)(n=e(t[u]))<r&&(r=n),n>i&&(i=n);return[r,i]}(c,i)).range(r);o=function(e){return f(c(e))}}i.forEach(function(e){e[a[0]]=NaN,e[a[1]]=NaN,e[a[3]]=0});for(var s,l,d=u.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(o).random(Ov).layout(),h=u.size(),p=h[0]>>1,m=h[1]>>1,v=0,g=d.length;v<g;++v)(l=(s=d[v]).datum)[a[0]]=s.x+p,l[a[1]]=s.y+m,l[a[2]]=s.font,l[a[3]]=s.size,l[a[4]]=s.style,l[a[5]]=s.weight,l[a[6]]=s.rotate;return t.reflow(n).modifies(a)}};var Nv=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),u=e.index,a=i[0],o=i[1],c=u.length;for(n=0;n<a;++n)t[u[n]]|=r;for(n=o;n<c;++n)t[u[n]]|=r;return this}}},Bv=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var Pv=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Bv(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}}(Bv),Rv=Pv.right,zv=Pv.left;var Lv=Array.prototype;Lv.slice,Lv.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Iv=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r};function Uv(){var e=jv(0),t=[],n=0;return{insert:function(r,i,u){if(!i.length)return[];var a,o,c,f,s,l=n,d=i.length,h=Array(d),p=jv(d);for(c=0;c<d;++c)h[c]=r(i[c]),p[c]=c;if(s=p,(f=h).sort.call(s,function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0}),h=Iv(f,s),l)a=t,o=e,t=Array(l+d),e=jv(l+d),function(e,t,n,r,i,u,a,o,c){var f,s=0,l=0;for(f=0;s<r&&l<a;++f)t[s]<i[l]?(o[f]=t[s],c[f]=n[s++]):(o[f]=i[l],c[f]=u[l++]+e);for(;s<r;++s,++f)o[f]=t[s],c[f]=n[s];for(;l<a;++l,++f)o[f]=i[l],c[f]=u[l]+e}(u,a,o,l,h,p,d,t,e);else{if(u>0)for(c=0;c<d;++c)p[c]+=u;t=h,e=p}return n=l+d,{index:p,value:h}},remove:function(r,i){var u,a,o,c=n;for(a=0;!i[e[a]]&&a<c;++a);for(o=a;a<c;++a)i[u=e[a]]||(e[o]=u,t[o]=t[a],++o);n=c-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[zv(r,e[0],0,i),Rv(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function qv(e){Bn.call(this,function(){var e=8,t=[],n=jv(0),r=Tv(0,e),i=Tv(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,u=e.length;r<u;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var u,a,o,c=t.length,f=Array(c-e),s=t;for(a=0;!n[a]&&a<c;++a)f[a]=t[a],s[a]=a;for(o=a;a<c;++a)u=t[a],n[a]?s[a]=-1:(s[a]=o,r[o]=r[a],i[o]=i[a],f[o]=u,u._index=o++),r[a]=0;return t=f,s},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=Tv(t,e,r),i=Tv(t,e))}}}(),e),this._indices=null,this._dims=null}qv.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var Wv=Object(kt.inherits)(qv,Bn);function Hv(e){Bn.call(this,null,e)}Wv.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some(function(e){return t.modified(e.fields)})?this.reinit(e,t):this.eval(e,t):this.init(e,t)},Wv.init=function(e,t){for(var n,r,i=e.fields,u=e.query,a=this._indices={},o=this._dims=[],c=u.length,f=0;f<c;++f)r=a[n=i[f].fname]||(a[n]=Uv()),o.push(Nv(r,f,u[f]));return this.eval(e,t)},Wv.reinit=function(e,t){var n,r,i,u,a,o,c,f,s,l=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,m=this._dims,v=this.value,g=v.curr(),b=v.prev(),y=v.all(),x=l.rem=l.add,w=l.mod,_=h.length,A={};if(b.set(g),t.rem.length&&(a=this.remove(e,t,l)),t.add.length&&v.add(t.add),t.mod.length)for(o={},c=0,f=(u=t.mod).length;c<f;++c)o[u[c]._index]=1;for(c=0;c<_;++c)s=d[c],(!m[c]||e.modified("fields",c)||t.modified(s.fields))&&((n=A[i=s.fname])||(p[i]=r=Uv(),A[i]=n=r.insert(s,t.source,0)),m[c]=Nv(r,c,h[c]).onAdd(n,g));for(c=0,f=v.data().length;c<f;++c)a[c]||(b[c]!==g[c]?x.push(c):o[c]&&g[c]!==y&&w.push(c));return v.mask=(1<<_)-1,l},Wv.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},Wv.insert=function(e,t,n){var r,i,u,a=t.add,o=this.value,c=this._dims,f=this._indices,s=e.fields,l={},d=n.add,h=o.size(),p=h+a.length,m=c.length;o.resize(p,m),o.add(a);var v=o.curr(),g=o.prev(),b=o.all();for(r=0;r<m;++r)u=l[i=s[r].fname]||(l[i]=f[i].insert(s[r],a,h)),c[r].onAdd(u,v);for(;h<p;++h)g[h]=b,v[h]!==b&&d.push(h)},Wv.modify=function(e,t){var n,r,i,u=t.mod,a=this.value,o=a.curr(),c=a.all(),f=e.mod;for(n=0,r=f.length;n<r;++n)o[i=f[n]._index]!==c&&u.push(i)},Wv.remove=function(e,t,n){var r,i,u,a,o=this._indices,c=this.value,f=c.curr(),s=c.prev(),l=c.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[u=p[r]._index]=1,s[u]=a=f[u],f[u]=l,a!==l&&h.push(u);for(u in o)o[u].remove(i,d);return this.reindex(t,i,d),d},Wv.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter(function(){var e=i.remove(t,n);for(var u in r)r[u].reindex(e)})},Wv.update=function(e,t,n){var r,i,u=this._dims,a=e.query,o=t.stamp,c=u.length,f=0;for(n.filters=0,i=0;i<c;++i)e.modified("query",i)&&(r=i,++f);if(1===f)f=u[r].one,this.incrementOne(u[r],a[r],n.add,n.rem);else for(i=0,f=0;i<c;++i)e.modified("query",i)&&(f|=u[i].one,this.incrementAll(u[i],a[i],o,n.add),n.rem=n.add);return f},Wv.incrementAll=function(e,t,n,r){var i,u,a,o=this.value,c=o.seen(),f=o.curr(),s=o.prev(),l=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],m=h[1],v=d[0],g=d[1],b=e.one;if(p<v)for(i=p,u=Math.min(v,m);i<u;++i)c[a=l[i]]!==n&&(s[a]=f[a],c[a]=n,r.push(a)),f[a]^=b;else if(p>v)for(i=v,u=Math.min(p,g);i<u;++i)c[a=l[i]]!==n&&(s[a]=f[a],c[a]=n,r.push(a)),f[a]^=b;if(m>g)for(i=Math.max(p,g),u=m;i<u;++i)c[a=l[i]]!==n&&(s[a]=f[a],c[a]=n,r.push(a)),f[a]^=b;else if(m<g)for(i=Math.max(v,m),u=g;i<u;++i)c[a=l[i]]!==n&&(s[a]=f[a],c[a]=n,r.push(a)),f[a]^=b;e.range=t.slice()},Wv.incrementOne=function(e,t,n,r){var i,u,a,o=this.value.curr(),c=e.index(),f=e.bisect(e.range),s=e.bisect(t),l=s[0],d=s[1],h=f[0],p=f[1],m=e.one;if(l<h)for(i=l,u=Math.min(h,d);i<u;++i)o[a=c[i]]^=m,n.push(a);else if(l>h)for(i=h,u=Math.min(l,p);i<u;++i)o[a=c[i]]^=m,r.push(a);if(d>p)for(i=Math.max(l,p),u=d;i<u;++i)o[a=c[i]]^=m,n.push(a);else if(d<p)for(i=Math.max(h,d),u=p;i<u;++i)o[a=c[i]]^=m,r.push(a);e.range=t.slice()},Hv.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(kt.inherits)(Hv,Bn).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var u=t.fork(t.ALL),a=r.data(),o=r.curr(),c=r.prev(),f=function(e){return o[e]&n?null:a[e]};return u.filter(u.MOD,f),i&i-1?(u.filter(u.ADD,function(e){var t=o[e]&n;return!t&&t^c[e]&n?a[e]:null}),u.filter(u.REM,function(e){var t=o[e]&n;return t&&!(t^t^c[e]&n)?a[e]:null})):(u.filter(u.ADD,f),u.filter(u.REM,function(e){return(o[e]&n)===i?a[e]:null})),u.filter(u.SOURCE,function(e){return f(e._index)})};var Yv=n(88),Vv=function(e){var t,n,r,i,u,a,o,c,f=e.maxbins||20,s=e.base||10,l=Math.log(s),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],m=p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(u=m/f,a=0,o=e.steps.length;a<o&&e.steps[a]<u;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(f)/l),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(m)/l)-n));Math.ceil(m/t)>f;)t*=s;for(a=0,o=d.length;a<o;++a)(u=t/d[a])>=r&&m/u<=f&&(t=u)}return i=(u=Math.log(t))>=0?0:1+~~(-u/l),c=Math.pow(s,-i-1),(e.nice||void 0===e.nice)&&(h=h<(u=Math.floor(h/t+c)*t)?u-t:u,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}},Gv=function(e,t){var n,r=[],i=e.length,u=-1;if(null==t)for(;++u<i;)isNaN(n=$v(e[u]))||r.push(n);else for(;++u<i;)isNaN(n=$v(t(e[u],u,e)))||r.push(n);return r};function $v(e){return null===e?NaN:+e}var Xv=Math.random;function Jv(e){Xv=e}var Kv=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Qv=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Kv(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var Zv=Qv(Kv),eg=Zv.right,tg=(Zv.left,eg);function ng(e,t){var n,r=0,i=0,u=0;if(void 0===t){var a=!0,o=!1,c=void 0;try{for(var f,s=e[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var l=f.value;null!=l&&(l=+l)>=l&&(u+=(n=l-i)*(l-(i+=n/++r)))}}catch(y){o=!0,c=y}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}}else{var d=-1,h=!0,p=!1,m=void 0;try{for(var v,g=e[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;null!=(b=t(b,++d,e))&&(b=+b)>=b&&(u+=(n=b-i)*(b-(i+=n/++r)))}}catch(y){p=!0,m=y}finally{try{h||null==g.return||g.return()}finally{if(p)throw m}}}if(r>1)return u/(r-1)}var rg=Array.prototype,ig=(rg.slice,rg.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u}),ug=Math.sqrt(50),ag=Math.sqrt(10),og=Math.sqrt(2),cg=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=fg(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function fg(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=ug?10:u>=ag?5:u>=og?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=ug?10:u>=ag?5:u>=og?2:1)}function sg(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=ug?i*=10:u>=ag?i*=5:u>=og&&(i*=2),t<e?-i:i}var lg=function(e){return null===e?NaN:+e};function dg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lg;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}var hg=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,u,a,o,c=Gv(e,r),f=c.length,s=t;for(a=0,o=Array(s);a<s;++a){for(i=0,u=0;u<f;++u)i+=c[~~(Xv()*f)];o[a]=i/f}return[dg(o.sort(Kv),n/2),dg(o,1-n/2)]},pg=function(e,t){var n=Gv(e,t);return[dg(n.sort(Kv),.25),dg(n,.5),dg(n,.75)]},mg=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},vg=function(e,t){null==t&&(t=e,e=0);var n,r,i,u={};return u.min=function(e){return arguments.length?(i=r-(n=e||0),u):n},u.max=function(e){return arguments.length?(i=(r=e||0)-n,u):r},u.sample=function(){return n+Math.floor(i*Xv())},u.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},u.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},u.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},u.min(e).max(t)},gg=function(e,t){var n,r,i=NaN,u={mean:function(e){return arguments.length?(n=e||0,i=NaN,u):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i=NaN,u):r},sample:function(){var e,t,u=0,a=0;if(i===i)return u=i,i=NaN,u;do{e=(u=2*Xv()-1)*u+(a=2*Xv()-1)*a}while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),i=n+a*t*r,n+u*t*r},pdf:function(e){var t=Math.exp(Math.pow(e-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*t},cdf:function(e){var t,i=(e-n)/r,u=Math.abs(i);if(u>37)t=0;else{var a=Math.exp(-u*u/2);u<7.07106781186547?(t=a*((((((.0352624965998911*u+.700383064443688)*u+6.37396220353165)*u+33.912866078383)*u+112.079291497871)*u+221.213596169931)*u+220.206867912376),t/=((((((.0883883476483184*u+1.75566716318264)*u+16.064177579207)*u+86.7807322029461)*u+296.564248779674)*u+637.333633378831)*u+793.826512519948)*u+440.413735824752):t=a/(u+1/(u+2/(u+3/(u+4/(u+.65)))))/2.506628274631}return i>0?1-t:t},icdf:function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),u=2/(Math.PI*i)+Math.log(1-Math.pow(t,2))/2,a=Math.log(1-t*t)/i,o=(t>0?1:-1)*Math.sqrt(Math.sqrt(u*u-a)-u);return n+r*Math.SQRT2*o}};return u.mean(e).stdev(t)},bg=function(e,t){var n=gg(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=function(e){var t=e.length,n=pg(e),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(ng(e)),r)*Math.pow(t,-.2)}(e)),r):t},r.sample=function(){return e[~~(Xv()*i)]+t*n.sample()},r.pdf=function(r){for(var u=0,a=0;a<i;++a)u+=n.pdf((r-e[a])/t);return u/t/i},r.cdf=function(r){for(var u=0,a=0;a<i;++a)u+=n.cdf((r-e[a])/t);return u/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)};var yg=function(e,t){var n,r={},i=0;return r.weights=function(e){return arguments.length?(n=function(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=Xv(),r=e[i-1],u=n[0],a=0;a<i-1;u+=n[++a])if(t<u){r=e[a];break}return r.sample()},r.pdf=function(t){for(var r=0,u=0;u<i;++u)r+=n[u]*e[u].pdf(t);return r},r.cdf=function(t){for(var r=0,u=0;u<i;++u)r+=n[u]*e[u].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)},xg=function(e,t){null==t&&(t=null==e?1:e,e=0);var n,r,i,u={};return u.min=function(e){return arguments.length?(i=r-(n=e||0),u):n},u.max=function(e){return arguments.length?(i=(r=e||0)-n,u):r},u.sample=function(){return n+i*Xv()},u.pdf=function(e){return e>=n&&e<=r?1/i:0},u.cdf=function(e){return e<n?0:e>r?1:(e-n)/i},u.icdf=function(e){return e>=0&&e<=1?n+e*i:NaN},u.min(e).max(t)},wg=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},_g="identity",Ag="linear",Eg="log",Og="pow",kg="sqrt",Cg="symlog",Dg="time",Fg="utc",Mg="sequential",Sg="diverging",jg="quantile",Tg="quantize",Ng="threshold",Bg="ordinal",Pg="point",Rg="band",zg="bin-ordinal";var Lg={millisecond:ys.timeMillisecond,second:ys.timeSecond,minute:ys.timeMinute,hour:ys.timeHour,day:ys.timeDay,week:ys.timeWeek,month:ys.timeMonth,year:ys.timeYear},Ig={millisecond:ys.utcMillisecond,second:ys.utcSecond,minute:ys.utcMinute,hour:ys.utcHour,day:ys.utcDay,week:ys.utcWeek,month:ys.utcMonth,year:ys.utcYear};function Ug(e,t){var n=t===Fg?Ig:Lg;return n.hasOwnProperty(e)&&n[e]}var qg=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},Wg=function(e){return function(t){var n,r,i,u,a=e.range(),o=t[0],c=t[1],f=-1;for(c<o&&(r=o,o=c,c=r),i=0,u=a.length;i<u;++i)a[i]>=o&&a[i]<=c&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(a[f]),c=e.invertExtent(a[n]),[void 0===o[0]?o[1]:o[0],void 0===c[1]?c[0]:c[1]]}};function Hg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Yg(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var Vg=Symbol("implicit");function Gg(){var e=new Map,t=[],n=[],r=Vg;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==Vg)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,u=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var f=o.value,s=f+"";e.has(s)||e.set(s,t.push(f))}}catch(l){u=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Gg(t,n).unknown(r)},Hg.apply(i,arguments),i}var $g=function(e){return function(){return e}},Xg=function(e){return+e},Jg=[0,1];function Kg(e){return e}function Qg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$g(isNaN(t)?NaN:.5)}function Zg(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function eb(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=Qg(i,r),u=n(a,u)):(r=Qg(r,i),u=n(u,a)),function(e){return u(r(e))}}function tb(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Qg(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(t){var n=tg(e,t,1,r)-1;return u[n](i[n](t))}}function nb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rb(){var e,t,n,r,i,u,a=Jg,o=Jg,c=Hs.interpolate,f=Kg;function s(){return r=Math.min(a.length,o.length)>2?tb:eb,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),Hs.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=Array.from(e,Xg),f===Kg||(f=Zg(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.rangeRound=function(e){return o=Array.from(e),c=Hs.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?Zg(a):Kg,l):f!==Kg},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function ib(e,t){return rb()(e,t)}var ub=function(e,t,n,r){var i,u=sg(e,t,n);switch((r=Object(nl.formatSpecifier)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(nl.precisionPrefix)(u,a))||(r.precision=i),Object(nl.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(nl.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(nl.precisionFixed)(u))||(r.precision=i-2*("%"===r.type))}return Object(nl.format)(r)};function ab(e){var t=e.domain;return e.ticks=function(e){var n=t();return cg(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ub(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),u=0,a=i.length-1,o=i[u],c=i[a];return c<o&&(r=o,o=c,c=r,r=u,u=a,a=r),(r=fg(o,c,n))>0?r=fg(o=Math.floor(o/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=fg(o=Math.ceil(o*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[u]=Math.floor(o/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[u]=Math.ceil(o*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}var ob=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function cb(e){return Math.log(e)}function fb(e){return Math.exp(e)}function sb(e){return-Math.log(-e)}function lb(e){return-Math.exp(-e)}function db(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hb(e){return function(t){return-e(-t)}}function pb(e){var t,n,r=e(cb,fb),i=r.domain,u=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),n=function(e){return 10===e?db:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),i()[0]<0?(t=hb(t),n=hb(n),e(sb,lb)):e(cb,fb),r}return r.base=function(e){return arguments.length?(u=+e,a()):u},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),o=a[0],c=a[a.length-1];(r=c<o)&&(d=o,o=c,c=d);var f,s,l,d=t(o),h=t(c),p=null==e?10:+e,m=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,o>0){for(;d<h;++d)for(s=1,f=n(d);s<u;++s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else for(;d<h;++d)for(s=u-1,f=n(d);s>=1;--s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else m=cg(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Object(nl.format)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,u*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*u<u-.5&&(r*=u),r<=a?i(e):""}},r.nice=function(){return i(ob(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function mb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gb(e){var t=1,n=e(mb(t),vb(t));return n.constant=function(n){return arguments.length?e(mb(t=+n),vb(t)):t},ab(n)}function bb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xb(e){return e<0?-e*e:e*e}function wb(e){var t=e(Kg,Kg),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Kg,Kg):.5===n?e(yb,xb):e(bb(n),bb(1/n)):n},ab(t)}function _b(){var e=wb(rb());return e.copy=function(){return nb(e,_b()).exponent(e.exponent())},Hg.apply(e,arguments),e}var Ab=1e3,Eb=60*Ab,Ob=60*Eb,kb=24*Ob,Cb=7*kb,Db=30*kb,Fb=365*kb;function Mb(e){return new Date(e)}function Sb(e){return e instanceof Date?+e:+new Date(+e)}function jb(e,t,n,r,i,u,a,o,c){var f=ib(Kg,Kg),s=f.invert,l=f.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[a,1,Ab],[a,5,5*Ab],[a,15,15*Ab],[a,30,30*Ab],[u,1,Eb],[u,5,5*Eb],[u,15,15*Eb],[u,30,30*Eb],[i,1,Ob],[i,3,3*Ob],[i,6,6*Ob],[i,12,12*Ob],[r,1,kb],[r,2,2*kb],[n,1,Cb],[t,1,Db],[t,3,3*Db],[e,1,Fb]];function w(o){return(a(o)<o?d:u(o)<o?h:i(o)<o?p:r(o)<o?m:t(o)<o?n(o)<o?v:g:e(o)<o?b:y)(o)}function _(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var u=Math.abs(r-n)/t,a=Qv(function(e){return e[2]}).right(x,u);a===x.length?(i=sg(n/Fb,r/Fb,t),t=e):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],t=a[0]):(i=Math.max(sg(n,r,t),1),t=o)}return null==i?t:t.every(i)}return f.invert=function(e){return new Date(s(e))},f.domain=function(e){return arguments.length?l(Array.from(e,Sb)):l().map(Mb)},f.ticks=function(e,t){var n,r=l(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=_(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?w:c(t)},f.nice=function(e,t){var n=l();return(e=_(e,n[0],n[n.length-1],t))?l(ob(n,e)):f},f.copy=function(){return nb(f,jb(e,t,n,r,i,u,a,o,c))},f}function Tb(){var e,t,n,r,i,u=0,a=1,o=Kg,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){var o;return arguments.length?(o=Or(i,2),u=o[0],a=o[1],e=r(u=+u),t=r(a=+a),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function Nb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bb(){var e=ab(Tb()(Kg));return e.copy=function(){return Nb(e,Bb())},Yg.apply(e,arguments)}function Pb(){var e=wb(Tb());return e.copy=function(){return Nb(e,Pb()).exponent(e.exponent())},Yg.apply(e,arguments)}function Rb(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=Kg,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){var s;return arguments.length?(s=Or(a,3),o=s[0],c=s[1],f=s[2],e=u(o=+o),t=u(c=+c),n=u(f=+f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function zb(){var e=wb(Rb());return e.copy=function(){return Nb(e,zb()).exponent(e.exponent())},Yg.apply(e,arguments)}function Lb(){var e,t,n=Gg().unknown(void 0),r=n.domain,i=n.range,u=[0,1],a=!1,o=0,c=0,f=.5;function s(){var n=r().length,s=u[1]<u[0],l=u[s-0],d=u[1-s],h=wg(n,o,c);e=(d-l)/(h||1),a&&(e=Math.floor(e)),l+=(d-l-e*(n-o))*f,t=e*(1-o),a&&(l=Math.round(l),t=Math.round(t));var p=ig(n).map(function(t){return l+e*t});return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),s()):r()},n.range=function(e){return arguments.length?(u=[+e[0],+e[1]],s()):u.slice()},n.rangeRound=function(e){return u=[+e[0],+e[1]],a=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,s()):a},n.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),o=c,s()):o},n.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),s()):o},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,o,c=+e[0],f=+e[1],s=u[1]<u[0],l=s?i().reverse():i(),d=l.length-1;if(c===c&&f===f&&(f<c&&(o=c,c=f,f=o),!(f<l[0]||c>u[1-s])))return n=Math.max(0,eg(l,c)-1),a=c===f?n:eg(l,f)-1,c-l[n]>t+1e-10&&++n,s&&(o=n,n=d-a,a=d-o),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Lb().domain(r()).range(u).round(a).paddingInner(o).paddingOuter(c).align(f)},s()}var Ib=Array.prototype.map;var Ub,qb=Array.prototype.slice;function Wb(e,t){return arguments.length>1?(Hb[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?qg(n):n.invertExtent?Wg(n):void 0),n.type=e,n}}(e,t),this):Hb.hasOwnProperty(e)?Hb[e]:void 0}var Hb=(Ub={},Object(_s.a)(Ub,_g,function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Xg),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Xg):[0,1],ab(r)}),Object(_s.a)(Ub,Ag,function e(){var t=ib(Kg,Kg);return t.copy=function(){return nb(t,e())},Hg.apply(t,arguments),ab(t)}),Object(_s.a)(Ub,Eg,function e(){var t=pb(rb()).domain([1,10]);return t.copy=function(){return nb(t,e()).base(t.base())},Hg.apply(t,arguments),t}),Object(_s.a)(Ub,Og,_b),Object(_s.a)(Ub,kg,function(){return _b.apply(null,arguments).exponent(.5)}),Object(_s.a)(Ub,Cg,function e(){var t=gb(rb());return t.copy=function(){return nb(t,e()).constant(t.constant())},Hg.apply(t,arguments)}),Object(_s.a)(Ub,Dg,function(){return Hg.apply(jb(ys.timeYear,ys.timeMonth,ys.timeWeek,ys.timeDay,ys.timeHour,ys.timeMinute,ys.timeSecond,ys.timeMillisecond,cn.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),Object(_s.a)(Ub,Fg,function(){return Hg.apply(jb(ys.utcYear,ys.utcMonth,ys.utcWeek,ys.utcDay,ys.utcHour,ys.utcMinute,ys.utcSecond,ys.utcMillisecond,cn.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Object(_s.a)(Ub,Mg,Bb),Object(_s.a)(Ub,Mg+"-"+Ag,Bb),Object(_s.a)(Ub,Mg+"-"+Eg,function e(){var t=pb(Tb()).domain([1,10]);return t.copy=function(){return Nb(t,e()).base(t.base())},Yg.apply(t,arguments)}),Object(_s.a)(Ub,Mg+"-"+Og,Pb),Object(_s.a)(Ub,Mg+"-"+kg,function(){return Pb.apply(null,arguments).exponent(.5)}),Object(_s.a)(Ub,Mg+"-"+Cg,function e(){var t=gb(Tb());return t.copy=function(){return Nb(t,e()).constant(t.constant())},Yg.apply(t,arguments)}),Object(_s.a)(Ub,Sg+"-"+Ag,function e(){var t=ab(Rb()(Kg));return t.copy=function(){return Nb(t,e())},Yg.apply(t,arguments)}),Object(_s.a)(Ub,Sg+"-"+Eg,function e(){var t=pb(Rb()).domain([.1,1,10]);return t.copy=function(){return Nb(t,e()).base(t.base())},Yg.apply(t,arguments)}),Object(_s.a)(Ub,Sg+"-"+Og,zb),Object(_s.a)(Ub,Sg+"-"+kg,function(){return zb.apply(null,arguments).exponent(.5)}),Object(_s.a)(Ub,Sg+"-"+Cg,function e(){var t=gb(Rb());return t.copy=function(){return Nb(t,e()).constant(t.constant())},Yg.apply(t,arguments)}),Object(_s.a)(Ub,jg,function e(){var t,n=[],r=[],i=[];function u(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=dg(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[tg(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value;null==c||isNaN(c=+c)||n.push(c)}}catch(f){r=!0,i=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.sort(Kv),u()},a.range=function(e){return arguments.length?(r=Array.from(e),u()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},Hg.apply(a,arguments)}),Object(_s.a)(Ub,Tg,function e(){var t,n=0,r=1,i=1,u=[.5],a=[0,1];function o(e){return e<=e?a[tg(u,e,0,i)]:t}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){var t;return arguments.length?(t=Or(e,2),n=t[0],r=t[1],n=+n,r=+r,c()):[n,r]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,u[0]]:t>=i?[u[i-1],r]:[u[t-1],u[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Hg.apply(ab(o),arguments)}),Object(_s.a)(Ub,Ng,function e(){var t,n=[.5],r=[0,1],i=1;function u(e){return e<=e?r[tg(n,e,0,i)]:t}return u.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return e().domain(n).range(r).unknown(t)},Hg.apply(u,arguments)}),Object(_s.a)(Ub,zg,function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(tg(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return Ib.call(e,function(e){return+e})}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=qb.call(e),r):n.slice()},r.tickFormat=function(e,n){return ub(t[0],j(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),Object(_s.a)(Ub,Bg,Gg),Object(_s.a)(Ub,Rg,Lb),Object(_s.a)(Ub,Pg,function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(Lb().paddingInner(1))}),Ub);for(var Yb in Hb)Wb(Yb,Hb[Yb]);function Vb(e,t){var n=t[0],r=j(t)-n;return function(t){return e(n+t*r)}}function Gb(e,t,n){return Hs.piecewise(Xb(t||"rgb",n),e)}function $b(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function Xb(e,t){var n=Hs[function(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Jb(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Kb(e,t){for(var n in e)Zb(n,t(e[n]))}var Qb={};function Zb(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Qb[e]=t,this):Qb[e]}Kb({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Jb),Kb({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(e){return Gb(Jb(e))});var ey=function(e,t,n){return e.fields=t||[],e.fname=n,e};var ty=function(e){throw Error(e)},ny=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||ty("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&ty("Access path missing closing bracket: "+e),u&&ty("Access path missing closing quote: "+e),n>t&&(n++,f()),i},ry=Array.isArray,iy=function(e){return e===Object(e)},uy=function(e){return"string"===typeof e};function ay(e){return ry(e)?"["+e.map(ay)+"]":iy(e)||uy(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var oy=[];(function(e,t){var n=ny(e),r="return _["+n.map(ay).join("][")+"];";ey(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),ey(function(e){return e},oy,"identity"),ey(function(){return 0},oy,"zero"),ey(function(){return 1},oy,"one"),ey(function(){return!0},oy,"true"),ey(function(){return!1},oy,"false");var cy=function(e){return"function"===typeof e},fy=function(e){return cy(e)?e:function(){return e}},sy=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},ly=function(e){return"[object Date]"===Object.prototype.toString.call(e)};var dy=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},hy=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,function(e,n){var r=t.value,i=r?uy(r)?r:r.user:"default",u=n.item&&n.item.cursor||null;return r&&i===r.user&&u==r.item?r:{user:i,item:u}}),e.add(null,function(e){var t,n=e.cursor,r=this.value;return uy(n)||(r=n.item,n=n.user),t=n&&"default"!==n?n:r||n,"undefined"!==typeof document&&document.body&&(document.body.style.cursor=t),r},{cursor:t})};function py(e,t){var n=e._runtime.data;return n.hasOwnProperty(t)||ty("Unrecognized data set: "+t),n[t]}function my(e,t){dt(t)||ty("Second argument to changes must be a changeset.");var n=py(this,e);return n.modified=!0,this.pulse(n.input,t)}function vy(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function gy(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function by(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function yy(e){var t=by(e),n=vy(e),r=gy(e);e._renderer.background(e._background),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(function(t){try{t(n,r)}catch(i){e.error(i)}})}var xy=function(e,t,n){var r,i,u,a=e._renderer,o=a&&a.canvas();return o&&(u=by(e),i=t.changedTouches?t.changedTouches[0]:t,(r=dc(i,o))[0]-=u[0],r[1]-=u[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function u(e){if(!e)return n;uy(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:fy(e),item:fy(t||{}),group:i,xy:u,x:function(e){return u(e)[0]},y:function(e){return u(e)[1]}}}(e,n,r),t};var wy="view",_y="timer",Ay="window",Ey={trap:!1};function Oy(e){return e.item}function ky(e){var t=e.item.mark.source;return t.source||t}function Cy(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var Dy=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},Fy=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var My=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Fy(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}}(Fy);My.right,My.left;var Sy=Array.prototype,jy=(Sy.slice,Sy.map,Math.sqrt(50)),Ty=Math.sqrt(10),Ny=Math.sqrt(2);function By(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=jy?i*=10:u>=Ty?i*=5:u>=Ny&&(i*=2),t<e?-i:i}var Py="vega-bind",Ry="vega-bind-name",zy="vega-bind-radio",Ly="vega-option-",Iy=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,function(){i.source=!0,e.signal(r.signal,t)})}},r.debounce&&(i.update=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}}(r.debounce,i.update))),function(e,t,n,r){var i=Dy("div",{class:Py});i.appendChild(Dy("span",{class:Ry},n.name||n.signal)),t.appendChild(i);var u=Uy;switch(n.input){case"checkbox":u=qy;break;case"select":u=Wy;break;case"radio":u=Hy;break;case"range":u=Yy}u(e,i,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,function(){i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}};function Uy(e,t,n,r){var i=Dy("input");for(var u in n)"signal"!==u&&"element"!==u&&i.setAttribute("input"===u?"type":u,n[u]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",function(){e.update(i.value)}),e.elements=[i],e.set=function(e){i.value=e}}function qy(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var u=Dy("input",i);t.appendChild(u),u.addEventListener("change",function(){e.update(u.checked)}),e.elements=[u],e.set=function(e){u.checked=!!e||null}}function Wy(e,t,n,r){var i=Dy("select",{name:n.signal});n.options.forEach(function(e){var t={value:e};Vy(e,r)&&(t.selected=!0),i.appendChild(Dy("option",t,e+""))}),t.appendChild(i),i.addEventListener("change",function(){e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(Vy(n.options[t],e))return void(i.selectedIndex=t)}}function Hy(e,t,n,r){var i=Dy("span",{class:zy});t.appendChild(i),e.elements=n.options.map(function(t){var u=Ly+n.signal+"-"+t,a={id:u,type:"radio",name:n.signal,value:t};Vy(t,r)&&(a.checked=!0);var o=Dy("input",a);return o.addEventListener("change",function(){e.update(t)}),i.appendChild(o),i.appendChild(Dy("label",{for:u},t+"")),o}),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)Vy(n[r].value,t)&&(n[r].checked=!0)}}function Yy(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=n.min||Math.min(0,+r)||0,u=n.max||Math.max(100,+r)||100,a=n.step||By(i,u,100),o=Dy("input",{type:"range",name:n.signal,min:i,max:u,step:a});o.value=r;var c=Dy("label",{},+r);function f(){c.textContent=o.value,e.update(+o.value)}t.appendChild(o),t.appendChild(c),o.addEventListener("input",f),o.addEventListener("change",f),e.elements=[o],e.set=function(e){o.value=e,c.textContent=e}}function Vy(e,t){return e===t||e+""===t+""}var Gy=function(e,t,n,r,i,u){return(t=t||new r(e.loader())).initialize(n,vy(e),gy(e),by(e),i,u).background(e._background)},$y=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function Xy(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var Jy=function(e,t,n,r){return Ky.apply(this,arguments)};function Ky(){return(Ky=et(Qe.a.mark(function e(t,n,r,i){var u,a;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=uf(n),(a=u&&u.headless)||ty("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",Gy(t,null,null,a,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qy(){return(Qy=et(Qe.a.mark(function e(t,n){var r;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t!==nf.Canvas&&t!==nf.SVG&&t!==nf.PNG&&ty("Unrecognized image type: "+t),e.next=3,Jy(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===nf.SVG?Zy(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Zy(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function ex(){return(ex=et(Qe.a.mark(function e(t,n){var r;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jy(this,nf.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function tx(){return(tx=et(Qe.a.mark(function e(t){var n;return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jy(this,nf.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var nx,rx="RawCode",ix="Literal",ux="Property",ax="Identifier",ox="ArrayExpression",cx="BinaryExpression",fx="CallExpression",sx="ConditionalExpression",lx="LogicalExpression",dx="MemberExpression",hx="ObjectExpression",px="UnaryExpression";function mx(e){this.type=e}mx.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case ox:return e.elements;case cx:case lx:return[e.left,e.right];case fx:var t=e.arguments.slice();return t.unshift(e.callee),t;case sx:return[e.test,e.consequent,e.alternate];case dx:return[e.object,e.property];case hx:return e.properties;case ux:return[e.key,e.value];case px:return[e.argument];case ax:case ix:case rx:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};var vx=1,gx=2,bx=3,yx=4,xx=5,wx=6,_x=7,Ax=8;(nx={})[vx]="Boolean",nx[gx]="<end>",nx[bx]="Identifier",nx[yx]="Keyword",nx[xx]="Null",nx[wx]="Numeric",nx[_x]="Punctuator",nx[Ax]="String",nx[9]="RegularExpression";new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");var Ex={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},Ox=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var u=e(n[0]);return r&&(u=r+"("+u+")",0===r.lastIndexOf("new ",0)&&(u="("+u+")")),u+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(kt.error)("Missing arguments to clamp function."),t.length>3&&Object(kt.error)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(kt.error)("Missing arguments to if function."),t.length>3&&Object(kt.error)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};var kx="intersect",Cx="union",Dx="E",Fx="R",Mx="R-E",Sx="R-LE",jx="R-RE",Tx="index:unit";function Nx(e,t){for(var n,r,i=t.fields,u=t.values,a=i.length,o=0;o<a;++o)if((r=i[o]).getter=kt.field.getter||Object(kt.field)(r.field),n=r.getter(e),Object(kt.isDate)(n)&&(n=Object(kt.toNumber)(n)),Object(kt.isDate)(u[o])&&(u[o]=Object(kt.toNumber)(u[o])),Object(kt.isDate)(u[o][0])&&(u[o]=u[o].map(kt.toNumber)),r.type===Dx){if(Object(kt.isArray)(u[o])?u[o].indexOf(n)<0:n!==u[o])return!1}else if(r.type===Fx){if(!Object(kt.inrange)(n,u[o]))return!1}else if(r.type===jx){if(!Object(kt.inrange)(n,u[o],!0,!1))return!1}else if(r.type===Mx){if(!Object(kt.inrange)(n,u[o],!1,!1))return!1}else if(r.type===Sx&&!Object(kt.inrange)(n,u[o],!1,!0))return!1;return!0}var Bx,Px={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(function(e){return t.indexOf(e)>=0}):t},R_union:function(e,t){var n=Object(kt.toNumber)(t[0]),r=Object(kt.toNumber)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(kt.toNumber)(t[0]),r=Object(kt.toNumber)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}},Rx="RawCode",zx="Literal",Lx="Property",Ix="Identifier",Ux="ArrayExpression",qx="BinaryExpression",Wx="CallExpression",Hx="ConditionalExpression",Yx="LogicalExpression",Vx="MemberExpression",Gx="ObjectExpression",$x="UnaryExpression";function Xx(e){this.type=e}Xx.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case Ux:return e.elements;case qx:case Yx:return[e.left,e.right];case Wx:var t=e.arguments.slice();return t.unshift(e.callee),t;case Hx:return[e.test,e.consequent,e.alternate];case Vx:return[e.object,e.property];case Gx:return e.properties;case Lx:return[e.key,e.value];case $x:return[e.argument];case Ix:case zx:case Rx:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};var Jx=1,Kx=2,Qx=3,Zx=4,ew=5,tw=6,nw=7,rw=8;(Bx={})[Jx]="Boolean",Bx[Kx]="<end>",Bx[Qx]="Identifier",Bx[Zx]="Keyword",Bx[ew]="Null",Bx[tw]="Numeric",Bx[nw]="Punctuator",Bx[rw]="String",Bx[9]="RegularExpression";new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");var iw=":",uw="@";function aw(e,t,n,r){t[0].type!==zx&&Object(kt.error)("First argument to selection functions must be a string literal.");var i=t[0].value,u=t.length>=2&&Object(kt.peek)(t).value,a=uw+"unit",o=iw+i;u!==kx||r.hasOwnProperty(a)||(r[a]=n.getData(i).indataRef(n,"unit")),r.hasOwnProperty(o)||(r[o]=n.getData(i).tuplesRef())}var ow=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},cw=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return ow(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var fw=cw(ow),sw=fw.right,lw=(fw.left,sw);var dw=Array.prototype,hw=(dw.slice,dw.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u}),pw=Math.sqrt(50),mw=Math.sqrt(10),vw=Math.sqrt(2),gw=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=bw(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function bw(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=pw?10:u>=mw?5:u>=vw?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=pw?10:u>=mw?5:u>=vw?2:1)}function yw(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=pw?i*=10:u>=mw?i*=5:u>=vw&&(i*=2),t<e?-i:i}var xw=function(e){return null===e?NaN:+e};function ww(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xw;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}var _w=n(22);function Aw(e){var t=this.context.data[e];return t?t.values.value:[]}var Ew={};function Ow(e,t,n){var r=e+":"+n,i=Ew[r];return i&&i[0]===t||(Ew[r]=i=[t,t(n)]),i[1]}function kw(e,t){return Ow("timeFormat",cn.timeFormat,t)(e)}var Cw=new Date(2e3,0,1);function Dw(e,t,n){return Cw.setMonth(e),Cw.setDate(t),kw(Cw,n)}var Fw=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},Mw="identity",Sw="linear",jw="log",Tw="pow",Nw="sqrt",Bw="symlog",Pw="time",Rw="utc",zw="sequential",Lw="diverging",Iw="quantile",Uw="quantize",qw="threshold",Ww="ordinal",Hw="point",Yw="band",Vw="bin-ordinal";ys.timeMillisecond,ys.timeSecond,ys.timeMinute,ys.timeHour,ys.timeDay,ys.timeWeek,ys.timeMonth,ys.timeYear,ys.utcMillisecond,ys.utcSecond,ys.utcMinute,ys.utcHour,ys.utcDay,ys.utcWeek,ys.utcMonth,ys.utcYear;var Gw=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},$w=function(e){return function(t){var n,r,i,u,a=e.range(),o=t[0],c=t[1],f=-1;for(c<o&&(r=o,o=c,c=r),i=0,u=a.length;i<u;++i)a[i]>=o&&a[i]<=c&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(a[f]),c=e.invertExtent(a[n]),[void 0===o[0]?o[1]:o[0],void 0===c[1]?c[0]:c[1]]}};function Xw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Jw(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var Kw=Symbol("implicit");function Qw(){var e=new Map,t=[],n=[],r=Kw;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==Kw)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,u=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var f=o.value,s=f+"";e.has(s)||e.set(s,t.push(f))}}catch(l){u=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Qw(t,n).unknown(r)},Xw.apply(i,arguments),i}var Zw=function(e){return function(){return e}},e_=function(e){return+e},t_=[0,1];function n_(e){return e}function r_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zw(isNaN(t)?NaN:.5)}function i_(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function u_(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=r_(i,r),u=n(a,u)):(r=r_(r,i),u=n(u,a)),function(e){return u(r(e))}}function a_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=r_(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(t){var n=lw(e,t,1,r)-1;return u[n](i[n](t))}}function o_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function c_(){var e,t,n,r,i,u,a=t_,o=t_,c=Hs.interpolate,f=n_;function s(){return r=Math.min(a.length,o.length)>2?a_:u_,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),Hs.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=Array.from(e,e_),f===n_||(f=i_(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.rangeRound=function(e){return o=Array.from(e),c=Hs.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?i_(a):n_,l):f!==n_},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function f_(e,t){return c_()(e,t)}var s_=function(e,t,n,r){var i,u=yw(e,t,n);switch((r=Object(nl.formatSpecifier)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(nl.precisionPrefix)(u,a))||(r.precision=i),Object(nl.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(nl.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(nl.precisionFixed)(u))||(r.precision=i-2*("%"===r.type))}return Object(nl.format)(r)};function l_(e){var t=e.domain;return e.ticks=function(e){var n=t();return gw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return s_(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),u=0,a=i.length-1,o=i[u],c=i[a];return c<o&&(r=o,o=c,c=r,r=u,u=a,a=r),(r=bw(o,c,n))>0?r=bw(o=Math.floor(o/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=bw(o=Math.ceil(o*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[u]=Math.floor(o/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[u]=Math.ceil(o*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}var d_=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function h_(e){return Math.log(e)}function p_(e){return Math.exp(e)}function m_(e){return-Math.log(-e)}function v_(e){return-Math.exp(-e)}function g_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b_(e){return function(t){return-e(-t)}}function y_(e){var t,n,r=e(h_,p_),i=r.domain,u=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),n=function(e){return 10===e?g_:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),i()[0]<0?(t=b_(t),n=b_(n),e(m_,v_)):e(h_,p_),r}return r.base=function(e){return arguments.length?(u=+e,a()):u},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),o=a[0],c=a[a.length-1];(r=c<o)&&(d=o,o=c,c=d);var f,s,l,d=t(o),h=t(c),p=null==e?10:+e,m=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,o>0){for(;d<h;++d)for(s=1,f=n(d);s<u;++s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else for(;d<h;++d)for(s=u-1,f=n(d);s>=1;--s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else m=gw(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Object(nl.format)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,u*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*u<u-.5&&(r*=u),r<=a?i(e):""}},r.nice=function(){return i(d_(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function x_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function __(e){var t=1,n=e(x_(t),w_(t));return n.constant=function(n){return arguments.length?e(x_(t=+n),w_(t)):t},l_(n)}function A_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function E_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O_(e){return e<0?-e*e:e*e}function k_(e){var t=e(n_,n_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(n_,n_):.5===n?e(E_,O_):e(A_(n),A_(1/n)):n},l_(t)}function C_(){var e=k_(c_());return e.copy=function(){return o_(e,C_()).exponent(e.exponent())},Xw.apply(e,arguments),e}var D_=1e3,F_=60*D_,M_=60*F_,S_=24*M_,j_=7*S_,T_=30*S_,N_=365*S_;function B_(e){return new Date(e)}function P_(e){return e instanceof Date?+e:+new Date(+e)}function R_(e,t,n,r,i,u,a,o,c){var f=f_(n_,n_),s=f.invert,l=f.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[a,1,D_],[a,5,5*D_],[a,15,15*D_],[a,30,30*D_],[u,1,F_],[u,5,5*F_],[u,15,15*F_],[u,30,30*F_],[i,1,M_],[i,3,3*M_],[i,6,6*M_],[i,12,12*M_],[r,1,S_],[r,2,2*S_],[n,1,j_],[t,1,T_],[t,3,3*T_],[e,1,N_]];function w(o){return(a(o)<o?d:u(o)<o?h:i(o)<o?p:r(o)<o?m:t(o)<o?n(o)<o?v:g:e(o)<o?b:y)(o)}function _(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var u=Math.abs(r-n)/t,a=cw(function(e){return e[2]}).right(x,u);a===x.length?(i=yw(n/N_,r/N_,t),t=e):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],t=a[0]):(i=Math.max(yw(n,r,t),1),t=o)}return null==i?t:t.every(i)}return f.invert=function(e){return new Date(s(e))},f.domain=function(e){return arguments.length?l(Array.from(e,P_)):l().map(B_)},f.ticks=function(e,t){var n,r=l(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=_(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?w:c(t)},f.nice=function(e,t){var n=l();return(e=_(e,n[0],n[n.length-1],t))?l(d_(n,e)):f},f.copy=function(){return o_(f,R_(e,t,n,r,i,u,a,o,c))},f}function z_(){var e,t,n,r,i,u=0,a=1,o=n_,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){var o;return arguments.length?(o=Or(i,2),u=o[0],a=o[1],e=r(u=+u),t=r(a=+a),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function L_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I_(){var e=l_(z_()(n_));return e.copy=function(){return L_(e,I_())},Jw.apply(e,arguments)}function U_(){var e=k_(z_());return e.copy=function(){return L_(e,U_()).exponent(e.exponent())},Jw.apply(e,arguments)}function q_(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=n_,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){var s;return arguments.length?(s=Or(a,3),o=s[0],c=s[1],f=s[2],e=u(o=+o),t=u(c=+c),n=u(f=+f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function W_(){var e=k_(q_());return e.copy=function(){return L_(e,W_()).exponent(e.exponent())},Jw.apply(e,arguments)}function H_(){var e,t,n=Qw().unknown(void 0),r=n.domain,i=n.range,u=[0,1],a=!1,o=0,c=0,f=.5;function s(){var n=r().length,s=u[1]<u[0],l=u[s-0],d=u[1-s],h=Fw(n,o,c);e=(d-l)/(h||1),a&&(e=Math.floor(e)),l+=(d-l-e*(n-o))*f,t=e*(1-o),a&&(l=Math.round(l),t=Math.round(t));var p=hw(n).map(function(t){return l+e*t});return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),s()):r()},n.range=function(e){return arguments.length?(u=[+e[0],+e[1]],s()):u.slice()},n.rangeRound=function(e){return u=[+e[0],+e[1]],a=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,s()):a},n.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),o=c,s()):o},n.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),s()):o},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,o,c=+e[0],f=+e[1],s=u[1]<u[0],l=s?i().reverse():i(),d=l.length-1;if(c===c&&f===f&&(f<c&&(o=c,c=f,f=o),!(f<l[0]||c>u[1-s])))return n=Math.max(0,sw(l,c)-1),a=c===f?n:sw(l,f)-1,c-l[n]>t+1e-10&&++n,s&&(o=n,n=d-a,a=d-o),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return H_().domain(r()).range(u).round(a).paddingInner(o).paddingOuter(c).align(f)},s()}var Y_=function(e,t,n){return e.fields=t||[],e.fname=n,e};var V_=function(e){throw Error(e)},G_=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||V_("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&V_("Access path missing closing bracket: "+e),u&&V_("Access path missing closing quote: "+e),n>t&&(n++,f()),i},$_=Array.isArray,X_=function(e){return e===Object(e)},J_=function(e){return"string"===typeof e};function K_(e){return $_(e)?"["+e.map(K_)+"]":X_(e)||J_(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Q_=[];(function(e,t){var n=G_(e),r="return _["+n.map(K_).join("][")+"];";Y_(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),Y_(function(e){return e},Q_,"identity"),Y_(function(){return 0},Q_,"zero"),Y_(function(){return 1},Q_,"one"),Y_(function(){return!0},Q_,"true"),Y_(function(){return!1},Q_,"false");var Z_=function(e){return e[e.length-1]};var eA=function(e){return"function"===typeof e},tA=function(e){return eA(e)?e:function(){return e}};var nA=Array.prototype.map;var rA,iA=Array.prototype.slice;function uA(e,t){return arguments.length>1?(aA[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?Gw(n):n.invertExtent?$w(n):void 0),n.type=e,n}}(e,t),this):aA.hasOwnProperty(e)?aA[e]:void 0}var aA=(rA={},Object(_s.a)(rA,Mw,function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,e_),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,e_):[0,1],l_(r)}),Object(_s.a)(rA,Sw,function e(){var t=f_(n_,n_);return t.copy=function(){return o_(t,e())},Xw.apply(t,arguments),l_(t)}),Object(_s.a)(rA,jw,function e(){var t=y_(c_()).domain([1,10]);return t.copy=function(){return o_(t,e()).base(t.base())},Xw.apply(t,arguments),t}),Object(_s.a)(rA,Tw,C_),Object(_s.a)(rA,Nw,function(){return C_.apply(null,arguments).exponent(.5)}),Object(_s.a)(rA,Bw,function e(){var t=__(c_());return t.copy=function(){return o_(t,e()).constant(t.constant())},Xw.apply(t,arguments)}),Object(_s.a)(rA,Pw,function(){return Xw.apply(R_(ys.timeYear,ys.timeMonth,ys.timeWeek,ys.timeDay,ys.timeHour,ys.timeMinute,ys.timeSecond,ys.timeMillisecond,cn.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),Object(_s.a)(rA,Rw,function(){return Xw.apply(R_(ys.utcYear,ys.utcMonth,ys.utcWeek,ys.utcDay,ys.utcHour,ys.utcMinute,ys.utcSecond,ys.utcMillisecond,cn.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Object(_s.a)(rA,zw,I_),Object(_s.a)(rA,zw+"-"+Sw,I_),Object(_s.a)(rA,zw+"-"+jw,function e(){var t=y_(z_()).domain([1,10]);return t.copy=function(){return L_(t,e()).base(t.base())},Jw.apply(t,arguments)}),Object(_s.a)(rA,zw+"-"+Tw,U_),Object(_s.a)(rA,zw+"-"+Nw,function(){return U_.apply(null,arguments).exponent(.5)}),Object(_s.a)(rA,zw+"-"+Bw,function e(){var t=__(z_());return t.copy=function(){return L_(t,e()).constant(t.constant())},Jw.apply(t,arguments)}),Object(_s.a)(rA,Lw+"-"+Sw,function e(){var t=l_(q_()(n_));return t.copy=function(){return L_(t,e())},Jw.apply(t,arguments)}),Object(_s.a)(rA,Lw+"-"+jw,function e(){var t=y_(q_()).domain([.1,1,10]);return t.copy=function(){return L_(t,e()).base(t.base())},Jw.apply(t,arguments)}),Object(_s.a)(rA,Lw+"-"+Tw,W_),Object(_s.a)(rA,Lw+"-"+Nw,function(){return W_.apply(null,arguments).exponent(.5)}),Object(_s.a)(rA,Lw+"-"+Bw,function e(){var t=__(q_());return t.copy=function(){return L_(t,e()).constant(t.constant())},Jw.apply(t,arguments)}),Object(_s.a)(rA,Iw,function e(){var t,n=[],r=[],i=[];function u(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=ww(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[lw(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value;null==c||isNaN(c=+c)||n.push(c)}}catch(f){r=!0,i=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.sort(ow),u()},a.range=function(e){return arguments.length?(r=Array.from(e),u()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},Xw.apply(a,arguments)}),Object(_s.a)(rA,Uw,function e(){var t,n=0,r=1,i=1,u=[.5],a=[0,1];function o(e){return e<=e?a[lw(u,e,0,i)]:t}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){var t;return arguments.length?(t=Or(e,2),n=t[0],r=t[1],n=+n,r=+r,c()):[n,r]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,u[0]]:t>=i?[u[i-1],r]:[u[t-1],u[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Xw.apply(l_(o),arguments)}),Object(_s.a)(rA,qw,function e(){var t,n=[.5],r=[0,1],i=1;function u(e){return e<=e?r[lw(n,e,0,i)]:t}return u.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return e().domain(n).range(r).unknown(t)},Xw.apply(u,arguments)}),Object(_s.a)(rA,Vw,function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(lw(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return nA.call(e,function(e){return+e})}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=iA.call(e),r):n.slice()},r.tickFormat=function(e,n){return s_(t[0],Z_(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),Object(_s.a)(rA,Ww,Qw),Object(_s.a)(rA,Yw,H_),Object(_s.a)(rA,Hw,function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(H_().paddingInner(1))}),rA);for(var oA in aA)uA(oA,aA[oA]);var cA=["clamp","base","constant","exponent"];function fA(e,t,n){return Hs.piecewise(function(e,t){var n=Hs[function(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function sA(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function lA(e,t){for(var n in e)hA(n,t(e[n]))}var dA={};function hA(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(dA[e]=t,this):dA[e]}function pA(e,t){var n;return Object(kt.isFunction)(e)?e:Object(kt.isString)(e)?(n=t.scales[e])&&n.value:void 0}function mA(e,t){return function(n,r,i){if(n){var u=pA(n,(i||this).context);return u&&u.path[e](r)}return t(r)}}lA({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},sA),lA({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(e){return fA(sA(e))});var vA=mA("area",oh.c),gA=mA("bounds",oh.h),bA=mA("centroid",oh.i);function yA(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function xA(e,t){return e===t||e!==e&&t!==t||!(!Object(kt.isArray)(e)||!Object(kt.isArray)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!xA(e[n],t[n]))return!1;return!0}(e,t)}function wA(e){return function(t){for(var n in e)if(!xA(t[n],e[n]))return!1;return!0}}var _A={};function AA(e){return e.data}function EA(e,t){var n=Aw.call(t,e);return n.root&&n.root.lookup||_A}var OA="undefined"!==typeof window&&window||null;var kA=":",CA="@",DA="%";function FA(e,t,n,r){t[0].type!==ix&&Object(kt.error)("First argument to data functions must be a string literal.");var i=t[0].value,u=kA+i;r.hasOwnProperty(u)||(r[u]=n.getData(i).tuplesRef())}function MA(e,t,n,r){if(t[0].type===ix)SA(n,r,t[0].value);else if(t[0].type===ax)for(e in n.scales)SA(n,r,e)}function SA(e,t,n){var r=DA+n;if(!t.hasOwnProperty(r))try{t[r]=e.scaleRef(n)}catch(i){}}var jA={random:function(){return Ov()},isArray:kt.isArray,isBoolean:kt.isBoolean,isDate:kt.isDate,isNumber:kt.isNumber,isObject:kt.isObject,isRegExp:kt.isRegExp,isString:kt.isString,isTuple:ut,toBoolean:kt.toBoolean,toDate:kt.toDate,toNumber:kt.toNumber,toString:kt.toString,flush:kt.flush,lerp:kt.lerp,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),kt.extend.apply(null,e)},pad:kt.pad,peek:kt.peek,span:kt.span,inrange:kt.inrange,truncate:kt.truncate,rgb:_w.h,lab:_w.f,hcl:_w.d,hsl:_w.e,sequence:hw,format:function(e,t){return Ow("format",nl.format,t)(e)},utcFormat:function(e,t){return Ow("utcFormat",cn.utcFormat,t)(e)},utcParse:function(e,t){return Ow("utcParse",cn.utcParse,t)(e)},timeFormat:kw,timeParse:function(e,t){return Ow("timeParse",cn.timeParse,t)(e)},monthFormat:function(e){return Dw(e,1,"%B")},monthAbbrevFormat:function(e){return Dw(e,1,"%b")},dayFormat:function(e){return Dw(0,2+e,"%A")},dayAbbrevFormat:function(e){return Dw(0,2+e,"%a")},quarter:kt.quarter,utcquarter:kt.utcquarter,warn:function(){return yA(this.context.dataflow,"warn",arguments)},info:function(){return yA(this.context.dataflow,"info",arguments)},debug:function(){return yA(this.context.dataflow,"debug",arguments)},extent:kt.extent,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Or(e,2),i=r[0],u=r[1],a=(new Pu).set(i[0],i[1],u[0],u[1]);return af(n||this.context.dataflow.scenegraph().root,a,function(e){var t=null;if(e){var n=Object(kt.array)(e.marktype),r=Object(kt.array)(e.markname);t=function(e){return(!n.length||n.some(function(t){return e.marktype===t}))&&(!r.length||r.some(function(t){return e.name===t}))}}return t}(t))},clampRange:kt.clampRange,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){return OA?OA.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){return OA?[OA.innerWidth,OA.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Fw(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(kt.truthy).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?sa(n,t=t||Zu(e)):e}},panLinear:kt.panLinear,panLog:kt.panLog,panPow:kt.panPow,panSymlog:kt.panSymlog,zoomLinear:kt.zoomLinear,zoomLog:kt.zoomLog,zoomPow:kt.zoomPow,zoomSymlog:kt.zoomSymlog,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,u){var a,o,c=this.context.dataflow,f=this.context.data[e],s=f.input,l=f.changes,d=c.stamp();if(!1===c._trigger||!(s.value.length||t||r))return 0;if((!l||l.stamp<d)&&(f.changes=l=c.changeset(),l.stamp=d,c.runAfter(function(){f.modified=!0,c.pulse(s,l).run()},!0,1)),n&&(a=!0===n?kt.truthy:Object(kt.isArray)(n)||ut(n)?n:wA(n),l.remove(a)),t&&l.insert(t),r&&(a=wA(r),s.value.some(a)?l.remove(a):l.insert(r)),i)for(o in u)l.modify(i,o,u[o]);return 1}},TA=["view","item","group","xy","x","y"],NA="event.vega.",BA="this.",PA={};function RA(e,t,n){return 1===arguments.length?jA[e]:(jA[e]=t,n&&(PA[e]=n),LA&&(LA.functions[e]=BA+e),this)}RA("bandwidth",function(e,t){var n=pA(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0},MA),RA("copy",function(e,t){var n=pA(e,(t||this).context);return n?n.copy():void 0},MA),RA("domain",function(e,t){var n=pA(e,(t||this).context);return n?n.domain():[]},MA),RA("range",function(e,t){var n=pA(e,(t||this).context);return n&&n.range?n.range():[]},MA),RA("invert",function(e,t,n){var r=pA(e,(n||this).context);return r?Object(kt.isArray)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0},MA),RA("scale",function(e,t,n){var r=pA(e,(n||this).context);return r&&void 0!==t?r(t):void 0},MA),RA("gradient",function(e,t,n,r,i){e=pA(e,(i||this).context);var u=Lu(t,n),a=e.domain(),o=a[0],c=Object(kt.peek)(a),f=kt.identity;return c-o?f=function(e,t,n){var r,i,u,a=n-t;return a&&isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),u=uA(i)().domain([t,n]).range([0,1]),cA.forEach(function(t){return e[t]?u[t](e[t]()):0}),u):tA(.5)}(e,o,c):e=(e.interpolator?uA("sequential")().interpolator(e.interpolator()):uA("linear")().interpolate(e.interpolate()).range(e.range())).domain([o=0,c=1]),e.ticks&&(o!==(a=e.ticks(+r||15))[0]&&a.unshift(o),c!==Object(kt.peek)(a)&&a.push(c)),a.forEach(function(t){return u.stop(f(t),e(t))}),u},MA),RA("geoArea",vA,MA),RA("geoBounds",gA,MA),RA("geoCentroid",bA,MA),RA("geoShape",function(e,t,n){var r=pA(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}},MA),RA("indata",function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i},function(e,t,n,r){t[0].type!==ix&&Object(kt.error)("First argument to indata must be a string literal."),t[1].type!==ix&&Object(kt.error)("Second argument to indata must be a string literal.");var i=t[0].value,u=t[1].value,a=CA+u;r.hasOwnProperty(a)||(r[a]=n.getData(i).indataRef(n,u))}),RA("data",Aw,FA),RA("treePath",function(e,t,n){var r=EA(e,this),i=r[t],u=r[n];return i&&u?i.path(u).map(AA):void 0},FA),RA("treeAncestors",function(e,t){var n=EA(e,this)[t];return n?n.ancestors().map(AA):void 0},FA),RA("vlSelectionTest",function(e,t,n){for(var r,i,u,a,o,c=this.context.data[e],f=c?c.values.value:[],s=c?c[Tx]&&c[Tx].value:void 0,l=n===kx,d=f.length,h=0;h<d;++h)if(r=f[h],s&&l){if(-1===(u=(i=i||{})[a=r.unit]||0))continue;if(o=Nx(t,r),i[a]=o?-1:++u,o&&1===s.size)return!0;if(!o&&u===s.get(a).count)return!1}else if(l^(o=Nx(t,r)))return o;return d&&l},aw),RA("vlSelectionResolve",function(e,t){for(var n,r,i,u,a,o,c,f,s,l,d,h=this.context.data[e],p=h?h.values.value:[],m={},v={},g=p.length,b=0;b<g;++b)for(u=(n=p[b]).unit,r=n.fields,i=n.values,l=0,d=r.length;l<d;++l)a=r[l],c=(o=m[a.field]||(m[a.field]={}))[u]||(o[u]=[]),v[a.field]=f=a.type.charAt(0),s=Px[f+"_union"],o[u]=s(c,Object(kt.array)(i[l]));return t=t||Cx,Object.keys(m).forEach(function(e){m[e]=Object.keys(m[e]).map(function(t){return m[e][t]}).reduce(function(n,r){return void 0===n?r:Px[v[e]+"_"+t](n,r)})}),m},aw);var zA={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(kt.stringValue)("$"+e)+"]"},functions:function(e){var t=Ox(e);for(var n in TA.forEach(function(e){return t[e]=NA+e}),jA)t[n]=BA+n;return t},constants:Ex,visitors:PA},LA=function(e){var t=(e=e||{}).whitelist?Object(kt.toSet)(e.whitelist):{},n=e.blacklist?Object(kt.toSet)(e.blacklist):{},r=e.constants||Ex,i=(e.functions||Ox)(l),u=e.globalvar,a=e.fieldvar,o={},c={},f=0,s=Object(kt.isFunction)(u)?u:function(e){return u+'["'+e+'"]'};function l(e){if(Object(kt.isString)(e))return e;var t=d[e.type];return null==t&&Object(kt.error)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return f>0?i:n.hasOwnProperty(i)?Object(kt.error)("Illegal identifier: "+i):r.hasOwnProperty(i)?r[i]:t.hasOwnProperty(i)?i:(o[i]=1,s(i))},MemberExpression:function(e){var t=!e.computed,n=l(e.object);t&&(f+=1);var r=l(e.property);return n===a&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(f-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(kt.error)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=i.hasOwnProperty(t)&&i[t];return r||Object(kt.error)("Unrecognized function: "+t),Object(kt.isFunction)(r)?r(n):r+"("+n.map(l).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(l).join(",")+"]"},BinaryExpression:function(e){return"("+l(e.left)+e.operator+l(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+l(e.argument)+")"},ConditionalExpression:function(e){return"("+l(e.test)+"?"+l(e.consequent)+":"+l(e.alternate)+")"},LogicalExpression:function(e){return"("+l(e.left)+e.operator+l(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(l).join(",")+"}"},Property:function(e){f+=1;var t=l(e.key);return f-=1,t+":"+l(e.value)}};function h(e){var t={code:l(e),globals:Object.keys(o),fields:Object.keys(c)};return o={},c={},t}return h.functions=i,h.constants=r,h}(zA);function IA(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function UA(e,t){return IA(["event"],e,t)}function qA(e,t){return IA(["item","_"],e,t)}function WA(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(kt.isArray)(i)?i.map(function(e){return HA(e,t,n)}):HA(i,t,n);return n}function HA(e,t,n){if(!e||!Object(kt.isObject)(e))return e;for(var r,i=0,u=YA.length;i<u;++i)if(r=YA[i],e.hasOwnProperty(r.key))return r.parse(e,t,n);return e}var YA=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(kt.error)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(kt.key)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&WA(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(kt.accessor)(function(e,t){return IA(["datum","_"],e,t)}(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(kt.field)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,i=e.$encode,u={};for(n in i)r=i[n],u[n]=Object(kt.accessor)(qA(r.$expr,t),r.$fields),u[n].output=r.$output;return u}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(kt.array)(e.$compare).map(function(e){return e&&e.$tupleid?at:e});return t.fn[n]||(t.fn[n]=Object(kt.compare)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var u=XA(n,t.fork()),a=u.get(n.operators[0].id),o=u.signals.parent;return o&&o.set(i),a}}},{key:"$tupleid",parse:function(){return at}}];function VA(e){return(e+"").toLowerCase()}var GA=function(e,t){"operator"!==VA(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?function(e,t){return IA(["_"],e,t)}(e.update,t):null)};var $A=function(e,t){var n=Object(kt.isObject)(n=e.source)?n.$ref:n,r=t.get(n),i=null,u=e.update,a=void 0;r||Object(kt.error)("Source not defined: "+e.source),i=e.target&&e.target.$expr?UA(e.target.$expr,t):t.get(e.target),u&&u.$expr&&(u.$params&&(a=WA(u.$params,t)),u=function(e,t){return IA(["_","event"],e,t)}(u.$expr,t)),t.update(e,r,i,u,a)},XA=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach(function(e){GA(e,t)}),n.forEach(function(e){!function(e,t){if(e.params){var n=t.get(e.id);n||Object(kt.error)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(WA(e.params,t),e.react,e.initonly))}}(e,t)}),(e.streams||[]).forEach(function(e){!function(e,t){var n,r=null!=e.filter?UA(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(i=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Object(kt.error)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}(e,t)}),(e.updates||[]).forEach(function(e){$A(e,t)}),t.resolve()},JA={skip:!0};var KA=function(e,t,n){return new QA(e,t,n)};function QA(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function ZA(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}QA.prototype=ZA.prototype={fork:function(){var e=new ZA(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),"collect"===VA(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.preload(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var u=r.get(e.parent.$ref);u?(i.connect(u,[t]),t.targets().add(u)):(r.unresolved=r.unresolved||[]).push(function(){u=r.get(e.parent.$ref),i.connect(u,[t]),t.targets().add(u)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var a in e.data)n=r.data[a]||(r.data[a]={}),e.data[a].forEach(function(e){n[e]=t})},resolve:function(){return(this.unresolved||[]).forEach(function(e){e()}),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[VA(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(function(t){return t.getState(e)})),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(function(e){n.update(t.signals[e],i[e],JA)}),Object.keys(r||{}).forEach(function(e){n.pulse(t.data[e].input,n.changeset().remove(kt.truthy).insert(r[e]))}),(e.subcontext||[]).forEach(function(e,n){var r=t.subcontext[n];r&&r.setState(e)})}};var eE=function(e,t,n){return XA(t,KA(e,Rn,n||jA))};var tE="width",nE="height",rE="padding",iE={skip:!0};function uE(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===rE?r.left+r.right:0)}function aE(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===rE?r.top+r.bottom:0)}function oE(e,t){return t.modified&&ry(t.input.value)&&e.indexOf("_:vega:_")}function cE(e,t){return!("parent"===e||t instanceof Rn.proxy)}var fE=function(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":ry(e)?sE(e):iy(e)&&!ly(e)?(t=e,Object.keys(t).map(function(e){var n=t[e];return e+": "+(ry(n)?sE(n):lE(n))}).join("\n")):e+"";var t}(r))};function sE(e){return"["+e.map(lE).join(", ")+"]"}function lE(e){return ry(e)?"[\u2026]":iy(e)&&!ly(e)?"{\u2026}":e}function dE(e,t){t=t||{},jn.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||nf.Canvas,this._scenegraph=new ic;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||fE,this._redraw=!0,this._handler=(new yc).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var r=eE(this,e,t.functions);this._runtime=r,this._signals=r.signals,this._bind=(e.bindings||[]).map(function(e){return{state:null,param:sy({},e)}}),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._background=t.background||r.background||null,this._eventConfig=function(e){var t=(e=sy({},e)).defaults;return t&&(ry(t.prevent)&&(t.prevent=dy(t.prevent)),ry(t.allow)&&(t.allow=dy(t.allow))),e}(r.eventConfig),this._width=this.width(),this._height=this.height(),this._viewWidth=uE(this,this._width),this._viewHeight=aE(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t[tE],r=t[nE],i=t[rE];function u(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,function(t){e._width=t.size,e._viewWidth=uE(e,t.size),u()},{size:n}),e._resizeHeight=e.add(null,function(t){e._height=t.size,e._viewHeight=aE(e,t.size),u()},{size:r});var a=e.add(null,u,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(this),hy(this),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var hE=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n}(dE,jn);function pE(e,t){return e._signals.hasOwnProperty(t)?e._signals[t]:ty("Unrecognized signal name: "+ay(t))}function mE(e,t){var n=(e._targets||[]).filter(function(e){var n=e._update;return n&&n.handler===t});return n.length?n[0]:null}function vE(e,t,n,r){var i=mE(n,r);return i||((i=$y(this,function(){r(t,n.value)})).handler=r,e.on(n,null,i)),e}function gE(e,t,n){var r=mE(t,n);return r&&t._targets.remove(r),e}hE.evaluate=function(){var e=et(Qe.a.mark(function e(t,n,r){return Qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn.prototype.evaluate.call(this,t,n);case 2:if(!this._redraw&&!this._resize){e.next=14;break}if(e.prev=3,!this._renderer){e.next=8;break}return this._resize&&(this._resize=0,yy(this)),e.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.error(e.t0);case 14:return r&&tt(this,r),e.abrupt("return",this);case 16:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t,n,r){return e.apply(this,arguments)}}(),hE.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},hE.container=function(){return this._el},hE.scenegraph=function(){return this._scenegraph},hE.origin=function(){return this._origin.slice()},hE.signal=function(e,t,n){var r=pE(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},hE.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},hE.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},hE.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},hE.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},hE.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},hE.renderer=function(e){return arguments.length?(uf(e)||ty("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},hE.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},hE.loader=function(e){return arguments.length?(e!==this._loader&&(jn.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},hE.resize=function(){return this._autosize=1,this.touch(pE(this,"autosize"))},hE._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},hE._resizeView=function(e,t,n,r,i,u){this.runAfter(function(a){var o=0;a._autosize=0,a.width()!==n&&(o=1,a.signal(tE,n,iE),a._resizeWidth.skip(!0)),a.height()!==r&&(o=1,a.signal(nE,r,iE),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),o&&a.run("enter"),u&&a.runAfter(function(e){return e.resize()})},!1,1)},hE.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=$y(this,t)).raw=t),this._handler.on(e,r),this},hE.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),u=i.length;--u>=0;)if(r=i[u].type,n=i[u].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},hE.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},hE.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},hE.addSignalListener=function(e,t){return vE(this,e,pE(this,e),t)},hE.removeSignalListener=function(e,t){return gE(this,pE(this,e),t)},hE.addDataListener=function(e,t){return vE(this,e,py(this,e).values,t)},hE.removeDataListener=function(e,t){return gE(this,py(this,e).values,t)},hE.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},hE.timer=function(e,t){this._timers.push(Object(Dh.a)(function(t){e({timestamp:Date.now(),elapsed:t})},t))},hE.events=function(e,t,n){var r,i=this,u=new At(n),a=function(n,r){i.runAsync(null,function(){e===wy&&function(e,t){var n=e._eventConfig.defaults,r=n&&n.prevent,i=n&&n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),u.receive(xy(i,n,r))})};if(e===_y)i.timer(a,t);else if(e===wy)i.addEventListener(t,a,Ey);else if(e===Ay?"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&(r=document.querySelectorAll(e)),r){for(var o=0,c=r.length;o<c;++o)r[o].addEventListener(t,a);i._eventListeners.push({type:t,sources:r,handler:a})}else i.warn("Can not resolve event source: "+e);return u},hE.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,u=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=u.length;--e>=0;)for(t=(n=u[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hE.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",Oy),ky,Cy(e)),this.on(this.events("view","mouseout",Oy),ky,Cy(t)),this},hE.data=function(e){return py(this,e).values.value},hE.change=my,hE.insert=function(e,t){return my.call(this,e,ht().insert(t))},hE.remove=function(e,t){return my.call(this,e,ht().remove(t))},hE.scale=function(e){var t=this._runtime.scales;return t.hasOwnProperty(e)||ty("Unrecognized scale or projection: "+e),t[e].value},hE.initialize=function(e,t){var n,r,i=this,u=i._renderType,a=uf(u);return e=i._el=e?Xy(i,e):null,a||i.error("Unrecognized renderer type: "+u),n=a.handler||yc,r=e?a.renderer:a.headless,i._renderer=r?Gy(i,i._renderer,e,r):null,i._handler=function(e,t,n,r){var i=new r(e.loader(),$y(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,by(e),e);return t&&t.handlers().forEach(function(e){i.on(e.type,e.handler)}),i}(i,i._handler,e,n),i._redraw=!0,e&&(t=t?i._elBind=Xy(i,t):e.appendChild(Dy("div",{class:"vega-bindings"})),i._bind.forEach(function(e){e.param.element&&(e.element=Xy(i,e.param.element))}),i._bind.forEach(function(e){Iy(i,e.element||t,e)})),i},hE.toImageURL=function(e,t){return Qy.apply(this,arguments)},hE.toCanvas=function(e,t){return ex.apply(this,arguments)},hE.toSVG=function(e){return tx.apply(this,arguments)},hE.getState=function(e){return this._runtime.getState(e||{data:oE,signals:cE,recurse:!0})},hE.setState=function(e){return this.runAsync(null,function(t){t._trigger=!1,t._runtime.setState(e)},function(e){e._trigger=!0}),this};var bE=function(e,t,n){return e.fields=t||[],e.fname=n,e};var yE=function(e){throw Error(e)},xE=function(e){var t,n,r,i=[],u=null,a=0,o=e.length,c="";function f(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===u)f(),u=null,a=-1;else{if(u)continue;t===a&&'"'===r?(t=n+1,u=r):t===a&&"'"===r?(t=n+1,u=r):"."!==r||a?"["===r?(n>t&&f(),a=t=n+1):"]"===r&&(a||yE("Access path missing open bracket: "+e),a>0&&f(),a=0,t=n+1):n>t?f():t=n+1}return a&&yE("Access path missing closing bracket: "+e),u&&yE("Access path missing closing quote: "+e),n>t&&(n++,f()),i},wE=Array.isArray,_E=function(e){return e===Object(e)},AE=function(e){return"string"===typeof e};function EE(e){return wE(e)?"["+e.map(EE)+"]":_E(e)||AE(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var OE=[];(function(e,t){var n=xE(e),r="return _["+n.map(EE).join("][")+"];";bE(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),bE(function(e){return e},OE,"identity"),bE(function(){return 0},OE,"zero"),bE(function(){return 1},OE,"one"),bE(function(){return!0},OE,"true"),bE(function(){return!1},OE,"false");var kE=function(e){return e[e.length-1]};var CE=function(e){return null!=e?wE(e)?e:[e]:[]},DE=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e};var FE=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},ME=function(e,t){return e=e||t.autosize,_E(e)?e:{type:e||"pad"}},SE=function(e,t){return e=e||t.padding,_E(e)?{top:jE(e.top),bottom:jE(e.bottom),left:jE(e.left),right:jE(e.right)}:{top:n=jE(e),bottom:n,left:n,right:n};var n};function jE(e){return+e||0}var TE=["value","update","init","react","bind"];function NE(e,t){yE(e+' for "outer" push: '+EE(t))}var BE,PE,RE,zE,LE,IE=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||NE("No prior signal definition",n),TE.forEach(function(t){void 0!==e[t]&&NE("Invalid property ",t)});else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}},UE="RawCode",qE="Literal",WE="Property",HE="Identifier",YE="ArrayExpression",VE="BinaryExpression",GE="CallExpression",$E="ConditionalExpression",XE="LogicalExpression",JE="MemberExpression",KE="ObjectExpression",QE="UnaryExpression";function ZE(e){this.type=e}ZE.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case YE:return e.elements;case VE:case XE:return[e.left,e.right];case GE:var t=e.arguments.slice();return t.unshift(e.callee),t;case $E:return[e.test,e.consequent,e.alternate];case JE:return[e.object,e.property];case KE:return e.properties;case WE:return[e.key,e.value];case QE:return[e.argument];case HE:case qE:case UE:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};var eO=1,tO=2,nO=3,rO=4,iO=5,uO=6,aO=7,oO=8;(BE={})[eO]="Boolean",BE[tO]="<end>",BE[nO]="Identifier",BE[rO]="Keyword",BE[iO]="Null",BE[uO]="Numeric",BE[aO]="Punctuator",BE[oO]="String",BE[9]="RegularExpression";var cO="ArrayExpression",fO="BinaryExpression",sO="CallExpression",lO="ConditionalExpression",dO="Identifier",hO="Literal",pO="LogicalExpression",mO="MemberExpression",vO="ObjectExpression",gO="Property",bO="UnaryExpression",yO="Unexpected token %0",xO="Unexpected number",wO="Unexpected string",_O="Unexpected identifier",AO="Unexpected reserved word",EO="Unexpected end of input",OO="Invalid regular expression",kO="Invalid regular expression: missing /",CO="Octal literals are not allowed in strict mode.",DO="Duplicate data property in object literal not allowed in strict mode",FO="ILLEGAL",MO="Disabled.",SO=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),jO=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function TO(e,t){if(!e)throw new Error("ASSERT: "+t)}function NO(e){return e>=48&&e<=57}function BO(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function PO(e){return"01234567".indexOf(e)>=0}function RO(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function zO(e){return 10===e||13===e||8232===e||8233===e}function LO(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&SO.test(String.fromCharCode(e))}function IO(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&jO.test(String.fromCharCode(e))}var UO={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qO(){for(var e;RE<zE&&(RO(e=PE.charCodeAt(RE))||zO(e));)++RE}function WO(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)RE<zE&&BO(PE[RE])?(r=PE[RE++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):uk({},yO,FO);return String.fromCharCode(i)}function HO(){var e,t,n,r;for(t=0,"}"===(e=PE[RE])&&uk({},yO,FO);RE<zE&&BO(e=PE[RE++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&uk({},yO,FO),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function YO(){var e,t;for(e=PE.charCodeAt(RE++),t=String.fromCharCode(e),92===e&&(117!==PE.charCodeAt(RE)&&uk({},yO,FO),++RE,(e=WO("u"))&&"\\"!==e&&LO(e.charCodeAt(0))||uk({},yO,FO),t=e);RE<zE&&IO(e=PE.charCodeAt(RE));)++RE,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==PE.charCodeAt(RE)&&uk({},yO,FO),++RE,(e=WO("u"))&&"\\"!==e&&IO(e.charCodeAt(0))||uk({},yO,FO),t+=e);return t}function VO(){var e,t;return e=RE,{type:1===(t=92===PE.charCodeAt(RE)?YO():function(){var e,t;for(e=RE++;RE<zE;){if(92===(t=PE.charCodeAt(RE)))return RE=e,YO();if(!IO(t))break;++RE}return PE.slice(e,RE)}()).length?nO:UO.hasOwnProperty(t)?rO:"null"===t?iO:"true"===t||"false"===t?eO:nO,value:t,start:e,end:RE}}function GO(){var e,t,n,r,i=RE,u=PE.charCodeAt(RE),a=PE[RE];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++RE,{type:aO,value:String.fromCharCode(u),start:i,end:RE};default:if(61===(e=PE.charCodeAt(RE+1)))switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return RE+=2,{type:aO,value:String.fromCharCode(u)+String.fromCharCode(e),start:i,end:RE};case 33:case 61:return RE+=2,61===PE.charCodeAt(RE)&&++RE,{type:aO,value:PE.slice(i,RE),start:i,end:RE}}}return">>>="===(r=PE.substr(RE,4))?{type:aO,value:r,start:i,end:RE+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:aO,value:n,start:i,end:RE+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:aO,value:t,start:i,end:RE+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:aO,value:a,start:i,end:++RE}:void uk({},yO,FO)}function $O(){var e,t,n;if(TO(NO((n=PE[RE]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=RE,e="","."!==n){if(e=PE[RE++],n=PE[RE],"0"===e){if("x"===n||"X"===n)return++RE,function(e){for(var t="";RE<zE&&BO(PE[RE]);)t+=PE[RE++];return 0===t.length&&uk({},yO,FO),LO(PE.charCodeAt(RE))&&uk({},yO,FO),{type:uO,value:parseInt("0x"+t,16),start:e,end:RE}}(t);if(PO(n))return function(e){for(var t="0"+PE[RE++];RE<zE&&PO(PE[RE]);)t+=PE[RE++];return(LO(PE.charCodeAt(RE))||NO(PE.charCodeAt(RE)))&&uk({},yO,FO),{type:uO,value:parseInt(t,8),octal:!0,start:e,end:RE}}(t);n&&NO(n.charCodeAt(0))&&uk({},yO,FO)}for(;NO(PE.charCodeAt(RE));)e+=PE[RE++];n=PE[RE]}if("."===n){for(e+=PE[RE++];NO(PE.charCodeAt(RE));)e+=PE[RE++];n=PE[RE]}if("e"===n||"E"===n)if(e+=PE[RE++],"+"!==(n=PE[RE])&&"-"!==n||(e+=PE[RE++]),NO(PE.charCodeAt(RE)))for(;NO(PE.charCodeAt(RE));)e+=PE[RE++];else uk({},yO,FO);return LO(PE.charCodeAt(RE))&&uk({},yO,FO),{type:uO,value:parseFloat(e),start:t,end:RE}}function XO(){var e,t,n,r;return LE=null,qO(),e=RE,t=function(){var e,t,n,r;for(TO("/"===(e=PE[RE]),"Regular expression literal must start with a slash"),t=PE[RE++],n=!1,r=!1;RE<zE;)if(t+=e=PE[RE++],"\\"===e)zO((e=PE[RE++]).charCodeAt(0))&&uk({},kO),t+=e;else if(zO(e.charCodeAt(0)))uk({},kO);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||uk({},kO),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";RE<zE&&IO((e=PE[RE]).charCodeAt(0));)++RE,"\\"===e&&RE<zE?uk({},yO,FO):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&uk({},OO,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){if(parseInt(t,16)<=1114111)return"x";uk({},OO)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){uk({},OO)}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:RE}}function JO(){var e;return qO(),RE>=zE?{type:tO,start:RE,end:RE}:LO(e=PE.charCodeAt(RE))?VO():40===e||41===e||59===e?GO():39===e||34===e?function(){var e,t,n,r,i="",u=!1;for(TO("'"===(e=PE[RE])||'"'===e,"String literal must starts with a quote"),t=RE,++RE;RE<zE;){if((n=PE[RE++])===e){e="";break}if("\\"===n)if((n=PE[RE++])&&zO(n.charCodeAt(0)))"\r"===n&&"\n"===PE[RE]&&++RE;else switch(n){case"u":case"x":"{"===PE[RE]?(++RE,i+=HO()):i+=WO(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:PO(n)?(0!==(r="01234567".indexOf(n))&&(u=!0),RE<zE&&PO(PE[RE])&&(u=!0,r=8*r+"01234567".indexOf(PE[RE++]),"0123".indexOf(n)>=0&&RE<zE&&PO(PE[RE])&&(r=8*r+"01234567".indexOf(PE[RE++]))),i+=String.fromCharCode(r)):i+=n}else{if(zO(n.charCodeAt(0)))break;i+=n}}return""!==e&&uk({},yO,FO),{type:oO,value:i,octal:u,start:t,end:RE}}():46===e?NO(PE.charCodeAt(RE+1))?$O():GO():NO(e)?$O():GO()}function KO(){var e;return RE=(e=LE).end,LE=JO(),RE=e.end,e}function QO(){var e;e=RE,LE=JO(),RE=e}function ZO(e,t,n){var r=new ZE("||"===e||"&&"===e?pO:fO);return r.operator=e,r.left=t,r.right=n,r}function ek(e,t){var n=new ZE(sO);return n.callee=e,n.arguments=t,n}function tk(e){var t=new ZE(dO);return t.name=e,t}function nk(e){var t=new ZE(hO);return t.value=e.value,t.raw=PE.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function rk(e,t,n){var r=new ZE(mO);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function ik(e,t,n){var r=new ZE(gO);return r.key=t,r.value=n,r.kind=e,r}function uk(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return TO(t<r.length,"Message reference must be in range"),r[t]});throw(n=new Error(i)).index=RE,n.description=i,n}function ak(e){e.type===tO&&uk(e,EO),e.type===uO&&uk(e,xO),e.type===oO&&uk(e,wO),e.type===nO&&uk(e,_O),e.type===rO&&uk(e,AO),uk(e,yO,e.value)}function ok(e){var t=KO();t.type===aO&&t.value===e||ak(t)}function ck(e){return LE.type===aO&&LE.value===e}function fk(e){return LE.type===rO&&LE.value===e}function sk(){var e=[];for(RE=LE.start,ok("[");!ck("]");)ck(",")?(KO(),e.push(null)):(e.push(_k()),ck("]")||ok(","));return KO(),function(e){var t=new ZE(cO);return t.elements=e,t}(e)}function lk(){var e;return RE=LE.start,(e=KO()).type===oO||e.type===uO?(e.octal&&uk(e,CO),nk(e)):tk(e.value)}function dk(){var e,t,n;return RE=LE.start,(e=LE).type===nO?(n=lk(),ok(":"),ik("init",n,_k())):e.type!==tO&&e.type!==aO?(t=lk(),ok(":"),ik("init",t,_k())):void ak(e)}function hk(){var e,t,n=[],r={},i=String;for(RE=LE.start,ok("{");!ck("}");)t="$"+((e=dk()).key.type===dO?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?uk({},DO):r[t]=!0,n.push(e),ck("}")||ok(",");return ok("}"),function(e){var t=new ZE(vO);return t.properties=e,t}(n)}var pk={if:1,this:1};function mk(){var e,t,n;if(ck("("))return function(){var e;return ok("("),e=Ak(),ok(")"),e}();if(ck("["))return sk();if(ck("{"))return hk();if(e=LE.type,RE=LE.start,e===nO||pk[LE.value])n=tk(KO().value);else if(e===oO||e===uO)LE.octal&&uk(LE,CO),n=nk(KO());else{if(e===rO)throw new Error(MO);e===eO?((t=KO()).value="true"===t.value,n=nk(t)):e===iO?((t=KO()).value=null,n=nk(t)):ck("/")||ck("/=")?(n=nk(XO()),QO()):ak(KO())}return n}function vk(){var e=[];if(ok("("),!ck(")"))for(;RE<zE&&(e.push(_k()),!ck(")"));)ok(",");return ok(")"),e}function gk(){var e;return RE=LE.start,function(e){return e.type===nO||e.type===rO||e.type===eO||e.type===iO}(e=KO())||ak(e),tk(e.value)}function bk(){var e;return ok("["),e=Ak(),ok("]"),e}function yk(){var e=function(){var e;for(e=mk();;)if(ck("."))ok("."),e=rk(".",e,gk());else if(ck("("))e=ek(e,vk());else{if(!ck("["))break;e=rk("[",e,bk())}return e}();if(LE.type===aO&&(ck("++")||ck("--")))throw new Error(MO);return e}function xk(){var e,t;if(LE.type!==aO&&LE.type!==rO)t=yk();else{if(ck("++")||ck("--"))throw new Error(MO);if(ck("+")||ck("-")||ck("~")||ck("!"))e=KO(),t=xk(),t=function(e,t){var n=new ZE(bO);return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(fk("delete")||fk("void")||fk("typeof"))throw new Error(MO);t=yk()}}return t}function wk(e){var t=0;if(e.type!==aO&&e.type!==rO)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function _k(){var e,t;return e=function(){var e,t,n,r,i,u,a,o,c,f;if(e=LE,c=xk(),0===(i=wk(r=LE)))return c;for(r.prec=i,KO(),t=[e,LE],u=[c,r,a=xk()];(i=wk(LE))>0;){for(;u.length>2&&i<=u[u.length-2].prec;)a=u.pop(),o=u.pop().value,c=u.pop(),t.pop(),n=ZO(o,c,a),u.push(n);(r=KO()).prec=i,u.push(r),t.push(LE),n=xk(),u.push(n)}for(n=u[f=u.length-1],t.pop();f>1;)t.pop(),n=ZO(u[f-1].value,u[f-2],n),f-=2;return n}(),ck("?")&&(KO(),t=_k(),ok(":"),e=function(e,t,n){var r=new ZE(lO);return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,_k())),e}function Ak(){var e=_k();if(ck(","))throw new Error(MO);return e}var Ek=function(e,t,n){var r,i,u={};try{r=function(e){RE=0,zE=(PE=e).length,LE=null,QO();var t=Ak();if(LE.type!==tO)throw new Error("Unexpect token after expression.");return t}(e=AE(e)?e:EE(e)+"")}catch(a){yE("Expression parse error: "+e)}return r.visit(function(e){if(e.type===GE){var n=e.callee.name,r=zA.visitors[n];r&&r(n,e.arguments,t,u)}}),(i=LA(r)).globals.forEach(function(e){var n="$"+e;!u.hasOwnProperty(n)&&t.getSignal(e)&&(u[n]=t.signalRef(e))}),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:u}};function Ok(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function kk(e,t,n,r){return new Ok(e,t,n,r)}function Ck(e,t){return kk("operator",e,t)}function Dk(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}var Fk={$tupleid:1,toString:function(){return":_tupleid_:"}};function Mk(e,t){return t?{$field:e,$name:t}:{$field:e}}var Sk=Mk("key");function jk(e,t){return{$compare:e,$order:t}}var Tk="descending";function Nk(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var Bk="scope",Pk="view";function Rk(e){return e&&e.signal}function zk(e){if(Rk(e))return!0;if(_E(e))for(var t in e)if(zk(e[t]))return!0;return!1}function Lk(e,t){return null!=e?e:t}function Ik(e){return e&&e.signal||e}var Uk="timer";function qk(e,t){return(e.merge?Wk:e.stream?Hk:e.type?Yk:yE("Invalid stream specification: "+EE(e)))(e,t)}function Wk(e,t){var n=Vk({merge:e.merge.map(function(e){return qk(e,t)})},e,t);return t.addStream(n).id}function Hk(e,t){var n=Vk({stream:qk(e.stream,t)},e,t);return t.addStream(n).id}function Yk(e,t){var n,r,i;return e.type===Uk?(n=t.event(Uk,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((i=e.source)===Bk?Pk:i||Pk,e.type),r=Vk({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function Vk(e,t,n){var r=t.between;return r&&(2!==r.length&&yE('Stream "between" parameter must have 2 entries: '+EE(t)),e.between=[qk(r[0],n),qk(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===Bk&&r.push("inScope(event.item)"),r.length&&(e.filter=Ek("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var Gk=n(46),$k=function(e,t,n){var r=e.events,i=e.update,u=e.encode,a=[],o={target:n};r||yE("Signal update missing events specification."),AE(r)&&(r=Object(Gk.a)(r,t.isSubscope()?Bk:Pk)),r=CE(r).filter(function(e){return e.signal||e.scale?(a.push(e),0):1}),a.length>1&&(a=[Xk(a)]),r.length&&a.push(r.length>1?{merge:r}:r[0]),null!=u&&(i&&yE("Signal encode and update are mutually exclusive."),i="encode(item(),"+EE(u)+")"),o.update=AE(i)?Ek(i,t,"var datum=event.item&&event.item.datum;"):null!=i.expr?Ek(i.expr,t,"var datum=event.item&&event.item.datum;"):null!=i.value?i.value:null!=i.signal?{$expr:"_.value",$params:{value:t.signalRef(i.signal)}}:yE("Invalid signal update specification."),e.force&&(o.options={force:!0}),a.forEach(function(e){t.addUpdate(DE(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):qk(e,t)}}(e,t),o))})};function Xk(e){return{signal:"["+e.map(function(e){return e.scale?'scale("'+e.scale+'")':e.signal})+"]"}}function Jk(e){return function(t,n,r){return kk(e,n,t||void 0,r)}}var Kk=Jk("aggregate"),Qk=Jk("axisticks"),Zk=Jk("bound"),eC=Jk("collect"),tC=Jk("compare"),nC=Jk("datajoin"),rC=Jk("encode"),iC=Jk("expression"),uC=(Jk("extent"),Jk("facet")),aC=Jk("field"),oC=Jk("key"),cC=Jk("legendentries"),fC=Jk("load"),sC=Jk("mark"),lC=Jk("multiextent"),dC=Jk("multivalues"),hC=Jk("overlap"),pC=Jk("params"),mC=Jk("prefacet"),vC=Jk("projection"),gC=Jk("proxy"),bC=Jk("relay"),yC=Jk("render"),xC=Jk("scale"),wC=Jk("sieve"),_C=Jk("sortitems"),AC=Jk("viewlayout"),EC=Jk("values"),OC=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},kC="identity",CC="linear",DC="log",FC="pow",MC="sqrt",SC="symlog",jC="time",TC="utc",NC="sequential",BC="diverging",PC="quantile",RC="quantize",zC="threshold",LC="ordinal",IC="point",UC="band",qC="bin-ordinal";function WC(e){return e===PC}function HC(e){return e===qC||e===LC||e===UC||e===IC}function YC(e){return e===qC||e===PC||e===RC||e===zC}ys.timeMillisecond,ys.timeSecond,ys.timeMinute,ys.timeHour,ys.timeDay,ys.timeWeek,ys.timeMonth,ys.timeYear,ys.utcMillisecond,ys.utcSecond,ys.utcMinute,ys.utcHour,ys.utcDay,ys.utcWeek,ys.utcMonth,ys.utcYear;var VC=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},GC=function(e){return function(t){var n,r,i,u,a=e.range(),o=t[0],c=t[1],f=-1;for(c<o&&(r=o,o=c,c=r),i=0,u=a.length;i<u;++i)a[i]>=o&&a[i]<=c&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(a[f]),c=e.invertExtent(a[n]),[void 0===o[0]?o[1]:o[0],void 0===c[1]?c[0]:c[1]]}},$C=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},XC=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return $C(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;e(t[u],n)>0?i=u:r=u+1}return r}}};var JC=XC($C),KC=JC.right,QC=(JC.left,KC);var ZC=Array.prototype,eD=(ZC.slice,ZC.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),u=new Array(i);++r<i;)u[r]=e+r*n;return u}),tD=Math.sqrt(50),nD=Math.sqrt(10),rD=Math.sqrt(2),iD=function(e,t,n){var r,i,u,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=uD(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),u=new Array(i=Math.ceil(t-e+1));++o<i;)u[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),u=new Array(i=Math.ceil(e-t+1));++o<i;)u[o]=(e-o)/a;return r&&u.reverse(),u};function uD(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=tD?10:u>=nD?5:u>=rD?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=tD?10:u>=nD?5:u>=rD?2:1)}function aD(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=tD?i*=10:u>=nD?i*=5:u>=rD&&(i*=2),t<e?-i:i}var oD=function(e){return null===e?NaN:+e};function cD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oD;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,u=Math.floor(i),a=+n(e[u],u,e);return a+(+n(e[u+1],u+1,e)-a)*(i-u)}}function fD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sD(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var lD=Symbol("implicit");function dD(){var e=new Map,t=[],n=[],r=lD;function i(i){var u=i+"",a=e.get(u);if(!a){if(r!==lD)return r;e.set(u,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,u=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var f=o.value,s=f+"";e.has(s)||e.set(s,t.push(f))}}catch(l){u=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return dD(t,n).unknown(r)},fD.apply(i,arguments),i}var hD=function(e){return function(){return e}},pD=function(e){return+e},mD=[0,1];function vD(e){return e}function gD(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hD(isNaN(t)?NaN:.5)}function bD(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function yD(e,t,n){var r=e[0],i=e[1],u=t[0],a=t[1];return i<r?(r=gD(i,r),u=n(a,u)):(r=gD(r,i),u=n(u,a)),function(e){return u(r(e))}}function xD(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),u=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=gD(e[a],e[a+1]),u[a]=n(t[a],t[a+1]);return function(t){var n=QC(e,t,1,r)-1;return u[n](i[n](t))}}function wD(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _D(){var e,t,n,r,i,u,a=mD,o=mD,c=Hs.interpolate,f=vD;function s(){return r=Math.min(a.length,o.length)>2?xD:yD,i=u=null,l}function l(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),o,c)))(e(f(t)))}return l.invert=function(n){return f(t((u||(u=r(o,a.map(e),Hs.interpolateNumber)))(n)))},l.domain=function(e){return arguments.length?(a=Array.from(e,pD),f===vD||(f=bD(a)),s()):a.slice()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.rangeRound=function(e){return o=Array.from(e),c=Hs.interpolateRound,s()},l.clamp=function(e){return arguments.length?(f=e?bD(a):vD,l):f!==vD},l.interpolate=function(e){return arguments.length?(c=e,s()):c},l.unknown=function(e){return arguments.length?(n=e,l):n},function(n,r){return e=n,t=r,s()}}function AD(e,t){return _D()(e,t)}var ED=function(e,t,n,r){var i,u=aD(e,t,n);switch((r=Object(nl.formatSpecifier)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(nl.precisionPrefix)(u,a))||(r.precision=i),Object(nl.formatPrefix)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(nl.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(nl.precisionFixed)(u))||(r.precision=i-2*("%"===r.type))}return Object(nl.format)(r)};function OD(e){var t=e.domain;return e.ticks=function(e){var n=t();return iD(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ED(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),u=0,a=i.length-1,o=i[u],c=i[a];return c<o&&(r=o,o=c,c=r,r=u,u=a,a=r),(r=uD(o,c,n))>0?r=uD(o=Math.floor(o/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=uD(o=Math.ceil(o*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[u]=Math.floor(o/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[u]=Math.ceil(o*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}var kD=function(e,t){var n,r=0,i=(e=e.slice()).length-1,u=e[r],a=e[i];return a<u&&(n=r,r=i,i=n,n=u,u=a,a=n),e[r]=t.floor(u),e[i]=t.ceil(a),e};function CD(e){return Math.log(e)}function DD(e){return Math.exp(e)}function FD(e){return-Math.log(-e)}function MD(e){return-Math.exp(-e)}function SD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jD(e){return function(t){return-e(-t)}}function TD(e){var t,n,r=e(CD,DD),i=r.domain,u=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),n=function(e){return 10===e?SD:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),i()[0]<0?(t=jD(t),n=jD(n),e(FD,MD)):e(CD,DD),r}return r.base=function(e){return arguments.length?(u=+e,a()):u},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),o=a[0],c=a[a.length-1];(r=c<o)&&(d=o,o=c,c=d);var f,s,l,d=t(o),h=t(c),p=null==e?10:+e,m=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,o>0){for(;d<h;++d)for(s=1,f=n(d);s<u;++s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else for(;d<h;++d)for(s=u-1,f=n(d);s>=1;--s)if(!((l=f*s)<o)){if(l>c)break;m.push(l)}}else m=iD(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===u?".0e":","),"function"!==typeof i&&(i=Object(nl.format)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,u*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*u<u-.5&&(r*=u),r<=a?i(e):""}},r.nice=function(){return i(kD(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function ND(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function PD(e){var t=1,n=e(ND(t),BD(t));return n.constant=function(n){return arguments.length?e(ND(t=+n),BD(t)):t},OD(n)}function RD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LD(e){return e<0?-e*e:e*e}function ID(e){var t=e(vD,vD),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(vD,vD):.5===n?e(zD,LD):e(RD(n),RD(1/n)):n},OD(t)}function UD(){var e=ID(_D());return e.copy=function(){return wD(e,UD()).exponent(e.exponent())},fD.apply(e,arguments),e}var qD=1e3,WD=60*qD,HD=60*WD,YD=24*HD,VD=7*YD,GD=30*YD,$D=365*YD;function XD(e){return new Date(e)}function JD(e){return e instanceof Date?+e:+new Date(+e)}function KD(e,t,n,r,i,u,a,o,c){var f=AD(vD,vD),s=f.invert,l=f.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),y=c("%Y"),x=[[a,1,qD],[a,5,5*qD],[a,15,15*qD],[a,30,30*qD],[u,1,WD],[u,5,5*WD],[u,15,15*WD],[u,30,30*WD],[i,1,HD],[i,3,3*HD],[i,6,6*HD],[i,12,12*HD],[r,1,YD],[r,2,2*YD],[n,1,VD],[t,1,GD],[t,3,3*GD],[e,1,$D]];function w(o){return(a(o)<o?d:u(o)<o?h:i(o)<o?p:r(o)<o?m:t(o)<o?n(o)<o?v:g:e(o)<o?b:y)(o)}function _(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var u=Math.abs(r-n)/t,a=XC(function(e){return e[2]}).right(x,u);a===x.length?(i=aD(n/$D,r/$D,t),t=e):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],t=a[0]):(i=Math.max(aD(n,r,t),1),t=o)}return null==i?t:t.every(i)}return f.invert=function(e){return new Date(s(e))},f.domain=function(e){return arguments.length?l(Array.from(e,JD)):l().map(XD)},f.ticks=function(e,t){var n,r=l(),i=r[0],u=r[r.length-1],a=u<i;return a&&(n=i,i=u,u=n),n=(n=_(e,i,u,t))?n.range(i,u+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?w:c(t)},f.nice=function(e,t){var n=l();return(e=_(e,n[0],n[n.length-1],t))?l(kD(n,e)):f},f.copy=function(){return wD(f,KD(e,t,n,r,i,u,a,o,c))},f}function QD(){var e,t,n,r,i,u=0,a=1,o=vD,c=!1;function f(t){return isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return f.domain=function(i){var o;return arguments.length?(o=Or(i,2),u=o[0],a=o[1],e=r(u=+u),t=r(a=+a),n=e===t?0:1/(t-e),f):[u,a]},f.clamp=function(e){return arguments.length?(c=!!e,f):c},f.interpolator=function(e){return arguments.length?(o=e,f):o},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return r=i,e=i(u),t=i(a),n=e===t?0:1/(t-e),f}}function ZD(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eF(){var e=OD(QD()(vD));return e.copy=function(){return ZD(e,eF())},sD.apply(e,arguments)}function tF(){var e=ID(QD());return e.copy=function(){return ZD(e,tF()).exponent(e.exponent())},sD.apply(e,arguments)}function nF(){var e,t,n,r,i,u,a,o=0,c=.5,f=1,s=vD,l=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+u(e))-t)*(e<t?r:i),s(l?Math.max(0,Math.min(1,e)):e))}return d.domain=function(a){var s;return arguments.length?(s=Or(a,3),o=s[0],c=s[1],f=s[2],e=u(o=+o),t=u(c=+c),n=u(f=+f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d):[o,c,f]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(s=e,d):s},d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return u=a,e=a(o),t=a(c),n=a(f),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d}}function rF(){var e=ID(nF());return e.copy=function(){return ZD(e,rF()).exponent(e.exponent())},sD.apply(e,arguments)}function iF(){var e,t,n=dD().unknown(void 0),r=n.domain,i=n.range,u=[0,1],a=!1,o=0,c=0,f=.5;function s(){var n=r().length,s=u[1]<u[0],l=u[s-0],d=u[1-s],h=OC(n,o,c);e=(d-l)/(h||1),a&&(e=Math.floor(e)),l+=(d-l-e*(n-o))*f,t=e*(1-o),a&&(l=Math.round(l),t=Math.round(t));var p=eD(n).map(function(t){return l+e*t});return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),s()):r()},n.range=function(e){return arguments.length?(u=[+e[0],+e[1]],s()):u.slice()},n.rangeRound=function(e){return u=[+e[0],+e[1]],a=!0,s()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,s()):a},n.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),o=c,s()):o},n.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),s()):o},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),s()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,o,c=+e[0],f=+e[1],s=u[1]<u[0],l=s?i().reverse():i(),d=l.length-1;if(c===c&&f===f&&(f<c&&(o=c,c=f,f=o),!(f<l[0]||c>u[1-s])))return n=Math.max(0,KC(l,c)-1),a=c===f?n:KC(l,f)-1,c-l[n]>t+1e-10&&++n,s&&(o=n,n=d-a,a=d-o),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return iF().domain(r()).range(u).round(a).paddingInner(o).paddingOuter(c).align(f)},s()}var uF=Array.prototype.map;var aF,oF=Array.prototype.slice;function cF(e,t){return arguments.length>1?(fF[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?VC(n):n.invertExtent?GC(n):void 0),n.type=e,n}}(e,t),this):fF.hasOwnProperty(e)?fF[e]:void 0}var fF=(aF={},Object(_s.a)(aF,kC,function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,pD),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,pD):[0,1],OD(r)}),Object(_s.a)(aF,CC,function e(){var t=AD(vD,vD);return t.copy=function(){return wD(t,e())},fD.apply(t,arguments),OD(t)}),Object(_s.a)(aF,DC,function e(){var t=TD(_D()).domain([1,10]);return t.copy=function(){return wD(t,e()).base(t.base())},fD.apply(t,arguments),t}),Object(_s.a)(aF,FC,UD),Object(_s.a)(aF,MC,function(){return UD.apply(null,arguments).exponent(.5)}),Object(_s.a)(aF,SC,function e(){var t=PD(_D());return t.copy=function(){return wD(t,e()).constant(t.constant())},fD.apply(t,arguments)}),Object(_s.a)(aF,jC,function(){return fD.apply(KD(ys.timeYear,ys.timeMonth,ys.timeWeek,ys.timeDay,ys.timeHour,ys.timeMinute,ys.timeSecond,ys.timeMillisecond,cn.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),Object(_s.a)(aF,TC,function(){return fD.apply(KD(ys.utcYear,ys.utcMonth,ys.utcWeek,ys.utcDay,ys.utcHour,ys.utcMinute,ys.utcSecond,ys.utcMillisecond,cn.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Object(_s.a)(aF,NC,eF),Object(_s.a)(aF,NC+"-"+CC,eF),Object(_s.a)(aF,NC+"-"+DC,function e(){var t=TD(QD()).domain([1,10]);return t.copy=function(){return ZD(t,e()).base(t.base())},sD.apply(t,arguments)}),Object(_s.a)(aF,NC+"-"+FC,tF),Object(_s.a)(aF,NC+"-"+MC,function(){return tF.apply(null,arguments).exponent(.5)}),Object(_s.a)(aF,NC+"-"+SC,function e(){var t=PD(QD());return t.copy=function(){return ZD(t,e()).constant(t.constant())},sD.apply(t,arguments)}),Object(_s.a)(aF,BC+"-"+CC,function e(){var t=OD(nF()(vD));return t.copy=function(){return ZD(t,e())},sD.apply(t,arguments)}),Object(_s.a)(aF,BC+"-"+DC,function e(){var t=TD(nF()).domain([.1,1,10]);return t.copy=function(){return ZD(t,e()).base(t.base())},sD.apply(t,arguments)}),Object(_s.a)(aF,BC+"-"+FC,rF),Object(_s.a)(aF,BC+"-"+MC,function(){return rF.apply(null,arguments).exponent(.5)}),Object(_s.a)(aF,BC+"-"+SC,function e(){var t=PD(nF());return t.copy=function(){return ZD(t,e()).constant(t.constant())},sD.apply(t,arguments)}),Object(_s.a)(aF,PC,function e(){var t,n=[],r=[],i=[];function u(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=cD(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[QC(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=a.value;null==c||isNaN(c=+c)||n.push(c)}}catch(f){r=!0,i=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.sort($C),u()},a.range=function(e){return arguments.length?(r=Array.from(e),u()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},fD.apply(a,arguments)}),Object(_s.a)(aF,RC,function e(){var t,n=0,r=1,i=1,u=[.5],a=[0,1];function o(e){return e<=e?a[QC(u,e,0,i)]:t}function c(){var e=-1;for(u=new Array(i);++e<i;)u[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){var t;return arguments.length?(t=Or(e,2),n=t[0],r=t[1],n=+n,r=+r,c()):[n,r]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,c()):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,u[0]]:t>=i?[u[i-1],r]:[u[t-1],u[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return u.slice()},o.copy=function(){return e().domain([n,r]).range(a).unknown(t)},fD.apply(OD(o),arguments)}),Object(_s.a)(aF,zC,function e(){var t,n=[.5],r=[0,1],i=1;function u(e){return e<=e?r[QC(n,e,0,i)]:t}return u.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return e().domain(n).range(r).unknown(t)},fD.apply(u,arguments)}),Object(_s.a)(aF,qC,function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(QC(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return uF.call(e,function(e){return+e})}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=oF.call(e),r):n.slice()},r.tickFormat=function(e,n){return ED(t[0],kE(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),Object(_s.a)(aF,LC,dD),Object(_s.a)(aF,UC,iF),Object(_s.a)(aF,IC,function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(iF().paddingInner(1))}),aF);for(var sF in fF)cF(sF,fF[sF]);function lF(e,t,n){return Hs.piecewise(function(e,t){var n=Hs[function(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function dF(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function hF(e,t){for(var n in e)mF(n,t(e[n]))}var pF={};function mF(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(pF[e]=t,this):pF[e]}hF({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},dF),hF({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(e){return lF(dF(e))});var vF=0;function gF(e,t){var n=e.type||"linear";(function(e){switch(e){case kC:case CC:case DC:case FC:case MC:case SC:case jC:case TC:case NC:case PC:case RC:case zC:case LC:case IC:case UC:case qC:return!0}return!1})(n)||yE("Unrecognized scale type: "+EE(n)),t.addScale(e.name,{type:n,domain:void 0})}function bF(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=_F(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,u=n.config.range;if(i.signal)return n.signalRef(i.signal);if(AE(i)){if(u&&u.hasOwnProperty(i))return t=DE({},t,{range:u[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=HC(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:yE("Unrecognized scale range value: "+EE(i))}else{if(i.scheme)return r.scheme=wE(i.scheme)?xF(i.scheme,n):yF(i.scheme,n),i.extent&&(r.schemeExtent=xF(i.extent,n)),void(i.count&&(r.schemeCount=yF(i.count,n)));if(i.step)return void(r.rangeStep=yF(i.step,n));if(HC(t.type)&&!wE(i))return _F(i,t,n);wE(i)||yE("Unsupported range type: "+EE(i))}return i.map(function(e){return(wE(e)?xF:yF)(e,n)})}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=yF(e.type||e),null!=e.gamma&&(t.interpolateGamma=yF(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,_E(r)?{interval:yF(r.interval),step:yF(r.step)}:yF(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||wE(e)?xF(e,t):t.objectProperty(e)}(e.bins,t)),e)i.hasOwnProperty(n)||"name"===n||(i[n]=yF(e[n],t))}function yF(e,t){return _E(e)?e.signal?t.signalRef(e.signal):yE("Unsupported object: "+EE(e)):e}function xF(e,t){return e.signal?t.signalRef(e.signal):e.map(function(e){return yF(e,t)})}function wF(e){yE("Can not find data set: "+EE(e))}function _F(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(wE(e)?function(e,t,n){return e.map(function(e){return yF(e,n)})}:e.fields?function(e,t,n){var r=e.data,i=e.fields.reduce(function(e,t){return t=AE(t)?{data:r,field:t}:wE(t)||t.signal?function(e,t){var n="_:vega:_"+vF++,r=eC({});if(wE(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+EE(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,wC({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e},[]);return(HC(t.type)?function(e,t,n){var r,i,u,a;return r=n.map(function(e){var n=t.getData(e.data);return n||wF(e.data),n.countsRef(t,e.field)}),i=t.add(Kk({groupby:Sk,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:r})),u=t.add(eC({pulse:Dk(i)})),a=t.add(EC({field:Sk,sort:t.sortRef(AF(e.sort,!0)),pulse:Dk(u)})),Dk(a)}:WC(t.type)?function(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||wF(e.data),n.domainRef(t,e.field)});return Dk(t.add(dC({values:r})))}:function(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||wF(e.data),n.extentRef(t,e.field)});return Dk(t.add(lC({extents:r})))})(e,n,i)}:function(e,t,n){var r=n.getData(e.data);r||wF(e.data);return HC(t.type)?r.valuesRef(n,e.field,AF(e.sort,!1)):WC(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)})(e,t,n);null==t.domainMin&&null==t.domainMax||yE("No scale domain defined for domainMin/domainMax to override.")}function AF(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field?yE("Multiple domain scales can not sort by field."):t&&e.op&&"count"!==e.op&&yE("Multiple domain scales support op count only."):yE("No field provided for sort aggregate op: "+e.op):_E(e)?e.field="key":e={field:"key"}),e}function EF(e,t,n){return wE(e)?e.map(function(e){return EF(e,t,n)}):_E(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:yE("Unsupported parameter object: "+EE(e)):e}var OF="vertical",kF="start",CF="end",DF="value",FF="guide-label",MF="group-title",SF="symbol",jF="gradient",TF="discrete",NF=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],BF={name:1,interactive:1},PF={value:0},RF={value:1},zF=FE(["rule"]),LF=FE(["group","image","rect"]),IF=function(e,t){var n="";return zF[t]?n:(e.x2&&(e.x?(LF[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(LF[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},UF=function(e,t,n,r){var i=Ek(e,t);return i.$fields.forEach(function(e){r[e]=1}),DE(n,i.$params),i.$expr},qF=function(e,t,n,r){return function e(t,n,r,i){var u,a,o;if(t.signal)u="datum",o=UF(t.signal,n,r,i);else if(t.group||t.parent){for(a=Math.max(1,t.level||1),u="item";a-- >0;)u+=".mark.group";t.parent?(o=t.parent,u+=".datum"):o=t.group}else t.datum?(u="datum",o=t.datum):yE("Invalid field reference: "+EE(t));t.signal||(AE(o)?(i[o]=1,o=xE(o).map(EE).join("][")):o=e(o,n,r,i));return u+"["+o+"]"}(_E(e)?e:{datum:e},t,n,r)};var WF=function(e,t,n,r,i){var u,a,o,c=HF(e.scale,n,r,i);return null!=e.range?(a=c+".range()",t=0===(u=+e.range)?a+"[0]":"($="+a+","+(1===u?"$[$.length-1]":"$[0]+"+u+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=c+"("+t+")"),e.band&&(o=function(e,t){if(!AE(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(u=(a=c+".bandwidth")+"()"+(1===(u=+e.band)?"":"*"+u),o<0&&(u="("+a+"?"+u+":0)"),t=(t?t+"+":"")+u,e.extra&&(t="(datum.extra?"+c+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t};function HF(e,t,n,r){var i;if(AE(e))i=DA+e,n.hasOwnProperty(i)||(n[i]=t.scaleRef(e)),i=EE(i);else{for(i in t.scales)n[DA+i]=t.scaleRef(i);i=EE(DA)+"+"+(e.signal?"("+UF(e.signal,t,n,r)+")":qF(e,t,n,r))}return"_["+i+"]"}var YF=function(e,t,n,r){return _E(e)?"("+VF(null,e,t,n,r)+")":e},VF=function(e,t,n,r,i){if(null!=t.gradient)return function(e,t,n,r){return"this.gradient("+HF(e.gradient,t,n,r)+","+EE(e.start)+","+EE(e.stop)+","+EE(e.count)+")"}(t,n,r,i);var u=t.signal?UF(t.signal,n,r,i):t.color?function(e,t,n,r){function i(e,i,u,a){return"this."+e+"("+[VF(null,i,t,n,r),VF(null,u,t,n,r),VF(null,a,t,n,r)].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null}(t.color,n,r,i):null!=t.field?qF(t.field,n,r,i):void 0!==t.value?EE(t.value):void 0;return null!=t.scale&&(u=WF(t,u,n,r,i)),void 0===u&&(u=null),null!=t.exponent&&(u="Math.pow("+u+","+YF(t.exponent,n,r,i)+")"),null!=t.mult&&(u+="*"+YF(t.mult,n,r,i)),null!=t.offset&&(u+="+"+YF(t.offset,n,r,i)),t.round&&(u="Math.round("+u+")"),u},GF=function(e,t,n){return e+"["+EE(t)+"]="+n+";"},$F=function(e,t,n,r,i){var u="";return t.forEach(function(t){var a=VF(e,t,n,r,i);u+=t.test?UF(t.test,n,r,i)+"?"+a+":":a}),":"===kE(u)&&(u+="null"),GF("o",e,u)};function XF(e,t,n,r){var i,u,a,o={},c="var o=item,datum=o.datum,$;";for(i in e)u=e[i],wE(u)?c+=$F(i,u,r,n,o):(a=VF(i,u,r,n,o),c+=GF("o",i,a));return c+=IF(e,t),{$expr:c+="return 1;",$fields:Object.keys(o),$output:Object.keys(e)}}var JF="mark",KF="frame",QF="title";function ZF(e){return _E(e)?DE({},e):{value:e}}function eM(e,t,n,r){return null!=n?(_E(n)&&!wE(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function tM(e,t,n){for(var r in t)eM(e,r,t[r]);for(var i in n)eM(e,i,n[i],"update")}function nM(e,t,n){for(var r in t)n&&n.hasOwnProperty(r)||(e[r]=DE(e[r]||{},t[r]));return e}function rM(e,t,n,r,i,u){var a,o;for(o in(u=u||{}).encoders={$encode:a={}},e=function(e,t,n,r,i){var u,a,o={};"legend"!=n&&0!==String(n).indexOf("axis")||(n=null);for(u in a=n===KF?i.group:n===JF?DE({},i.mark,i[t]):null)uM(u,e)||("fill"===u||"stroke"===u)&&(uM("fill",e)||uM("stroke",e))||(o[u]=iM(a[u]));return CE(r).forEach(function(t){var n=i.style&&i.style[t];for(var r in n)uM(r,e)||(o[r]=iM(n[r]))}),(e=DE({},e)).enter=DE(o,e.enter),e}(e,t,n,r,i.config))a[o]=XF(e[o],t,u,i);return u}function iM(e){return e&&e.signal?{signal:e.signal}:{value:e}}function uM(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var aM=function(e,t,n,r,i,u,a){return{type:e,name:a?a.name:void 0,role:t,style:a&&a.style||n,key:r,from:i,interactive:!(!a||!a.interactive),encode:nM(u,a,BF)}};function oM(e,t){var n=function(n){return Lk(e[n],t[n])};return n.isVertical=function(n){return OF===Lk(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return Lk(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return Lk(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return Lk(e.columns,Lk(t.columns,+n.isVertical(!0)))},n}function cM(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function fM(e,t,n){return'item.anchor === "'.concat(kF,'" ? ').concat(e,' : item.anchor === "').concat(CF,'" ? ').concat(t," : ").concat(n)}var sM=fM(EE("left"),EE("right"),EE("center")),lM="group",dM="text",hM=function(e,t,n,r){var i,u,a,o,c,f,s=oM(e,n),l=s.isVertical(),d=s.gradientThickness(),h=s.gradientLength();return l?(a=[0,1],o=[0,0],c=d,f=h):(a=[0,0],o=[1,0],c=h,f=d),tM(i={enter:u={opacity:PF,x:PF,y:PF,width:ZF(c),height:ZF(f)},update:DE({},u,{opacity:RF,fill:{gradient:t,start:a,stop:o}}),exit:{opacity:PF}},{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),aM("rect","legend-gradient",null,void 0,void 0,i,r)},pM=function(e,t,n,r,i){var u,a,o,c,f,s,l=oM(e,n),d=l.isVertical(),h=l.gradientThickness(),p=l.gradientLength(),m="";return d?(o="y",f="y2",c="x",s="width",m="1-"):(o="x",f="x2",c="y",s="height"),(a={opacity:PF,fill:{scale:t,field:DF}})[o]={signal:m+"datum.perc",mult:p},a[c]=PF,a[f]={signal:m+"datum.perc2",mult:p},a[s]=ZF(h),tM(u={enter:a,update:DE({},a,{opacity:RF}),exit:{opacity:PF}},{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),aM("rect","legend-band",null,DF,i,u,r)},mM="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),vM="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"'),gM=function(e,t,n,r){var i,u,a,o,c,f=oM(e,t),s=f.isVertical(),l=ZF(f.gradientThickness()),d=f.gradientLength(),h=f("labelOverlap"),p=f("labelSeparation"),m="";return tM(i={enter:u={opacity:PF},update:a={opacity:RF,text:{field:"label"}},exit:{opacity:PF}},{fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:Lk(e.labelLimit,t.gradientLabelLimit)}),s?(u.align={value:"left"},u.baseline=a.baseline={signal:vM},o="y",c="x",m="1-"):(u.align=a.align={signal:mM},u.baseline={value:"top"},o="x",c="y"),u[o]=a[o]={signal:m+"datum.perc",mult:d},u[c]=a[c]=l,l.offset=Lk(e.labelOffset,t.gradientLabelOffset)||0,e=aM(dM,"legend-label",FF,DF,r,i,n),h&&(e.overlap={separation:p,method:h,order:"datum.index"}),e},bM=function(e,t,n,r,i,u,a,o){return{type:lM,name:n,role:e,style:t,from:r,interactive:i||!1,encode:u,marks:a,layout:o}},yM=function(e,t,n,r,i){var u,a,o,c,f,s,l,d=oM(e,t),h=n.entries,p=!(!h||!h.interactive),m=h?h.name:void 0,v=d("clipHeight"),g=d("symbolOffset"),b={data:"value"},y={},x="".concat(i," ? datum.").concat("offset"," : datum.").concat("size"),w=v?ZF(v):{field:"size"},_="datum.".concat("index"),A="max(1, ".concat(i,")");return w.mult=.5,y={enter:u={opacity:PF,x:{signal:x,mult:.5,offset:g},y:w},update:a={opacity:RF,x:u.x,y:u.y},exit:{opacity:PF}},e.fill||tM(y,{fill:t.symbolBaseFillColor,stroke:t.symbolBaseStrokeColor}),tM(y,{fill:d("symbolFillColor"),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor"),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),NF.forEach(function(t){e[t]&&(a[t]=u[t]={scale:e[t],field:DF})}),c=aM("symbol","legend-symbol",null,DF,b,y,n.symbols),v&&(c.clip=!0),(o=ZF(g)).offset=d("labelOffset"),tM(y={enter:u={opacity:PF,x:{signal:x,offset:o},y:w},update:a={opacity:RF,text:{field:"label"},x:u.x,y:u.y},exit:{opacity:PF}},{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")}),f=aM(dM,"legend-label",FF,DF,b,y,n.labels),y={enter:{noBound:{value:!v},width:PF,height:v?ZF(v):PF,opacity:PF},exit:{opacity:PF},update:a={opacity:RF,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(A,")"),a.row.signal="".concat(_,"%").concat(s),a.column.signal="floor(".concat(_," / ").concat(s,")"),l={field:["row",_]}):(a.row.signal="floor(".concat(_," / ").concat(A,")"),a.column.signal="".concat(_," % ").concat(A),l={field:_}),a.column.signal="".concat(i,"?").concat(a.column.signal,":").concat(_),(e=bM("scope",null,m,r={facet:{data:r,name:"value",groupby:"index"}},p,nM(y,h,BF),[c,f])).sort=l,e};var xM='item.orient === "left"',wM='item.orient === "right"',_M="(".concat(xM," || ").concat(wM,")"),AM="datum.vgrad && ".concat(_M),EM=fM('"top"','"bottom"','"middle"'),OM=fM('"right"','"left"','"center"'),kM="datum.vgrad && ".concat(wM," ? (").concat(OM,") : (").concat(_M," && !(datum.vgrad && ").concat(xM,')) ? "left" : ').concat(sM),CM="item._anchor || (".concat(_M,' ? "middle" : "start")'),DM="".concat(AM," ? (").concat(xM," ? -90 : 90) : 0"),FM="".concat(_M," ? (datum.vgrad ? (").concat(wM,' ? "bottom" : "top") : ').concat(EM,') : "top"'),MM=function(e,t){var n;return _E(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+SM(e.path)+")":e.sphere&&(n="geoShape("+SM(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function SM(e){return _E(e)&&e.signal?e.signal:EE(e)}var jM=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")?e.type===lM?"scope":t||JF:t},TM=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||jM(e),zindex:+e.zindex||void 0}},NM=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},BM=function(e,t){var n=zn(e.type);n||yE("Unrecognized transform type: "+EE(e.type));var r=kk(n.type.toLowerCase(),null,PM(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r};function PM(e,t,n){var r,i,u,a={};for(i=0,u=e.params.length;i<u;++i)a[(r=e.params[i]).name]=RM(r,t,n);return a}function RM(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){AE(t.from)||yE('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(wE(r)||yE("Expected an array of sub-parameters. Instead: "+EE(r)),r.map(function(t){return LM(e,t,n)})):LM(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!Rk(i)?i.map(function(t){return zM(e,t,n)}):zM(e,i,n):void(e.required&&yE("Missing required "+EE(t.type)+" parameter: "+EE(e.name)))}function zM(e,t,n){var r=e.type;if(Rk(t))return IM(r)?yE("Expression references can not be signals."):UM(r)?n.fieldRef(t):qM(r)?n.compareRef(t):n.signalRef(t.signal);var i,u=e.expr||UM(r);return u&&((i=t)&&i.expr)?n.exprRef(t.expr,t.as):u&&function(e){return e&&e.field}(t)?Mk(t.field,t.as):IM(r)?Ek(t,n):function(e){return"data"===e}(r)?Dk(n.getData(t).values):UM(r)?Mk(t):qM(r)?n.compareRef(t):t}function LM(e,t,n){var r,i,u,a,o;for(a=0,o=e.params.length;a<o;++a){for(u in(i=e.params[a]).key)if(i.key[u]!==t[u]){i=null;break}if(i)break}return i||yE("Unsupported parameter: "+EE(t)),r=DE(PM(i,t,n),i.key),Dk(n.add(pC(r)))}function IM(e){return"expr"===e}function UM(e){return"field"===e}function qM(e){return"compare"===e}function WM(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Dk(t.getData(e.data).output)}function HM(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}HM.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],u=t[n-1],a=t[n-2],o=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=Dk(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(o=t[r]);return new HM(e,i,a,u,o)};var YM=HM.prototype;function VM(e){return AE(e)?e:null}function GM(e,t,n){var r,i=Nk(n.op,n.field);if(t.ops){for(var u=0,a=t.as.length;u<a;++u)if(t.as[u]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function $M(e,t,n,r,i,u,a){var o,c,f=t[n]||(t[n]={}),s=function(e){return _E(e)?(e.order===Tk?"-":"+")+Nk(e.op,e.field):""}(u),l=VM(i);if(null!=l&&(e=t.scope,o=f[l+=s?"|"+s:""]),!o){var d=u?{field:Sk,pulse:t.countsRef(e,i,u)}:{field:e.fieldRef(i),pulse:Dk(t.output)};s&&(d.sort=e.sortRef(u)),c=e.add(kk(r,void 0,d)),a&&(t.index[i]=c),o=Dk(c),null!=l&&(f[l]=o)}return o}YM.countsRef=function(e,t,n){var r,i,u,a=this.counts||(this.counts={}),o=VM(t);return null!=o&&(e=this.scope,r=a[o]),r?n&&n.field&&GM(e,r.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:Dk(this.output)},n&&n.field&&GM(e,u,n),i=e.add(Kk(u)),r=e.add(eC({pulse:Dk(i)})),r={agg:i,ref:Dk(r)},null!=o&&(a[o]=r)),r.ref},YM.tuplesRef=function(){return Dk(this.values)},YM.extentRef=function(e,t){return $M(e,this,"extent","extent",t,!1)},YM.domainRef=function(e,t){return $M(e,this,"domain","values",t,!1)},YM.valuesRef=function(e,t,n){return $M(e,this,"vals","values",t,n||!0)},YM.lookupRef=function(e,t){return $M(e,this,"lookup","tupleindex",t,!1)},YM.indataRef=function(e,t){return $M(e,this,"indata","tupleindex",t,!0,!0)};var XM=function(e,t,n){var r,i,u=e.remove,a=e.insert,o=e.toggle,c=e.modify,f=e.values,s=t.add(Ck());r="if("+e.trigger+',modify("'+n+'",'+[a,u,o,c,f].map(function(e){return null==e?"null":e}).join(",")+"),0)",i=Ek(r,t),s.update=i.$expr,s.params=i.$params},JM=function(e,t){var n,r,i,u,a,o,c,f,s,l,d,h,p,m=jM(e),v=e.type===lM,g=e.from&&e.from.facet,b=e.layout||"scope"===m||m===KF,y=m===JF||b||g,x=e.overlap;i=function(e,t,n){var r,i,u,a,o;return e?(r=e.facet)&&(t||yE("Only group marks can be faceted."),null!=r.field?a=o=WM(r,n):(e.data?o=Dk(n.getData(e.data).aggregate):((u=BM(DE({type:"aggregate",groupby:CE(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),u.params.pulse=WM(r,n),a=o=Dk(n.add(u))),i=n.keyRef(r.groupby,!0))):a=Dk(n.add(eC(null,[{}]))),a||(a=WM(e,n)),{key:i,pulse:a,parent:o}}(e.from,v,t),s=Dk(r=t.add(nC({key:i.key||(e.key?Mk(e.key):void 0),pulse:i.pulse,clean:!v}))),r=u=t.add(eC({pulse:s})),r=t.add(sC({markdef:TM(e),interactive:NM(e.interactive,t),clip:MM(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Dk(r)})),l=Dk(r),(r=t.add(rC(rM(e.encode,e.type,m,e.style,t,{pulse:l})))).params.parent=t.encode(),e.transform&&e.transform.forEach(function(e){var n=BM(e,t);(n.metadata.generates||n.metadata.changes)&&yE("Mark transforms should not generate new data."),n.params.pulse=Dk(r),t.add(r=n)}),e.sort&&(r=t.add(_C({sort:t.compareRef(e.sort,!0),pulse:Dk(r)}))),d=Dk(r),(g||b)&&(h=Dk(b=t.add(AC({layout:t.objectProperty(e.layout),legends:t.legends,mark:l,pulse:d})))),p=Dk(a=t.add(Zk({mark:l,pulse:h||d}))),v&&(y&&((n=t.operators).pop(),b&&n.pop()),t.pushState(d,h||p,s),g?function(e,t,n){var r,i,u,a,o=e.from.facet,c=o.name,f=WM(o,t);o.name||yE("Facet must have a name: "+EE(o)),o.data||yE("Facet must reference a data set: "+EE(o)),o.field?a=t.add(mC({field:t.fieldRef(o.field),pulse:f})):o.groupby?a=t.add(uC({key:t.keyRef(o.groupby),group:Dk(t.proxy(n.parent)),pulse:f})):yE("Facet must specify groupby or field: "+EE(o)),i=(r=t.fork()).add(eC()),u=r.add(wC({pulse:Dk(i)})),r.addData(c,new HM(r,i,i,u)),r.addSignal("parent",null),a.params.subflow={$subflow:fS(e,r).toRuntime()}}(e,t,i):y?function(e,t,n){var r=t.add(mC({pulse:n.pulse})),i=t.fork();i.add(wC()),i.addSignal("parent",null),r.params.subflow={$subflow:fS(e,i).toRuntime()}}(e,t,i):fS(e,t),t.popState(),y&&(b&&n.push(b),n.push(a))),x&&(p=function(e,t,n){var r,i=e.method,u=e.bound,a=e.separation,o={separation:Rk(a)?n.signalRef(a.signal):a,method:Rk(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));u&&(r=u.tolerance,o.boundTolerance=Rk(r)?n.signalRef(r.signal):+r,o.boundScale=n.scaleRef(u.scale),o.boundOrient=u.orient);return Dk(n.add(hC(o)))}(x,p,t)),o=t.add(yC({pulse:p})),c=t.add(wC({pulse:Dk(o)},void 0,t.parent())),null!=e.name&&(f=e.name,t.addData(f,new HM(t,u,o,c)),e.on&&e.on.forEach(function(e){(e.insert||e.remove||e.toggle)&&yE("Marks only support modify triggers."),XM(e,t,f)}))};var KM=function(e,t){var n,r,i,u,a,o,c,f,s,l=t.config.legend,d=e.encode||{},h=d.legend||{},p=h.name||void 0,m=h.interactive,v=h.style,g=oM(e,l),b=NF.reduce(function(t,n){return t||e[n]},0);return b||yE("Missing valid scale for legend."),a=function(e,t){var n=e.type||SF;e.type||1!==function(e){return NF.reduce(function(t,n){return t+(e[n]?1:0)},0)}(e)||!e.fill&&!e.stroke||(n=function(e){switch(e){case CC:case DC:case FC:case MC:case SC:case jC:case TC:case NC:return!0}return!1}(t)?jF:YC(t)?TF:SF);return n!==jF?n:YC(t)?TF:jF}(e,t.scaleType(b)),o={title:null!=e.title,type:a,vgrad:"symbol"!==a&&g.isVertical()},c=Dk(t.add(eC(null,[o]))),h=nM(function(e,t){var n={enter:{},update:{}};return tM(n,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:t.strokeWidth,strokeDash:t.strokeDash}),n}(g,l),h,BF),n={enter:{x:{value:0},y:{value:0}}},f=Dk(t.add(cC(i={type:a,scale:t.scaleRef(b),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),a===jF?(u=[hM(e,b,l,d.gradient),gM(e,l,d.labels,f)],i.count=i.count||t.signalRef("max(2,2*floor((".concat(Ik(g.gradientLength()),")/100))"))):a===TF?u=[pM(e,b,l,d.gradient,f),gM(e,l,d.labels,f)]:(r=function(e,t){var n=oM(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,l),u=[yM(e,l,d,f,Ik(r.columns))],i.size=function(e,t,n){var r=Ik(QM("size",e,n)),i=Ik(QM("strokeWidth",e,n)),u=Ik(function(e,t,n){return cM("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,FF));return Ek("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(u,")"),t)}(e,t,u[0].marks)),u=[bM("legend-entry",null,null,c,m,n,u,r)],o.title&&u.push(function(e,t,n,r){var i,u=oM(e,t);return tM(i={enter:{opacity:PF},update:{opacity:RF,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:PF}},{orient:u("titleOrient"),_anchor:u("titleAnchor"),anchor:{signal:CM},angle:{signal:DM},align:{signal:kM},baseline:{signal:FM},text:e.title,fill:u("titleColor"),fillOpacity:u("titleOpacity"),font:u("titleFont"),fontSize:u("titleFontSize"),fontStyle:u("titleFontStyle"),fontWeight:u("titleFontWeight"),limit:u("titleLimit")},{align:u("titleAlign"),baseline:u("titleBaseline")}),aM(dM,"legend-title","guide-title",null,r,i,n)}(e,l,d.title,c)),s=bM("legend",v,p,c,m,h,u),e.zindex&&(s.zindex=e.zindex),JM(s,t)};function QM(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):cM(e,n[0].encode)}var ZM='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0'),eS='item.orient==="'.concat("bottom",'"?"').concat("top",'":"').concat("bottom",'"'),tS=function(e,t){e=AE(e)?{text:e}:e;var n,r,i=t.config.title,u=DE({},e.encode);return n=Dk(t.add(eC(null,[{}]))),u.name=e.name,u.interactive=e.interactive,r=function(e,t,n,r){var i,u=oM(e,t),a={value:0},o=e.text;return tM(i={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}},{text:o,orient:u("orient"),anchor:u("anchor"),align:{signal:sM},angle:{signal:ZM},baseline:{signal:eS},dx:u("dx"),dy:u("dy"),fill:u("color"),font:u("font"),fontSize:u("fontSize"),fontStyle:u("fontStyle"),fontWeight:u("fontWeight"),frame:u("frame"),limit:u("limit"),offset:u("offset")||0},{align:u("align"),angle:u("angle"),baseline:u("baseline")}),aM(dM,QF,e.style||MF,null,r,i,n)}(e,i,u,n),e.zindex&&(r.zindex=e.zindex),JM(r,t)};function nS(e,t){var n=[];e.transform&&e.transform.forEach(function(e){n.push(BM(e,t))}),e.on&&e.on.forEach(function(n){XM(n,t,e.name)}),t.addDataPipeline(e.name,function(e,t,n){var r,i,u,a,o,c=[],f=null,s=!1,l=!1;e.values?zk(e.values)||zk(e.format)?(c.push(iS(t,e)),c.push(f=rS())):c.push(f=rS({$ingest:e.values,$format:e.format})):e.url?zk(e.url)||zk(e.format)?(c.push(iS(t,e)),c.push(f=rS())):c.push(f=rS({$request:e.url,$format:e.format})):e.source&&(f=r=CE(e.source).map(function(e){return Dk(t.getData(e).output)}),c.push(null));for(i=0,u=n.length;i<u;++i)a=n[i],o=a.metadata,f||o.source||c.push(f=rS()),c.push(a),o.generates&&(l=!0),o.modifies&&!l&&(s=!0),o.source?f=a:o.changes&&(f=null);r&&(u=r.length-1,c[0]=bC({derive:s,pulse:u?r:r[0]}),(s||u)&&c.splice(1,0,rS()));f||c.push(rS());return c.push(wC({})),c}(e,t,n))}function rS(e){var t=eC({},e);return t.metadata={source:!0},t}function iS(e,t){return fC({url:t.url?e.property(t.url):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}function uS(e,t){return{scale:e.scale,range:t}}var aS=function(e,t,n,r){var i,u,a,o,c,f,s,l,d,h=oM(e,t),p=e.orient,m=e.gridScale,v="left"===p||"top"===p?1:-1,g=function(e,t){if(1===t);else if(_E(e)){for(var n=e=DE({},e);null!=n.mult;){if(!_E(n.mult))return n.mult*=t,e;n=n.mult=DE({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,v);return tM(i={enter:u={opacity:PF},update:o={opacity:RF},exit:a={opacity:PF}},{stroke:h("gridColor"),strokeDash:h("gridDash"),strokeDashOffset:h("gridDashOffset"),strokeOpacity:h("gridOpacity"),strokeWidth:h("gridWidth")}),c={scale:e.scale,field:DF,band:h("bandPosition"),round:h("tickRound"),extra:h("tickExtra"),offset:h("tickOffset")},"top"===p||"bottom"===p?(f="x",s="y",d="height"):(f="y",s="x",d="width"),l=s+"2",o[f]=u[f]=a[f]=c,m?(o[s]=u[s]={scale:m,range:0,mult:v,offset:g},o[l]=u[l]={scale:m,range:1,mult:v,offset:g}):(o[s]=u[s]={value:0,offset:g},o[l]=u[l]={signal:d,mult:v,offset:g}),aM("rule","axis-grid",null,DF,r,i,n)};function oS(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}var cS=function(e,t){var n,r,i,u,a,o,c=function(e,t){var n=t.config,r=e.orient,i="top"===r||"bottom"===r?n.axisX:n.axisY,u=n["axis"+r[0].toUpperCase()+r.slice(1)],a="band"===t.scaleType(e.scale)&&n.axisBand;return i||u||a?DE({},n.axis,i,u,a):n.axis}(e,t),f=e.encode||{},s=f.axis||{},l=s.name||void 0,d=s.interactive,h=s.style,p=oM(e,c);return n={orient:e.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=e.title},r=Dk(t.add(eC({},[n]))),s=nM({update:{offset:ZF(p("offset")||0),position:ZF(Lk(e.position,0)),titlePadding:ZF(p("titlePadding")),minExtent:ZF(p("minExtent")),maxExtent:ZF(p("maxExtent")),range:{signal:'abs(span(range("'.concat(e.scale,'")))')}}},f.axis,BF),i=Dk(t.add(Qk({scale:t.scaleRef(e.scale),extra:t.property(p("tickExtra")),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),o=[],n.grid&&o.push(aS(e,c,f.grid,i)),n.ticks&&(u=p("tickSize"),o.push(function(e,t,n,r,i){var u,a,o,c,f,s,l=oM(e,t),d=e.orient,h="left"===d||"top"===d?-1:1;return tM(u={enter:a={opacity:PF},update:c={opacity:RF},exit:o={opacity:PF}},{stroke:l("tickColor"),strokeDash:l("tickDash"),strokeDashOffset:l("tickDashOffset"),strokeOpacity:l("tickOpacity"),strokeWidth:l("tickWidth")}),(f=ZF(i)).mult=h,s={scale:e.scale,field:DF,band:l("bandPosition"),round:l("tickRound"),extra:l("tickExtra"),offset:l("tickOffset")},"top"===d||"bottom"===d?(c.y=a.y=PF,c.y2=a.y2=f,c.x=a.x=o.x=s):(c.x=a.x=PF,c.x2=a.x2=f,c.y=a.y=o.y=s),aM("rule","axis-tick",null,DF,r,u,n)}(e,c,f.ticks,i,u))),n.labels&&(u=n.ticks?u:0,o.push(function(e,t,n,r,i){var u,a,o,c,f,s,l,d,h,p,m,v=oM(e,t),g=e.orient,b="left"===g||"top"===g?-1:1,y="top"===g||"bottom"===g,x=e.scale,w=Ik(v("labelFlush")),_=Ik(v("labelFlushOffset")),A=0===w||!!w,E=v("labelAlign"),O=v("labelBaseline");return(c=ZF(i)).mult=b,c.offset=ZF(v("labelPadding")||0),c.offset.mult=b,f={scale:x,field:DF,band:.5,offset:v("tickOffset")},y?(s=E||(A?oS(x,w,'"left"','"right"','"center"'):"center"),l=O||("top"===g?"bottom":"top"),d=!E):(s=E||("right"===g?"left":"right"),l=O||(A?oS(x,w,'"top"','"bottom"','"middle"'):"middle"),d=!O),d=d&&A&&_?oS(x,w,"-"+_,_,0):null,tM(a={enter:o={opacity:PF,x:y?f:c,y:y?c:f},update:{opacity:RF,text:{field:"label"},x:o.x,y:o.y},exit:{opacity:PF,x:o.x,y:o.y}},(u={},Object(_s.a)(u,y?"dx":"dy",d),Object(_s.a)(u,"align",s),Object(_s.a)(u,"baseline",l),Object(_s.a)(u,"angle",v("labelAngle")),Object(_s.a)(u,"fill",v("labelColor")),Object(_s.a)(u,"fillOpacity",v("labelOpacity")),Object(_s.a)(u,"font",v("labelFont")),Object(_s.a)(u,"fontSize",v("labelFontSize")),Object(_s.a)(u,"fontWeight",v("labelFontWeight")),Object(_s.a)(u,"fontStyle",v("labelFontStyle")),Object(_s.a)(u,"limit",v("labelLimit")),u)),h=v("labelBound"),p=v("labelOverlap"),m=v("labelSeparation"),e=aM(dM,"axis-label",FF,DF,r,a,n),(p||h)&&(e.overlap={separation:m,method:p,order:"datum.index",bound:h?{scale:x,orient:g,tolerance:h}:null}),e}(e,c,f.labels,i,u))),n.domain&&o.push(function(e,t,n,r){var i,u,a,o,c,f,s=oM(e,t),l=e.orient;return tM(i={enter:u={opacity:PF},update:a={opacity:RF},exit:{opacity:PF}},{stroke:s("domainColor"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")}),"top"===l||"bottom"===l?(o="x",f="y"):(o="y",f="x"),c=o+"2",u[f]=PF,a[o]=u[o]=uS(e,0),a[c]=u[c]=uS(e,1),aM("rule","axis-domain",null,null,r,i,n)}(e,c,f.domain,r)),n.title&&o.push(function(e,t,n,r){var i,u,a,o,c=oM(e,t),f=e.orient,s="left"===f||"top"===f?-1:1,l="top"===f||"bottom"===f;return i={enter:u={opacity:PF,anchor:ZF(c("titleAnchor")),align:{signal:sM}},update:a=DE({},u,{opacity:RF,text:ZF(e.title)}),exit:{opacity:PF}},o={signal:'lerp(range("'.concat(e.scale,'"), ').concat(fM(0,1,.5),")")},l?(a.x=o,u.angle={value:0},u.baseline={value:"top"===f?"bottom":"top"}):(a.y=o,u.angle={value:90*s},u.baseline={value:"bottom"}),tM(i,{angle:c("titleAngle"),baseline:c("titleBaseline"),fill:c("titleColor"),fillOpacity:c("titleOpacity"),font:c("titleFont"),fontSize:c("titleFontSize"),fontStyle:c("titleFontStyle"),fontWeight:c("titleFontWeight"),limit:c("titleLimit")},{align:c("titleAlign")}),!eM(i,"x",c("titleX"),"update")&&!l&&!uM("x",n)&&(i.enter.auto={value:!0}),!eM(i,"y",c("titleY"),"update")&&l&&!uM("y",n)&&(i.enter.auto={value:!0}),aM(dM,"axis-title","guide-title",null,r,i,n)}(e,c,f.title,r)),a=bM("axis",h,l,r,d,s,o),e.zindex&&(a.zindex=e.zindex),JM(a,t)},fS=function(e,t,n){var r=CE(e.signals),i=CE(e.scales);return n||r.forEach(function(e){IE(e,t)}),CE(e.projections).forEach(function(e){!function(e,t){var n={};for(var r in e)"name"!==r&&(n[r]=EF(e[r],r,t));t.addProjection(e.name,n)}(e,t)}),i.forEach(function(e){gF(e,t)}),CE(e.data).forEach(function(e){nS(e,t)}),i.forEach(function(e){bF(e,t)}),r.forEach(function(e){!function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?yE("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ek(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(function(e){$k(e,t,n.id)})}(e,t)}),CE(e.axes).forEach(function(e){cS(e,t)}),CE(e.marks).forEach(function(e){JM(e,t)}),CE(e.legends).forEach(function(e){KM(e,t)}),e.title&&tS(e.title,t),t.parseLambdas(),t},sS=FE(["width","height","padding","autosize"]);function lS(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function dS(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var hS=lS.prototype=dS.prototype;function pS(e){return(wE(e)?function(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(_E(t)?t.signal||pS(t):EE(t));return n+"]"}:function(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+EE(t)+":"+(_E(n)?n.signal||pS(n):EE(n));return r+"}"})(e)}hS.fork=function(){return new dS(this)},hS.isSubscope=function(){return this._subid>0},hS.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},hS.id=function(){return(this._subid?this._subid+":":0)+this._id++},hS.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(function(t){t.$ref=e.id}),e.refs=null),e},hS.proxy=function(e){var t=e instanceof Ok?Dk(e):e;return this.add(gC({value:t}))},hS.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},hS.addUpdate=function(e){return this.updates.push(e),e},hS.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},hS.pushState=function(e,t,n){this._encode.push(Dk(this.add(wC({pulse:e})))),this._parent.push(t),this._lookup.push(n?Dk(this.proxy(n)):null),this._markpath.push(-1)},hS.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},hS.parent=function(){return kE(this._parent)},hS.encode=function(){return kE(this._encode)},hS.lookup=function(){return kE(this._lookup)},hS.markpath=function(){var e=this._markpath;return++e[e.length-1]},hS.fieldRef=function(e,t){if(AE(e))return Mk(e,t);e.signal||yE("Unsupported field reference: "+EE(e));var n,r=e.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=i=Dk(this.add(aC(n)))),i},hS.compareRef=function(e,t){function n(e){return Rk(e)?(i=!0,r.signalRef(e.signal)):e}var r=this,i=!1,u=CE(e.field).map(n),a=CE(e.order).map(n);return t&&u.push(Fk),i?Dk(this.add(tC({fields:u,orders:a}))):jk(u,a)},hS.keyRef=function(e,t){var n=this.signals,r=!1;return e=CE(e).map(function(e){return Rk(e)?(r=!0,Dk(n[e.signal])):e}),r?Dk(this.add(oC({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},hS.sortRef=function(e){if(!e)return e;var t=[Nk(e.op,e.field),Fk],n=e.order||"ascending";return n.signal?Dk(this.add(tC({fields:t,orders:[n=this.signalRef(n.signal),n]}))):jk(t,[n,n])},hS.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hS.addSignal=function(e,t){this.signals.hasOwnProperty(e)&&yE("Duplicate signal name: "+EE(e));var n=t instanceof Ok?t:this.add(Ck(t));return this.signals[e]=n},hS.getSignal=function(e){return this.signals[e]||yE("Unrecognized signal name: "+EE(e)),this.signals[e]},hS.signalRef=function(e){return this.signals[e]?Dk(this.signals[e]):(this.lambdas.hasOwnProperty(e)||(this.lambdas[e]=this.add(Ck(null))),Dk(this.lambdas[e]))},hS.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Ek(r,this),u=this.lambdas[r];u.params=i.$params,u.update=i.$expr}},hS.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},hS.objectProperty=function(e){return e&&_E(e)?this.signalRef(e.signal||pS(e)):e},hS.exprRef=function(e,t){var n={expr:Ek(e,this)};return t&&(n.expr.$name=t),Dk(this.add(iC(n)))},hS.addBinding=function(e,t){this.bindings||yE("Nested signals do not support binding: "+EE(e)),this.bindings.push(DE({signal:e},t))},hS.addScaleProj=function(e,t){this.scales.hasOwnProperty(e)&&yE("Duplicate scale or projection name: "+EE(e)),this.scales[e]=this.add(t)},hS.addScale=function(e,t){this.addScaleProj(e,xC(t))},hS.addProjection=function(e,t){this.addScaleProj(e,vC(t))},hS.getScale=function(e){return this.scales[e]||yE("Unrecognized scale name: "+EE(e)),this.scales[e]},hS.projectionRef=hS.scaleRef=function(e){return Dk(this.getScale(e))},hS.projectionType=hS.scaleType=function(e){return this.getScale(e).params.type},hS.addData=function(e,t){return this.data.hasOwnProperty(e)&&yE("Duplicate data set name: "+EE(e)),this.data[e]=t},hS.getData=function(e){return this.data[e]||yE("Undefined data set name: "+EE(e)),this.data[e]},hS.addDataPipeline=function(e,t){return this.data.hasOwnProperty(e)&&yE("Duplicate data set name: "+EE(e)),this.addData(e,HM.fromEntries(this,t))};var mS=function(e){return(e||[]).reduce(function(e,t){for(var n in t){var r="legend"===n?{layout:1}:"style"===n||null;vS(e,n,t[n],r)}return e},{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:xS},area:{fill:xS},image:null,line:{stroke:xS,strokeWidth:yS},path:{stroke:xS},rect:{fill:xS},rule:{stroke:wS},shape:{stroke:xS},symbol:{fill:xS,size:64},text:{fill:wS,font:gS,fontSize:11},style:{"guide-label":{fill:wS,font:gS,fontSize:10},"guide-title":{fill:wS,font:gS,fontSize:11,fontWeight:"bold"},"group-title":{fill:wS,font:gS,fontSize:13,fontWeight:"bold"},point:{size:bS,strokeWidth:yS,shape:"circle"},circle:{size:bS,strokeWidth:yS},square:{size:bS,strokeWidth:yS,shape:"square"},cell:{fill:"transparent",stroke:AS}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:_S,grid:!1,gridWidth:1,gridColor:AS,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:_S,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:AS,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:_S,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}})};function vS(e,t,n,r){var i,u;if(_E(n)&&!wE(n))for(i in u=_E(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?vS(u,i,n[i]):u[i]=n[i];else e[t]=n}var gS="sans-serif",bS=30,yS=2,xS="#4c78a8",wS="#000",_S="#888",AS="#ddd";var ES=function(e,t){return _E(e)||yE("Input Vega specification must be an object."),function(e,t){var n,r,i,u,a,o=t.config;return t.background=e.background||o.background,t.eventConfig=o.events,a=Dk(t.root=t.add(Ck())),t.addSignal("width",e.width||0),t.addSignal("height",e.height||0),t.addSignal("padding",SE(e.padding,o)),t.addSignal("autosize",ME(e.autosize,o)),t.legends=t.objectProperty(o.legend&&o.legend.layout),CE(e.signals).forEach(function(e){sS[e.name]||IE(e,t)}),r=t.add(eC()),i=nM({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(rC(rM(i,lM,KF,e.style,t,{pulse:Dk(r)}))),u=t.add(AC({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:Dk(i)})),t.operators.pop(),t.pushState(Dk(i),Dk(u),null),fS(e,t,!0),t.operators.push(u),n=t.add(Zk({mark:a,pulse:Dk(u)})),n=t.add(yC({pulse:Dk(n)})),n=t.add(wC({pulse:Dk(n)})),t.addData("root",new HM(t,r,r,n)),t}(e,new lS(mS([t,e.config]))).toRuntime()};n.d(t,"version",function(){return Yv.a}),n.d(t,"bin",function(){return Vv}),n.d(t,"bootstrapCI",function(){return hg}),n.d(t,"quartiles",function(){return pg}),n.d(t,"random",function(){return Xv}),n.d(t,"setRandom",function(){return Jv}),n.d(t,"randomLCG",function(){return mg}),n.d(t,"randomInteger",function(){return vg}),n.d(t,"randomKDE",function(){return bg}),n.d(t,"randomMixture",function(){return yg}),n.d(t,"randomNormal",function(){return gg}),n.d(t,"randomUniform",function(){return xg}),n.d(t,"accessor",function(){return d}),n.d(t,"accessorName",function(){return h}),n.d(t,"accessorFields",function(){return p}),n.d(t,"id",function(){return A}),n.d(t,"identity",function(){return E}),n.d(t,"zero",function(){return O}),n.d(t,"one",function(){return k}),n.d(t,"truthy",function(){return C}),n.d(t,"falsy",function(){return D}),n.d(t,"logger",function(){return S}),n.d(t,"None",function(){return 0}),n.d(t,"Error",function(){return 1}),n.d(t,"Warn",function(){return 2}),n.d(t,"Info",function(){return 3}),n.d(t,"Debug",function(){return 4}),n.d(t,"panLinear",function(){return I}),n.d(t,"panLog",function(){return U}),n.d(t,"panPow",function(){return q}),n.d(t,"panSymlog",function(){return W}),n.d(t,"zoomLinear",function(){return Y}),n.d(t,"zoomLog",function(){return V}),n.d(t,"zoomPow",function(){return G}),n.d(t,"zoomSymlog",function(){return $}),n.d(t,"quarter",function(){return X}),n.d(t,"utcquarter",function(){return J}),n.d(t,"array",function(){return K}),n.d(t,"clampRange",function(){return Q}),n.d(t,"compare",function(){return ee}),n.d(t,"constant",function(){return te}),n.d(t,"debounce",function(){return ne}),n.d(t,"error",function(){return m}),n.d(t,"extend",function(){return re}),n.d(t,"extent",function(){return ie}),n.d(t,"extentIndex",function(){return ue}),n.d(t,"fastmap",function(){return oe}),n.d(t,"field",function(){return w}),n.d(t,"flush",function(){return ce}),n.d(t,"inherits",function(){return fe}),n.d(t,"inrange",function(){return se}),n.d(t,"isArray",function(){return g}),n.d(t,"isBoolean",function(){return le}),n.d(t,"isDate",function(){return de}),n.d(t,"isFunction",function(){return Z}),n.d(t,"isNumber",function(){return he}),n.d(t,"isObject",function(){return b}),n.d(t,"isRegExp",function(){return pe}),n.d(t,"isString",function(){return y}),n.d(t,"key",function(){return me}),n.d(t,"lerp",function(){return ve}),n.d(t,"merge",function(){return ge}),n.d(t,"pad",function(){return ye}),n.d(t,"peek",function(){return j}),n.d(t,"repeat",function(){return be}),n.d(t,"span",function(){return xe}),n.d(t,"splitAccessPath",function(){return v}),n.d(t,"stringValue",function(){return x}),n.d(t,"toBoolean",function(){return we}),n.d(t,"toDate",function(){return Ae}),n.d(t,"toNumber",function(){return T}),n.d(t,"toString",function(){return Ee}),n.d(t,"toSet",function(){return Oe}),n.d(t,"truncate",function(){return ke}),n.d(t,"visitArray",function(){return Ce}),n.d(t,"loader",function(){return sn}),n.d(t,"read",function(){return fn}),n.d(t,"inferType",function(){return qt}),n.d(t,"inferTypes",function(){return Wt}),n.d(t,"typeParsers",function(){return Lt}),n.d(t,"format",function(){return un}),n.d(t,"formats",function(){return an}),n.d(t,"responseType",function(){return on}),n.d(t,"Bounds",function(){return Pu}),n.d(t,"Gradient",function(){return Lu}),n.d(t,"GroupItem",function(){return Uu}),n.d(t,"ResourceLoader",function(){return Hu}),n.d(t,"Item",function(){return Iu}),n.d(t,"Scenegraph",function(){return ic}),n.d(t,"Handler",function(){return hc}),n.d(t,"Renderer",function(){return vc}),n.d(t,"CanvasHandler",function(){return yc}),n.d(t,"CanvasRenderer",function(){return Ec}),n.d(t,"SVGHandler",function(){return Dc}),n.d(t,"SVGRenderer",function(){return Rc}),n.d(t,"SVGStringRenderer",function(){return Jc}),n.d(t,"RenderType",function(){return nf}),n.d(t,"renderModule",function(){return uf}),n.d(t,"intersect",function(){return af}),n.d(t,"Marks",function(){return Ko}),n.d(t,"boundClip",function(){return lf}),n.d(t,"boundContext",function(){return za}),n.d(t,"boundStroke",function(){return Pa}),n.d(t,"boundItem",function(){return Qo}),n.d(t,"boundMark",function(){return ec}),n.d(t,"pathCurves",function(){return Ju}),n.d(t,"pathSymbols",function(){return ha}),n.d(t,"pathRectangle",function(){return wa}),n.d(t,"pathTrail",function(){return _a}),n.d(t,"pathParse",function(){return Zu}),n.d(t,"pathRender",function(){return sa}),n.d(t,"point",function(){return dc}),n.d(t,"domCreate",function(){return oc}),n.d(t,"domFind",function(){return cc}),n.d(t,"domChild",function(){return fc}),n.d(t,"domClear",function(){return sc}),n.d(t,"openTag",function(){return Sc}),n.d(t,"closeTag",function(){return jc}),n.d(t,"font",function(){return Yo}),n.d(t,"fontFamily",function(){return Ho}),n.d(t,"fontSize",function(){return Uo}),n.d(t,"textMetrics",function(){return Po}),n.d(t,"resetSVGClipId",function(){return vo}),n.d(t,"sceneEqual",function(){return hf}),n.d(t,"pathEqual",function(){return pf}),n.d(t,"sceneToJSON",function(){return nc}),n.d(t,"sceneFromJSON",function(){return rc}),n.d(t,"intersectPath",function(){return Wa}),n.d(t,"intersectPoint",function(){return Ha}),n.d(t,"intersectRule",function(){return Va}),n.d(t,"intersectBoxLine",function(){return Ga}),n.d(t,"sceneZOrder",function(){return Za}),n.d(t,"sceneVisit",function(){return eo}),n.d(t,"scenePickVisit",function(){return to}),n.d(t,"Dataflow",function(){return jn}),n.d(t,"EventStream",function(){return At}),n.d(t,"Parameters",function(){return mt}),n.d(t,"Pulse",function(){return yn}),n.d(t,"MultiPulse",function(){return En}),n.d(t,"Operator",function(){return yt}),n.d(t,"Transform",function(){return Bn}),n.d(t,"changeset",function(){return ht}),n.d(t,"ingest",function(){return ct}),n.d(t,"isTuple",function(){return ut}),n.d(t,"definition",function(){return zn}),n.d(t,"transform",function(){return Ln}),n.d(t,"transforms",function(){return Rn}),n.d(t,"tupleid",function(){return at}),n.d(t,"scale",function(){return Wb}),n.d(t,"scheme",function(){return Zb}),n.d(t,"interpolate",function(){return Xb}),n.d(t,"interpolateColors",function(){return Gb}),n.d(t,"interpolateRange",function(){return Vb}),n.d(t,"timeInterval",function(){return Ug}),n.d(t,"quantizeInterpolator",function(){return $b}),n.d(t,"projection",function(){return sh}),n.d(t,"View",function(){return dE}),n.d(t,"expressionFunction",function(){return RA}),n.d(t,"formatLocale",function(){return nl.formatDefaultLocale}),n.d(t,"timeFormatLocale",function(){return cn.timeFormatDefaultLocale}),n.d(t,"parse",function(){return ES}),n.d(t,"runtime",function(){return XA}),n.d(t,"runtimeContext",function(){return KA}),re(Rn,r,i,u,a,o,c,f,s,l)},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"AXIS_PARTS",function(){return m}),n.d(r,"AXIS_PROPERTY_TYPE",function(){return v}),n.d(r,"isAxisProperty",function(){return x}),n.d(r,"VG_AXIS_PROPERTIES",function(){return w}),n.d(r,"AXIS_PROPERTIES",function(){return _});var i={};n.r(i),n.d(i,"defaultLegendConfig",function(){return D}),n.d(i,"LEGEND_PROPERTIES",function(){return S}),n.d(i,"VG_LEGEND_PROPERTIES",function(){return j});var u={};n.r(u),n.d(u,"defaultViewConfig",function(){return z}),n.d(u,"defaultConfig",function(){return L}),n.d(u,"initConfig",function(){return I}),n.d(u,"stripAndRedirectConfig",function(){return H});var a={};n.r(a),n.d(a,"isUrlData",function(){return Q}),n.d(a,"isInlineData",function(){return Z}),n.d(a,"isNamedData",function(){return ee}),n.d(a,"MAIN",function(){return te}),n.d(a,"RAW",function(){return ne});var o={};n.r(o),n.d(o,"HEADER_TITLE_PROPERTIES_MAP",function(){return le}),n.d(o,"HEADER_LABEL_PROPERTIES_MAP",function(){return de}),n.d(o,"HEADER_TITLE_PROPERTIES",function(){return he}),n.d(o,"HEADER_LABEL_PROPERTIES",function(){return pe});var c={};n.r(c),n.d(c,"isSortField",function(){return me}),n.d(c,"isSortArray",function(){return ve});var f={};n.r(f),n.d(f,"symbols",function(){return Et}),n.d(f,"gradient",function(){return Ot}),n.d(f,"labels",function(){return kt});var s={};n.r(s),n.d(s,"isFilter",function(){return mr}),n.d(s,"isLookup",function(){return vr}),n.d(s,"isWindow",function(){return gr}),n.d(s,"isCalculate",function(){return br}),n.d(s,"isBin",function(){return yr}),n.d(s,"isTimeUnit",function(){return xr}),n.d(s,"isAggregate",function(){return wr}),n.d(s,"isStack",function(){return _r}),n.d(s,"normalizeTransform",function(){return Ar});var l={};n.r(l),n.d(l,"DEFAULT_REQUIRED_CHANNEL_MAP",function(){return gi}),n.d(l,"DEFAULT_SUPPORTED_CHANNEL_TYPE",function(){return bi}),n.d(l,"getEncodingMappingError",function(){return yi});var d=n(38),h=n(3),p=n(2),m=["domain","grid","labels","ticks","title"],v={grid:"grid",gridScale:"grid",domain:"main",labels:"main",labelFlush:"main",labelOverlap:"main",minExtent:"main",maxExtent:"main",offset:"main",ticks:"main",title:"main",values:"both",scale:"both",zindex:"both"},g={orient:1,domain:1,format:1,grid:1,labelBound:1,labelFlush:1,labelPadding:1,labels:1,labelOverlap:1,maxExtent:1,minExtent:1,offset:1,position:1,tickCount:1,ticks:1,tickSize:1,title:1,titlePadding:1,values:1,zindex:1},b=h.a({},g,{encoding:1,labelAngle:1,titleMaxLength:1}),y=h.a({scale:1},g,{gridScale:1,encode:1});function x(e){return!!b[e]}var w=Object(p.flagKeys)(y),_=Object(p.flagKeys)(b),A=n(37),E=n(7),O=n(47),k=n(0),C=["shortTimeLabels"],D={},F={entryPadding:1,format:1,offset:1,orient:1,padding:1,tickCount:1,title:1,type:1,values:1,zindex:1},M=h.a({},F,{opacity:1,shape:1,stroke:1,fill:1,size:1,encode:1}),S=Object(p.flagKeys)(F),j=Object(p.flagKeys)(M),T=n(12),N=n(11),B="_vgsid_",P={single:{on:"click",fields:[B],resolve:"global",empty:"all"},multi:{on:"click",fields:[B],toggle:"event.shiftKey",resolve:"global",empty:"all"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}};function R(e){var t=e.anchor,n=e.offset,r=e.orient,i=e.color,u=h.c(e,["anchor","offset","orient","color"]);return{mark:h.a({},u,i?{fill:i}:{}),nonMark:h.a({},t?{anchor:t}:{},n?{offset:n}:{},r?{orient:r}:{})}}var z={width:200,height:200},L={padding:5,timeFormat:"",countTitle:"Number of Records",invalidValues:"filter",view:z,mark:T.defaultMarkConfig,area:{},bar:T.defaultBarConfig,circle:{},geoshape:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:T.defaultTickConfig,trail:{},box:{size:14,extent:1.5},boxWhisker:{},boxMid:{color:"white"},scale:N.defaultScaleConfig,projection:{},axis:{},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:D,selection:P,style:{},title:{}};function I(e){return Object(p.mergeDeep)(Object(p.duplicate)(L),e)}var U=["view"].concat(T.PRIMITIVE_MARKS,O.COMPOSITE_MARK_STYLES),q=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],W=h.a({view:["width","height"]},T.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,O.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);function H(e){e=Object(p.duplicate)(e);for(var t=0,n=q;t<n.length;t++){delete e[u=n[t]]}if(e.axis)for(var r=0,i=C;r<i.length;r++){var u=i[r];delete e.axis[u]}if(e.legend)for(var a=0,o=C;a<o.length;a++){u=o[a];delete e.legend[u]}if(e.mark)for(var c=0,f=T.VL_ONLY_MARK_CONFIG_PROPERTIES;c<f.length;c++){u=f[c];delete e.mark[u]}for(var s=0,l=U;s<l.length;s++){for(var d=l[s],h=0,m=T.VL_ONLY_MARK_CONFIG_PROPERTIES;h<m.length;h++){u=m[h];delete e[d][u]}var v=W[d];if(v)for(var g=0,b=v;g<b.length;g++){u=b[g];delete e[d][u]}Y(e,d)}for(var u in Y(e,"title","group-title"),e)Object(k.isObject)(e[u])&&0===Object(p.keys)(e[u]).length&&delete e[u];return Object(p.keys)(e).length>0?e:void 0}function Y(e,t,n){var r="title"===t?R(e.title).mark:e[t];"view"===t&&(n="cell");var i=h.a({},r,e.style[t]);Object(p.keys)(i).length>0&&(e.style[n||t]=i),delete e[t]}var V=n(5),G=n(6),$=n(30);function X(e){return Object(k.isString)(e)?{type:e}:e||{}}var J=["background","padding","datasets"];function K(e){return J.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}function Q(e){return!!e.url}function Z(e){return!!e.values}function ee(e){return!!e.name&&!Q(e)&&!Z(e)}var te="main",ne="raw",re=n(50),ie=n(46),ue=n(25);function ae(e){return!!e.signal}function oe(e){return!!e.step}function ce(e){return!Object(k.isArray)(e)&&("field"in e&&"data"in e)}var fe=Object(p.flagKeys)({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1});function se(e,t,n,r){void 0===r&&(r={header:!1});var i=e.combine(),u=i.orient,a=i.scale,o=i.title,c=i.zindex,f=h.c(i,["orient","scale","title","zindex"]);if(Object(p.keys)(f).forEach(function(e){var n=v[e];n&&n!==t&&"both"!==n&&delete f[e]}),"grid"===t){if(!f.grid)return;if(f.encode){var s=f.encode.grid;f.encode=h.a({},s?{grid:s}:{}),0===Object(p.keys)(f.encode).length&&delete f.encode}return h.a({scale:a,orient:u},f,{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:void 0!==c?c:0})}if(r.header||!e.mainExtracted){if(f.encode){for(var l=0,d=m;l<d.length;l++){var g=d[l];e.hasAxisPart(g)||delete f.encode[g]}0===Object(p.keys)(f.encode).length&&delete f.encode}var b=function(e,t){return Object(k.isArray)(e)?e.map(function(e){return Object(V.title)(e,t)}).join(", "):e}(o,n);return h.a({scale:a,orient:u,grid:!1},b?{title:b}:{},f,{zindex:void 0!==c?c:1})}}var le={titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontWeight:"fontWeight",titleLimit:"limit"},de={labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelLimit:"limit"},he=Object.keys(le),pe=Object.keys(de);function me(e){return!!e&&("count"===e.op||!!e.field)&&!!e.op}function ve(e){return!!e&&Object(k.isArray)(e)}var ge=n(35),be=n(24);function ye(e,t){var n=t[e+"Offset"];if(n)return n}function xe(e,t,n,r){return we(e,t,{binSuffix:"start"===n?void 0:"end"},r?{offset:r}:{})}function we(e,t,n,r){var i=h.a({},t?{scale:t}:{},{field:Object(V.vgField)(e,n)});return r?h.a({},i,r):i}function _e(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function Ae(e,t,n,r,i,u){if(t){if(Object(V.isFieldDef)(t)){if(t.bin)return Object(p.contains)([E.X,E.Y],e)&&t.type===be.QUANTITATIVE?i&&i.impute?we(t,n,{binSuffix:"mid"}):function(e,t){return{signal:'(scale("'+t+'", '+Object(V.vgField)(e,{expr:"datum"})+') + scale("'+t+'", '+Object(V.vgField)(e,{binSuffix:"end",expr:"datum"})+"))/2"}}(t,n):we(t,n,Ze(t,e)?{binSuffix:"range"}:{});if(r){var a=r.get("type");if(Object(N.hasDiscreteDomain)(a))return"band"===a?we(t,n,{binSuffix:"range"},{band:.5}):we(t,n,{binSuffix:"range"})}return we(t,n,{})}if(Object(V.isValueDef)(t)){var o=t.value;return Object(p.contains)(["x","x2"],e)&&"width"===o?{field:{group:"width"}}:Object(p.contains)(["y","y2"],e)&&"height"===o?{field:{group:"height"}}:{value:o}}}return Object(k.isFunction)(u)?u():u}function Ee(e,t){if(e){if(Object(V.isFieldDef)(e))return qe(e,e.format,"datum",t);if(Object(V.isValueDef)(e))return{value:e.value}}}function Oe(e){return h.a({},e,{mult:.5})}function ke(e,t,n,r,i){return function(){if(Object(k.isString)(e)){if(n){var u=r.get("type");if(Object(p.contains)([N.ScaleType.LOG,N.ScaleType.TIME,N.ScaleType.UTC],u))"bar"!==i&&"area"!==i||G.e(G.b.nonZeroScaleUsedWithLengthMark(i,t,{scaleType:u}));else{if(function(e){if(!1!==e.get("zero"))return!0;var t=e.domains;return!!Object(k.isArray)(t)&&Object(p.some)(t,function(e){return Object(k.isArray)(e)&&2===e.length&&e[0]<=0&&e[1]>=0})}(r))return{scale:n,value:0};"bar"!==i&&"area"!==i||G.e(G.b.nonZeroScaleUsedWithLengthMark(i,t,{zeroFalse:!1===r.explicit.zero}))}}return"zeroOrMin"===e?"x"===t?{value:0}:{field:{group:"height"}}:"x"===t?{field:{group:"width"}}:{value:0}}return e}}function Ce(e,t){var n,r;void 0===t&&(t={valueOnly:!1});var i=e.markDef,u=e.encoding,a=e.config,o=i.filled,c=i.type,f={fill:Ue("fill",i,a),stroke:Ue("stroke",i,a),color:Ue("color",i,a)},s=Object(p.contains)(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,l={fill:i.fill||f.fill||s,stroke:i.stroke||f.stroke},d=o?"fill":"stroke",m=h.a({},l.fill?{fill:{value:l.fill}}:{},l.stroke?{stroke:{value:l.stroke}}:{});return u.fill||u.stroke?(i.color&&G.e(G.b.droppingColor("property",{fill:"fill"in u,stroke:"stroke"in u})),h.a({},Se("fill",e,{defaultValue:l.fill||s}),Se("stroke",e,{defaultValue:l.stroke}))):u.color?h.a({},m,Se("color",e,{vgChannel:d,defaultValue:i[d]||i.color||f[d]||f.color||(o?s:void 0)})):i.fill||i.stroke?(i.color&&G.e(G.b.droppingColor("property",{fill:"fill"in i,stroke:"stroke"in i})),m):i.color?h.a({},m,((n={})[d]={value:i.color},n)):f.fill||f.stroke?m:f.color?h.a({},s?{fill:{value:"transparent"}}:{},((r={})[d]={value:f.color},r)):{}}function De(e,t){return h.a({},function(e,t){return fe.reduce(function(n,r){return void 0!==e[r]&&"ignore"!==t[r]&&(n[r]={value:e[r]}),n},{})}(e.markDef,t),Ce(e),Se("opacity",e),function(e){var t=e.encoding.tooltip;if(Object(k.isArray)(t)){var n=t.map(function(t){var n=void 0!==t.title?t.title:Object(V.vgField)(t,{binSuffix:"range"}),r=Ee(t,e.config).signal;return'"'+n+'": '+r});return{tooltip:{signal:"{"+n.join(", ")+"}"}}}return Ne(e,"tooltip",t)}(e),Te(e,"href"))}function Fe(e){return e+" !== null && !isNaN("+e+")"}function Me(e){if("filter"===e.config.invalidValues){var t=["x","y"].map(function(t){var n=e.getScaleComponent(t);if(n){var r=n.get("type");if(Object(N.hasContinuousDomain)(r))return e.vgField(t,{expr:"datum"})}}).filter(function(e){return!!e}).map(Fe);if(t.length>0)return{defined:{signal:t.join(" && ")}}}return{}}function Se(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,u=n.defaultRef||(void 0!==r?{value:r}:void 0),a=t.encoding[e];return je(t,a,i||e,function(n){return Ae(e,n,t.scaleName(e),t.getScaleComponent(e),null,u)})}function je(e,t,n,r){var i,u,a=t&&t.condition,o=r(t);if(a){var c=(Object(k.isArray)(a)?a:[a]).map(function(t){var n=r(t),i=Object(V.isConditionalSelection)(t)?Xn(e,t.selection):lr(e,t.test);return h.a({test:i},n)});return(i={})[n]=c.concat(void 0!==o?[o]:[]),i}return void 0!==o?((u={})[n]=o,u):{}}function Te(e,t){return void 0===t&&(t="text"),Ne(e,t,e.encoding[t])}function Ne(e,t,n){return je(e,n,t,function(t){return Ee(t,e.config)})}function Be(e,t,n){var r,i,u,a=n.scaleName(t),o="x"===t?"width":"height";if(n.encoding.size||void 0!==n.markDef.size)if(n.markDef.orient){var c=((r={})[t+"c"]=we(e,a,{},{band:.5}),r);if(Object(V.getFieldDef)(n.encoding.size))return h.a({},c,Se("size",n,{vgChannel:o}));if(Object(V.isValueDef)(n.encoding.size))return h.a({},c,Se("size",n,{vgChannel:o}));if(void 0!==n.markDef.size)return h.a({},c,((i={})[o]={value:n.markDef.size},i))}else G.e(G.b.cannotApplySizeToNonOrientedMark(n.markDef.type));return(u={})[t]=we(e,a,{binSuffix:"range"}),u[o]=_e(a),u}function Pe(e,t,n,r){var i="x"===e?"xc":"yc",u="x"===e?"width":"height";return h.a({},ze(e,t,n,i),Se("size",t,{defaultRef:r,vgChannel:u}))}function Re(e,t,n,r,i){return"x"===t?{x2:xe(e,n,"start",i?0:r),x:xe(e,n,"end",i?r:0)}:{y2:xe(e,n,"start",i?r:0),y:xe(e,n,"end",i?0:r)}}function ze(e,t,n,r){var i,u=t.encoding,a=t.mark,o=t.stack,c=u[e],f=t.scaleName(e),s=t.getScaleComponent(e),l=ye(e,t.markDef),d=c||!u.latitude&&!u.longitude?h.a({},function(e,t,n,r,i,u){return Object(V.isFieldDef)(t)&&i&&e===i.fieldChannel?we(t,n,{suffix:"end"}):Ae(e,t,n,r,i,u)}(e,u[e],f,s,o,ke(n,e,f,s,a)),l?{offset:l}:{}):{field:t.getName(e)};return(i={})[r||e]=d,i}function Le(e,t,n){var r,i=e.encoding,u=e.mark,a=e.stack,o="x2"===n?"x":"y",c=i[o],f=e.scaleName(o),s=e.getScaleComponent(o),l=ye(n,e.markDef),d=c||!i.latitude&&!i.longitude?h.a({},function(e,t,n,r,i,u,a){return Object(V.isFieldDef)(t)&&u&&e.charAt(0)===u.fieldChannel.charAt(0)?we(t,r,{suffix:"start"}):Ae(e,n,r,i,u,a)}(n,c,i[n],f,s,a,ke(t,o,f,s,u)),l?{offset:l}:{}):{field:e.getName(n)};return(r={})[n]=d,r}function Ie(e){return[].concat(e.type,e.style||[])}function Ue(e,t,n){var r=n.mark[e],i=n[t.type];void 0!==i[e]&&(r=i[e]);for(var u=0,a=Ie(t);u<a.length;u++){var o=a[u],c=n.style[o],f=e;c&&void 0!==c[f]&&(r=c[f])}return r}function qe(e,t,n,r){var i=He(e,t,r);if(e.bin)return{signal:Ge(Object(V.vgField)(e,{expr:n}),Object(V.vgField)(e,{expr:n,binSuffix:"end"}),i,r)};if("quantitative"===e.type)return{signal:""+Ye(Object(V.vgField)(e,{expr:n,binSuffix:"range"}),i)};if(Object(V.isTimeFieldDef)(e)){var u=Object(V.isScaleFieldDef)(e)&&e.scale&&e.scale.type===N.ScaleType.UTC;return{signal:$e(Object(V.vgField)(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,u,!0)}}return{signal:"''+"+Object(V.vgField)(e,{expr:n})}}function We(e,t){return void 0!==e?e:t}function He(e,t,n){if(e.type===be.QUANTITATIVE)return t||n.numberFormat}function Ye(e,t){return"format("+e+', "'+(t||"")+'")'}function Ve(e,t,n){return Ye(e,t||n.numberFormat)}function Ge(e,t,n,r){return e+" === null || isNaN("+e+') ? "null" : '+Ve(e,n,r)+' + " - " + '+Ve(t,n,r)}function $e(e,t,n,r,i,u,a){return void 0===a&&(a=!1),!t||n?(n=n||i)||a?(u?"utc":"time")+"Format("+e+", '"+n+"')":void 0:Object(ge.formatExpression)(t,e,r,u)}function Xe(e,t){return(Object(k.isArray)(e)?e:[e]).reduce(function(e,n){return e.field.push(Object(V.vgField)(n,t)),e.order.push(n.sort||"ascending"),e},{field:[],order:[]})}function Je(e,t){var n=e.slice();return t.forEach(function(e){for(var t=0,r=n;t<r.length;t++){var i=r[t];if(Object(p.stringify)(i)===Object(p.stringify)(e))return}n.push(e)}),n}function Ke(e,t){return e===t?e:e+", "+t}function Qe(e,t){if(Object(k.isArray)(e.value)&&Object(k.isArray)(t.value))return{explicit:e.explicit,value:Je(e.value,t.value)};if(!Object(k.isArray)(e.value)&&!Object(k.isArray)(t.value))return{explicit:e.explicit,value:Ke(e.value,t.value)};throw new Error("It should never reach here")}function Ze(e,t){return e.bin?Object(E.isScaleChannel)(t)&&Object(p.contains)(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}function et(e,t){return Object(p.keys)(e).reduce(function(n,r){var i=e[r];return h.a({},n,je(t,i,r,function(e){return{value:e.value}}))},{})}var tt=function(){function e(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){t[e].parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){r[n].parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}(),nt=function(e){function t(t,n,r,i){var u=e.call(this,t,n)||this;return u.type=r,u.refCounts=i,u._source=u._name=n,!u.refCounts||u._name in u.refCounts||(u.refCounts[u._name]=0),u}return h.b(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(tt),rt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.transform=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this.transform))},t.parseAllForSortIndex=function(e,n){return n.forEachFieldDef(function(n,r){if(Object(V.isScaleFieldDef)(n)&&ve(n.sort)){var i=n.field,u=n.timeUnit,a=n.sort,o=a.map(function(e,t){return hr({field:i,timeUnit:u,equal:e})+" ? "+t+" : "}).join("")+a.length;e=new t(e,{calculate:o,as:it(n,r)})}}),e},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(tt);function it(e,t,n){return Object(V.vgField)(e,{prefix:t,suffix:"sort_index",expr:n})}var ut=["row","column"],at=["header","footer"];function ot(e,t){var n=e.component.layoutHeaders[t].title,r="row"===t?"left":void 0,i=e.config?e.config:void 0,u=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0;return{name:t+"-title",type:"group",role:t+"-title",title:h.a({text:n,offset:10,orient:r,style:"guide-title"},lt(i,u,he,le))}}function ct(e,t){for(var n=e.component.layoutHeaders[t],r=[],i=0,u=at;i<u.length;i++){var a=u[i];if(n[a])for(var o=0,c=n[a];o<c.length;o++){var f=c[o];r.push(st(e,t,a,n,f))}}return r}function ft(e,t){var n=e.sort;return me(n)?{field:Object(V.vgField)(n,{expr:"datum"}),order:n.order||"ascending"}:Object(k.isArray)(n)?{field:it(e,t,"datum"),order:"ascending"}:{field:Object(V.vgField)(e,{expr:"datum"}),order:n||"ascending"}}function st(e,t,n,r,i){var u,a;if(i){var o=null,c=r.facetFieldDef;if(c&&i.labels){var f=c.header,s=void 0===f?{}:f,l=s.format,d=s.labelAngle,m=e.config?e.config:void 0,v=h.a({},(90+(a=((a=d)%360+360)%360))%180===0?{}:a<90||270<a?{align:{value:"right"}}:135<=a&&a<225?{align:{value:"left"}}:{});o=h.a({text:qe(c,l,"parent",e.config),offset:10,orient:"row"===t?"left":"top",style:"guide-label"},lt(m,c,pe,de),Object(p.keys)(v).length>0?{encode:{update:v}}:{})}var g=i.axes,b=g&&g.length>0;if(o||b){var y="row"===t?"height":"width";return h.a({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:ft(c,t)}:{},o?{title:o}:{},i.sizeSignal?{encode:{update:(u={},u[y]=i.sizeSignal,u)}}:{},b?{axes:g}:{})}}return null}function lt(e,t,n,r){for(var i={},u=0,a=n;u<a.length;u++){var o=a[u];e&&e.header&&e.header[o]&&(i[r[o]]=e.header[o]),t&&t.header&&t.header[o]&&(i[r[o]]=t.header[o])}return i}function dt(e){return[].concat(ht(e,"width"),ht(e,"height"))}function ht(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("range-step"===r){var u=e.getScaleComponent(n);if(u){var a=u.get("type"),o=u.get("range");if(Object(N.hasDiscreteDomain)(a)&&oe(o)){var c=e.scaleName(n);if(yn(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[pt(c,o)];return[pt(c,o),{name:i,update:mt(c,u,"domain('"+c+"').length")}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,value:r}]}function pt(e,t){return{name:e+"_step",value:t.step}}function mt(e,t,n){var r=t.get("type"),i=t.get("padding"),u=t.get("paddingOuter");u=void 0!==u?u:i;var a=t.get("paddingInner");return"bandspace("+n+", "+(a="band"===r?void 0!==a?a:i:1)+", "+u+") * "+e+"_step"}function vt(e,t){var n=e.scale[t],r=Object(p.contains)(E.POSITION_SCALE_CHANNELS,t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&G.e(G.b.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var gt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(Object(p.duplicate)(this.explicit),Object(p.duplicate)(this.implicit))},e.prototype.combine=function(){return h.a({},this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e.prototype.copyAll=function(e){for(var t=0,n=Object(p.keys)(e.combine());t<n.length;t++){var r=n[t],i=e.getWithExplicit(r);this.setWithExplicit(r,i)}},e}();function bt(e){return{explicit:!0,value:e}}function yt(e){return{explicit:!1,value:e}}function xt(e){return function(t,n,r,i){var u=e(t.value,n.value);return u>0?t:u<0?n:wt(t,n,r,i)}}function wt(e,t,n,r){return e.explicit&&t.explicit&&G.e(G.b.mergeConflictingProperty(n,r,e.value,t.value)),e}function _t(e,t,n,r,i){return void 0===i&&(i=wt),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Object(p.stringify)(e.value)===Object(p.stringify)(t.value)?e:i(e,t,n,r)}var At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h.b(t,e),t}(gt);function Et(e,t,n,r,i){if("gradient"!==i){var u=h.a({},function(e,t,n){for(var r=0,i=n;r<i.length;r++){var u=i[r],a=Ue(u,t.markDef,t.config);void 0!==a&&(e[u]={value:a})}return e}({},n,T.FILL_STROKE_CONFIG),Ce(n));switch(n.mark){case T.BAR:case T.TICK:case T.TEXT:u.shape={value:"square"};break;case T.CIRCLE:case T.SQUARE:u.shape={value:n.mark};break;case T.POINT:case T.LINE:case T.GEOSHAPE:case T.AREA:}var a=n.markDef,o=n.encoding,c=a.filled;if(u.fill)if("fill"===r||c&&r===E.COLOR)delete u.fill;else if(u.fill.field)delete u.fill;else if(Object(k.isArray)(u.fill)){var f=Dt(o.fill||o.color)||a.fill||c&&a.color;f&&(u.fill={value:f})}if(u.stroke)if("stroke"===r||!c&&r===E.COLOR)delete u.stroke;else if(u.stroke.field)delete u.stroke;else if(Object(k.isArray)(u.stroke)){var s=Dt(o.stroke||o.color)||a.stroke||!c&&a.color;s&&(u.stroke={value:s})}if(u.fill&&"transparent"!==u.fill.value&&!u.stroke&&(u.stroke={value:"transparent"}),r!==E.SHAPE){var l=Dt(o.shape)||a.shape;l&&(u.shape={value:l})}if(r!==E.OPACITY){var d=Ct(o.opacity)||a.opacity;d&&(u.opacity={value:d})}return u=h.a({},u,t),Object(p.keys)(u).length>0?u:void 0}}function Ot(e,t,n,r,i){var u={};if("gradient"===i){var a=Ct(n.encoding.opacity)||n.markDef.opacity;a&&(u.opacity={value:a})}return u=h.a({},u,t),Object(p.keys)(u).length>0?u:void 0}function kt(e,t,n,r,i){var u=n.legend(r),a=n.config,o={};if(Object(V.isTimeFieldDef)(e)){var c=n.getScaleComponent(r).get("type")===N.ScaleType.UTC,f=$e("datum.value",e.timeUnit,u.format,a.legend.shortTimeLabels,a.timeFormat,c);t=h.a({},f?{text:{signal:f}}:{},t)}return o=h.a({},o,t),Object(p.keys)(o).length>0?o:void 0}function Ct(e){return Ft(e,function(e,t){return Math.max(e,t.value)})}function Dt(e){return Ft(e,function(e,t){return void 0!==e?e:t.value})}function Ft(e,t){return Object(V.hasConditionalValueDef)(e)?(Object(k.isArray)(e.condition)?e.condition:[e.condition]).reduce(t,e.value):Object(V.isValueDef)(e)?e.value:void 0}function Mt(e){bn(e)?e.component.legends=function(e){var t=e.encoding;return[E.COLOR,E.FILL,E.STROKE,E.SIZE,E.SHAPE,E.OPACITY].reduce(function(n,r){var i=t[r];return!e.legend(r)||!e.getScaleComponent(r)||Object(V.isFieldDef)(i)&&r===E.SHAPE&&i.type===be.GEOJSON||(n[r]=function(e,t){var n=e.fieldDef(t),r=e.legend(t),i=new At({},function(e,t){var n;switch(t){case E.COLOR:var r=e.scaleName(E.COLOR);return e.markDef.filled?{fill:r}:{stroke:r};case E.FILL:case E.STROKE:case E.SIZE:case E.SHAPE:case E.OPACITY:return(n={})[t]=e.scaleName(t),n}}(e,t));S.forEach(function(n){var u=function(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return He(i,t.format,r.config);case"title":var u=void 0!==i.title?i.title:t.title||(void 0===t.title?void 0:null);return We(u,Object(V.title)(i,r.config))||void 0;case"values":return function(e,t){var n=e.values;if(n)return Object(V.valueArray)(t,n)}(t,i);case"type":return We(t.type,function(e,t,n){if(Object(E.isColorChannel)(t)&&("quantitative"===e&&!Object(N.isBinScale)(n)||"temporal"===e&&Object(p.contains)(["time","utc"],n)))return"gradient"}(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}(n,r,t,e);if(void 0!==u){var a="values"===n?!!r.values:"title"===n&&u===e.fieldDef(t).title||u===r[n];(a||void 0===e.config.legend[n])&&i.set(n,u,a)}});var u=r.encoding||{},a=["labels","legend","title","symbols","gradient"].reduce(function(r,a){var o=et(u[a]||{},e),c=f[a]?f[a](n,o,e,t,i.get("type")):o;return void 0!==c&&Object(p.keys)(c).length>0&&(r[a]={update:c}),r},{});Object(p.keys)(a).length>0&&i.set("encode",a,!!r.encoding);return i}(e,r)),n},{})}(e):e.component.legends=function(e){for(var t=e.component,n=t.legends,r=t.resolve,i=function(t){Mt(t),Object(p.keys)(t.component.legends).forEach(function(i){r.legend[i]=vt(e.component.resolve,i),"shared"===r.legend[i]&&(n[i]=St(n[i],t.component.legends[i]),n[i]||(r.legend[i]="independent",delete n[i]))})},u=0,a=e.children;u<a.length;u++){var o=a[u];i(o)}return Object(p.keys)(n).forEach(function(t){for(var n=0,i=e.children;n<i.length;n++){var u=i[n];u.component.legends[t]&&"shared"===r.legend[t]&&delete u.component.legends[t]}}),n}(e)}function St(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=!1,u=function(n){var r=_t(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return Qe(e,t);case"type":return i=!0,yt("symbol")}return wt(e,t,n,"legend")});e.setWithExplicit(n,r)},a=0,o=j;a<o.length;a++){u(o[a])}return i&&(((e.implicit||{}).encode||{}).gradient&&Object(p.deleteNestedProperty)(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&Object(p.deleteNestedProperty)(e.explicit,["encode","gradient"])),e}}function jt(e){for(var t=e.component.legends,n={},r=0,i=Object(p.keys)(t);r<i.length;r++){var u=i[r],a=e.getScaleComponent(u),o=Object(p.stringify)(a.domains);if(n[o])for(var c=0,f=n[o];c<f.length;c++){St(f[c],t[u])||n[o].push(t[u])}else n[o]=[t[u].clone()]}return Object(p.flatten)(Object(p.vals)(n)).map(function(e){return e.combine()})}function Tt(e){return _n(e)||wn(e)||xn(e)?function(e){return e.children.reduce(function(e,t){return e.concat(t.assembleProjections())},Nt(e))}(e):Nt(e)}function Nt(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name,i=h.c(n,["name"]),u={signal:"["+t.size.map(function(e){return e.signal}).join(", ")+"]"},a=t.data.reduce(function(t,n){var r=ae(n)?n.signal:"data('"+e.lookupDataSource(n)+"')";return Object(p.contains)(t,r)||t.push(r),t},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[h.a({name:r,size:u,fit:{signal:a.length>1?"["+a.join(", ")+"]":a[0]}},i)]}var Bt=["type","clipAngle","clipExtent","center","rotate","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],Pt=function(e){function t(t,n,r,i){var u=e.call(this,h.a({},n),{name:t})||this;return u.specifiedProjection=n,u.size=r,u.data=i,u.merged=!1,u}return h.b(t,e),t}(gt);function Rt(e){bn(e)?e.component.projection=function(e){var t=e.specifiedProjection,n=e.config;if(e.hasProjection){var r=[];return[[E.LONGITUDE,E.LATITUDE],[E.LONGITUDE2,E.LATITUDE2]].forEach(function(t){(e.channelHasField(t[0])||e.channelHasField(t[1]))&&r.push({signal:e.getName("geojson_"+r.length)})}),e.channelHasField(E.SHAPE)&&e.fieldDef(E.SHAPE).type===be.GEOJSON&&r.push({signal:e.getName("geojson_"+r.length)}),0===r.length&&r.push(e.requestDataName(te)),new Pt(e.projectionName(!0),h.a({},n.projection||{},t||{}),[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")],r)}return}(e):e.component.projection=function(e){if(0===e.children.length)return;var t,n=Object(p.every)(e.children,function(e){Rt(e);var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=Object(p.every)(Bt,function(n){return!e.explicit.hasOwnProperty(n)&&!t.explicit.hasOwnProperty(n)||!(!e.explicit.hasOwnProperty(n)||!t.explicit.hasOwnProperty(n)||Object(p.stringify)(e.get(n))!==Object(p.stringify)(t.get(n)))});if(Object(p.stringify)(e.size)===Object(p.stringify)(t.size)){if(n)return e;if(Object(p.stringify)(e.explicit)===Object(p.stringify)({}))return t;if(Object(p.stringify)(t.explicit)===Object(p.stringify)({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0});if(t&&n){var r=e.projectionName(!0),i=new Pt(r,t.specifiedProjection,t.size,Object(p.duplicate)(t.data));return e.children.forEach(function(e){e.component.projection&&(i.data=i.data.concat(e.component.projection.data),e.renameProjection(e.component.projection.get("name"),r),e.component.projection.merged=!0)}),i}return}(e)}var zt=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dimensions=n,i.measures=r,i}return h.b(t,e),t.prototype.clone=function(){return new t(null,h.a({},this.dimensions),Object(p.duplicate)(this.measures))},t.makeFromEncoding=function(e,n){var r=!1;n.forEachFieldDef(function(e){e.aggregate&&(r=!0)});var i={},u={};return r?(n.forEachFieldDef(function(e,t){var r=e.aggregate,a=e.field;r?"count"===r?(i["*"]=i["*"]||{},i["*"].count=Object(V.vgField)(e)):(i[a]=i[a]||{},i[a][r]=Object(V.vgField)(e),Object(E.isScaleChannel)(t)&&"unaggregated"===n.scaleDomain(t)&&(i[a].min=Object(V.vgField)({field:a,aggregate:"min"}),i[a].max=Object(V.vgField)({field:a,aggregate:"max"}))):function(e,t,n){n.bin?(e[Object(V.vgField)(n,{})]=!0,e[Object(V.vgField)(n,{binSuffix:"end"})]=!0,Ze(n,t)&&(e[Object(V.vgField)(n,{binSuffix:"range"})]=!0)):e[Object(V.vgField)(n)]=!0}(u,t,e)}),Object(p.keys)(u).length+Object(p.keys)(i).length===0?null:new t(e,u,i)):null},t.makeFromTransform=function(e,n){for(var r={},i={},u=0,a=n.aggregate;u<a.length;u++){var o=(d=a[u]).op,c=d.field,f=d.as;o&&("count"===o?(i["*"]=i["*"]||{},i["*"].count=f||Object(V.vgField)(d)):(i[c]=i[c]||{},i[c][o]=f||Object(V.vgField)(d)))}for(var s=0,l=n.groupby||[];s<l.length;s++){var d;r[d=l[s]]=!0}return Object(p.keys)(r).length+Object(p.keys)(i).length===0?null:new t(e,r,i)},t.prototype.merge=function(e){Object(p.differ)(this.dimensions,e.dimensions)?G.a("different dimensions, cannot merge"):(!function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return Object(p.keys)(this.dimensions).forEach(function(t){return e[t]=!0}),Object(p.keys)(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return Object(p.keys)(this.measures).forEach(function(n){Object(p.keys)(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){for(var e=[],t=[],n=[],r=0,i=Object(p.keys)(this.measures);r<i.length;r++)for(var u=i[r],a=0,o=Object(p.keys)(this.measures[u]);a<o.length;a++){var c=o[a];n.push(this.measures[u][c]),e.push(c),t.push(u)}return{type:"aggregate",groupby:Object(p.keys)(this.dimensions),ops:e,fields:t,as:n}},t}(tt),Lt=function(e){function t(t,n,r,i){var u=e.call(this,t)||this;u.model=n,u.name=r,u.data=i;for(var a=0,o=[E.COLUMN,E.ROW];a<o.length;a++){var c=o[a],f=n.facet[c];if(f){var s=f.bin,l=f.sort;u[c]=h.a({name:n.getName(c+"_domain"),fields:[Object(V.vgField)(f)].concat(s?[Object(V.vgField)(f,{binSuffix:"end"})]:[])},me(l)?{sortField:l}:Object(k.isArray)(l)?{sortIndexField:it(f,c)}:{})}}return u.childModel=n.child,u}return h.b(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){return(this.column&&this.column.fields||[]).concat(this.row&&this.row.fields||[])},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.getChildIndependentFieldsWithStep=function(){for(var e={},t=0,n=["x","y"];t<n.length;t++){var r=n[t],i=this.childModel.component.scales[r];if(i&&!i.merged){var u=i.get("type"),a=i.get("range");if(Object(N.hasDiscreteDomain)(u)&&oe(a)){var o=rn(un(this.childModel,r));o?e[r]=o:G.e("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e},t.prototype.assembleRowColumnData=function(e,t,n){var r="row"===e?"y":"x",i=[],u=[],a=[];n[r]&&(t?(i.push("distinct_"+n[r]),u.push("max")):(i.push(n[r]),u.push("distinct")),a.push("distinct_"+n[r]));var o=this[e],c=o.sortField,f=o.sortIndexField;if(c){var s=c.op,l=c.field;i.push(l),u.push(s),a.push(Object(V.vgField)(c))}else f&&(i.push(f),u.push("max"),a.push(f));return{name:this[e].name,source:t||this.data,transform:[h.a({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:u,as:a}:{})]}},t.prototype.assemble=function(){var e=[],t=null,n=this.getChildIndependentFieldsWithStep();if(this.column&&this.row&&(n.x||n.y)){t="cross_"+this.column.name+"_"+this.row.name;var r=[].concat(n.x?[n.x]:[],n.y?[n.y]:[]),i=r.map(function(){return"distinct"});e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.column.fields.concat(this.row.fields),fields:r,ops:i}]})}for(var u=0,a=[E.COLUMN,E.ROW];u<a.length;u++){var o=a[u];this[o]&&e.push(this.assembleRowColumnData(o,t,n))}return e},t}(tt),It=function(e){function t(t,n){var r=e.call(this,t)||this;return r.fieldDefs=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,h.a({},this.fieldDefs))},t.make=function(e,n){var r=n.config,i=n.mark;if("filter"!==r.invalidValues)return null;var u=n.reduceFieldDef(function(e,t,r){var u=Object(E.isScaleChannel)(r)&&n.getScaleComponent(r);if(u){var a=u.get("type");!Object(N.hasContinuousDomain)(a)||t.aggregate||Object(T.isPathMark)(i)||(e[t.field]=t)}return e},{});return Object(p.keys)(u).length?new t(e,u):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this.fieldDefs},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this,t=Object(p.keys)(this.filter).reduce(function(t,n){var r=e.fieldDefs[n],i=Object(V.vgField)(r,{expr:"datum"});return null!==r&&(t.push(i+" !== null"),t.push("!isNaN("+i+")")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(tt),Ut=n(43);var qt=function(e){function t(t,n){var r=e.call(this,t)||this;return r._parse=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this._parse))},t.makeExplicit=function(e,t,n){var r={},i=t.data;return i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)},t.makeImplicitFromFilterTransform=function(e,t,n){var r={};return Object(re.a)(t.filter,function(e){if(sr(e)){var t=null;rr(e)?t=e.equal:cr(e)?t=e.range[0]:fr(e)&&(t=(e.oneOf||e.in)[0]),t&&(Object(Ut.isDateTime)(t)?r[e.field]="date":Object(k.isNumber)(t)?r[e.field]="number":Object(k.isString)(t)&&(r[e.field]="string")),e.timeUnit&&(r[e.field]="date")}}),0===Object(p.keys)(r).length?null:this.makeWithAncestors(e,{},r,n)},t.makeImplicitFromEncoding=function(e,t,n){var r={};return(bn(t)||yn(t))&&t.forEachFieldDef(function(e){Object(V.isTimeFieldDef)(e)?r[e.field]="date":Object(V.isNumberFieldDef)(e)?Object(d.isCountingAggregateOp)(e.aggregate)||(r[e.field]="number"):Object(p.accessPathDepth)(e.field)>1?e.field in r||(r[e.field]="flatten"):Object(V.isScaleFieldDef)(e)&&me(e.sort)&&Object(p.accessPathDepth)(e.sort.field)>1&&(e.sort.field in r||(r[e.sort.field]="flatten"))}),this.makeWithAncestors(e,{},r,n)},t.makeWithAncestors=function(e,n,r,i){for(var u=0,a=Object(p.keys)(r);u<a.length;u++){var o=a[u];void 0!==(s=i.getWithExplicit(o)).value&&(s.explicit||s.value===r[o]||"derived"===s.value||"flatten"===r[o]?delete r[o]:G.e(G.b.differentParse(o,r[o],s.value)))}for(var c=0,f=Object(p.keys)(n);c<f.length;c++){var s;o=f[c];void 0!==(s=i.get(o))&&(s===n[o]?delete n[o]:G.e(G.b.differentParse(o,n[o],s)))}var l=new gt(n,r);i.copyAll(l);for(var d={},h=0,m=Object(p.keys)(l.combine());h<m.length;h++){var v=m[h],g=l.get(v);null!==g&&(d[v]=g)}return 0===Object(p.keys)(d).length||i.parseNothing?null:new t(e,d)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=h.a({},this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){for(var e={},t=0,n=Object(p.keys)(this._parse);t<n.length;t++){var r=n[t],i=this._parse[r];1===Object(p.accessPathDepth)(r)&&(e[r]=i)}return e},t.prototype.producedFields=function(){return Object(k.toSet)(Object(p.keys)(this._parse))},t.prototype.dependentFields=function(){return Object(k.toSet)(Object(p.keys)(this._parse))},t.prototype.assembleTransforms=function(e){var t=this;return void 0===e&&(e=!1),Object(p.keys)(this._parse).filter(function(t){return!e||Object(p.accessPathDepth)(t)>1}).map(function(e){var n=function(e,t){var n=Object(p.accessPathWithDatum)(e);return"number"===t?"toNumber("+n+")":"boolean"===t?"toBoolean("+n+")":"string"===t?"toString("+n+")":"date"===t?"toDate("+n+")":"flatten"===t?n:0===t.indexOf("date:")?"timeParse("+n+","+t.slice(5,t.length)+")":0===t.indexOf("utc:")?"utcParse("+n+","+t.slice(4,t.length)+")":(G.e(G.b.unrecognizedParse(t)),null)}(e,t._parse[e]);return n?{type:"formula",expr:n,as:Object(p.removePathFromField)(e)}:null}).filter(function(e){return null!==e})},t}(tt),Wt=function(e){function t(t){var n=e.call(this,null)||this;if(Z(t=t||{name:"source"}))n._data={values:t.values};else if(Q(t)){if(n._data={url:t.url},t.format||(t.format={}),!t.format||!t.format.type){var r=/(?:\.([^.]+))?$/.exec(t.url)[1];Object(p.contains)(["json","csv","tsv","dsv","topojson"],r)||(r="json"),t.format.type=r}}else ee(t)&&(n._data={});if(t.name&&(n._name=t.name),t.format){var i=t.format,u=(i.parse,h.c(i,["parse"]));n._data.format=u}return n}return h.b(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return Z(this._data)?(this._hash||(this._hash=Object(p.hash)(this._data)),this._hash):Q(this._data)?Object(p.hash)([this._data.url,this._data.format]):this._name},t.prototype.assemble=function(){return h.a({name:this._name},this._data,{transform:[]})},t}(tt),Ht=function(e){function t(t,n){var r=e.call(this,t)||this;return r.formula=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this.formula))},t.makeFromEncoding=function(e,n){var r=n.reduceFieldDef(function(e,t){if(t.timeUnit){var n=Object(V.vgField)(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===Object(p.keys)(r).length?null:new t(e,r)},t.makeFromTransform=function(e,n){var r;return new t(e,((r={})[n.field]={as:n.as,timeUnit:n.timeUnit,field:n.field},r))},t.prototype.merge=function(e){this.formula=h.a({},this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return Object(p.vals)(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return Object(p.vals)(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return Object(p.vals)(this.formula).map(function(e){return{type:"formula",as:e.as,expr:Object(ge.fieldExpr)(e.timeUnit,e.field)}})},t}(tt);function Yt(e){return function t(n){if(!(n instanceof Wt)){var r=n.parent;e(n)&&t(r)}}}function Vt(e){var t=e.parent;if(e instanceof qt){if(t instanceof Wt)return!1;if(t.numChildren()>1)return!0;if(t instanceof qt)t.merge(e);else{if(Object(p.hasIntersection)(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function Gt(e){return!(e instanceof nt||e.numChildren()>0||e instanceof Lt)&&(e.remove(),!0)}function $t(e){var t={};return Yt(function(e){if(e instanceof Ht){var n=e.producedFields();Object(p.keys)(n).every(function(e){return!!t[e]})?e.remove():t=h.a({},t,n)}return!0})(e)}var Xt=function(e){function t(t,n){var r=e.call(this,t)||this;return r._stack=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this._stack))},t.makeFromTransform=function(e,n){var r=n.stack,i=n.groupby,u=n.as,a=n.offset,o=void 0===a?"zero":a,c=[],f=[];if(void 0!==n.sort)for(var s=0,l=n.sort;s<l.length;s++){var d=l[s];c.push(d.field),f.push(void 0===d.order?"ascending":d.order)}return new t(e,{stackField:r,groupby:i,offset:o,sort:{field:c,order:f},facetby:[],as:function(e){return Object(k.isArray)(e)&&e.every(function(e){return Object(k.isString)(e)})&&e.length>1}(u)?u:Object(k.isString)(u)?[u,u+"_end"]:[n.stack+"_start",n.stack+"_end"]})},t.makeFromEncoding=function(e,n){var r,i=n.stack;if(!i)return null;i.groupbyChannel&&(r=n.fieldDef(i.groupbyChannel));var u,a=function(e){return e.stack.stackBy.reduce(function(e,t){var n=t.fieldDef,r=Object(V.vgField)(n);return r&&e.push(r),e},[])}(n),o=n.encoding.order;u=Object(k.isArray)(o)||Object(V.isFieldDef)(o)?Xe(o):a.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]});var c=n.vgField(i.fieldChannel);return new t(e,{dimensionFieldDef:r,stackField:c,facetby:[],stackby:a,sort:u,offset:i.offset,impute:i.impute,as:[c+"_start",c+"_end"]})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.facetby=this._stack.facetby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.stackField]=!0,this.getGroupbyFields().forEach(function(t){return e[t]=!0}),this._stack.facetby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return Object(k.isArray)(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){return this._stack.as.reduce(function(e,t){return e[t]=!0,e},{})},t.prototype.getGroupbyFields=function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[Object(V.vgField)(t,{binSuffix:"mid"})]:[Object(V.vgField)(t,{}),Object(V.vgField)(t,{binSuffix:"end"})]:[Object(V.vgField)(t)]:r||[]},t.prototype.assemble=function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,u=t.stackby,a=t.sort,o=t.offset,c=t.impute,f=t.as;if(c&&r){var s=r?Object(V.vgField)(r,{binSuffix:"mid"}):void 0;r.bin&&e.push({type:"formula",expr:"("+Object(V.vgField)(r,{expr:"datum"})+"+"+Object(V.vgField)(r,{expr:"datum",binSuffix:"end"})+")/2",as:s}),e.push({type:"impute",field:i,groupby:u,key:s,method:"value",value:0})}return e.push({type:"stack",groupby:this.getGroupbyFields().concat(n),field:i,sort:a,as:f,offset:o}),e},t}(tt),Jt="scale_";function Kt(e){if(e instanceof Lt)if(1!==e.numChildren()||e.children[0]instanceof nt){!function e(t){if(t instanceof nt&&t.type===te&&1===t.numChildren()){var n=t.children[0];n instanceof Lt||(n.swapWithParent(),e(t))}}(e.model.component.data.main),Object(p.flatten)(e.children.map((n=e,function e(t){if(!(t instanceof Lt)){var r=t.clone();if(r instanceof nt){var i=Jt+r.getSource();r.setSource(i),n.model.component.data.outputNodes[i]=r}else(r instanceof zt||r instanceof Xt)&&r.addDimensions(n.fields);return Object(p.flatten)(t.children.map(e)).forEach(function(e){return e.parent=r}),[r]}return Object(p.flatten)(t.children.map(e))}))).forEach(function(t){return t.parent=e.model.component.data.main})}else{var t=e.children[0];(t instanceof zt||t instanceof Xt)&&t.addDimensions(e.fields),t.swapWithParent(),Kt(e)}else e.children.forEach(Kt);var n}function Qt(e){e instanceof It&&Object(p.every)(Object(p.vals)(e.filter),function(e){return null===e})&&e.remove(),e instanceof nt&&!e.isRequired()&&e.remove(),e.children.forEach(Qt)}function Zt(e){var t=[];return e.forEach(function e(n){0===n.numChildren()?t.push(n):n.children.forEach(e)}),t}function en(e){bn(e)?function(e){var t=e.specifiedScales,n=e.component.scales;p.keys(n).forEach(function(r){var i=t[r],u=i?i.domain:void 0,a=function(e,t){var n=e.getScaleComponent(t).get("type"),r=function(e,t,n,r){if("unaggregated"===e){var i=nn(t,n),u=i.valid,a=i.reason;if(!u)return void G.e(a)}else if(void 0===e&&r.useUnaggregatedDomain){var u=nn(t,n).valid;if(u)return"unaggregated"}return e}(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);r!==e.scaleDomain(t)&&(e.specifiedScales[t]=h.a({},e.specifiedScales[t],{domain:r}));if("x"===t&&e.channelHasField("x2"))return e.channelHasField("x")?tn(n,r,e,"x").concat(tn(n,r,e,"x2")):tn(n,r,e,"x2");if("y"===t&&e.channelHasField("y2"))return e.channelHasField("y")?tn(n,r,e,"y").concat(tn(n,r,e,"y2")):tn(n,r,e,"y2");return tn(n,r,e,t)}(e,r),o=n[r];if(o.domains=a,Object(N.isSelectionDomain)(u)&&o.set("domainRaw",{signal:Gn+p.hash(u)},!0),e.component.data.isFaceted){for(var c=e;!yn(c)&&c.parent;)c=c.parent;var f=c.component.resolve.scale[r];if("shared"===f)for(var s=0,l=a;s<l.length;s++){var d=l[s];ce(d)&&(d.data=Jt+d.data.replace(Jt,""))}}})}(e):function(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];en(r)}var i=e.component.scales;p.keys(i).forEach(function(t){for(var n,r=null,u=0,a=e.children;u<a.length;u++){var o=a[u],c=o.component.scales[t];if(c){n=void 0===n?c.domains:n.concat(c.domains);var f=c.get("domainRaw");r&&f&&r.signal!==f.signal&&G.e("The same selection must be used to override scale domains in a layered view."),r=f}}i[t].domains=n,r&&i[t].set("domainRaw",r,!0)})}(e)}function tn(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!Object(N.isSelectionDomain)(t)){var u=i.type,a=i.timeUnit;return"temporal"===u||a?function(e,t,n){return e.map(function(e){return{signal:"{data: "+Object(V.valueExpr)(e,{timeUnit:n,type:t})+"}"}})}(t,u,a):[t]}var o=n.stack;if(o&&r===o.fieldChannel)return"normalize"===o.offset?[[0,1]]:[{data:f=n.requestDataName(te),field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}];var c=Object(E.isScaleChannel)(r)?function(e,t,n){if(!Object(N.hasDiscreteDomain)(n))return;var r=e.fieldDef(t),i=r.sort;if(ve(i))return{op:"min",field:it(r,t),order:"ascending"};if(me(i))return h.a({},i,i.field?{field:p.replacePathInField(i.field)}:{});if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(p.contains(["ascending",void 0],i))return!0;return}(n,r,e):void 0;if("unaggregated"===t){var f=n.requestDataName(te),s=i.field;return[{data:f,field:Object(V.vgField)({field:s,aggregate:"min"})},{data:f,field:Object(V.vgField)({field:s,aggregate:"max"})}]}if(i.bin){if(Object(N.isBinScale)(e)){var l=n.getName(Object(A.binToString)(i.bin)+"_"+i.field+"_bins");return[{signal:"sequence("+l+".start, "+l+".stop + "+l+".step, "+l+".step)"}]}return Object(N.hasDiscreteDomain)(e)?[{data:p.isBoolean(c)?n.requestDataName(te):n.requestDataName(ne),field:n.vgField(r,Ze(i,r)?{binSuffix:"range"}:{}),sort:!0!==c&&me(c)?c:{field:n.vgField(r,{}),op:"min"}}]:"x"===r||"y"===r?Object(A.isBinParams)(i.bin)&&i.bin.extent?[i.bin.extent]:[{data:f=n.requestDataName(te),field:n.vgField(r,{})},{data:f,field:n.vgField(r,{binSuffix:"end"})}]:[{data:n.requestDataName(te),field:n.vgField(r,{})}]}return c?[{data:p.isBoolean(c)?n.requestDataName(te):n.requestDataName(ne),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(te),field:n.vgField(r)}]}function nn(e,t){return e.aggregate?d.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:G.b.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:G.b.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:G.b.unaggregateDomainHasNoEffectForRawField(e)}}function rn(e){if(ce(e)&&Object(k.isString)(e.field))return e.field;if(function(e){return!Object(k.isArray)(e)&&"fields"in e&&!("data"in e)}(e)){for(var t=void 0,n=0,r=e.fields;n<r.length;n++){var i=r[n];if(ce(i)&&Object(k.isString)(i.field))if(t){if(t!==i.field)return G.e("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),t}else t=i.field}return G.e("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(function(e){return!Object(k.isArray)(e)&&"fields"in e&&"data"in e}(e)){G.e("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");t=e.fields[0];return Object(k.isString)(t)?t:void 0}}function un(e,t){return function(e){var t=p.unique(e.map(function(e){return ce(e)?(e.sort,h.c(e,["sort"])):e}),p.hash),n=p.unique(e.map(function(e){if(ce(e)){var t=e.sort;return void 0===t||p.isBoolean(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(function(e){return void 0!==e}),p.hash);if(1===t.length){if(ce(a=e[0])&&n.length>0){var r=n[0];return n.length>1&&(G.e(G.b.MORE_THAN_ONE_SORT),r=!0),h.a({},a,{sort:r})}return a}var i=p.unique(n.map(function(e){return!0===e?e:"count"===e.op?e:(G.e(G.b.domainSortDropped(e)),!0)}),p.hash),u=void 0;1===i.length?u=i[0]:i.length>1&&(G.e(G.b.MORE_THAN_ONE_SORT),u=!0);var a,o=p.unique(e.map(function(e){return ce(e)?e.data:null}),function(e){return e});return 1===o.length&&null!==o[0]?a=h.a({data:o[0],fields:t.map(function(e){return e.field})},u?{sort:u}:{}):h.a({fields:t},u?{sort:u}:{})}(e.component.scales[t].domains.map(function(t){return ce(t)&&(t.data=e.lookupDataSource(t.data)),t}))}function an(e){return Object(p.keys)(e.component.scales).reduce(function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),u=i.domainRaw,a=i.range,o=i.name,c=i.type,f=(i.domainRaw,i.range,h.c(i,["name","type","domainRaw","range"]));return a=function(e,t,n,r){if("x"===r||"y"===r){if(oe(e))return{step:{signal:t+"_step"}};if(Object(k.isArray)(e)&&2===e.length){var i=e[0],u=e[1];if(0===i&&ae(u))return[0,{signal:n.getSizeName(u.signal)}];if(ae(i)&&0===u)return[{signal:n.getSizeName(i.signal)},0]}}return e}(a,o,e,n),u&&function(e){return e.signal.indexOf(Gn)>=0}(u)&&(u=function(e,t){var n=JSON.parse(t.signal.replace(Gn,"")),r=Object(p.varName)(n.selection),i=e.component.selection&&e.component.selection[r];if(!i)return i=e.getSelectionComponent(r,n.selection),n.encoding||n.field||(n.field=i.project[0].field,i.project.length>1&&Object(G.e)('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '+Object(k.stringValue)(n.field)+".")),{signal:Kn(i.type).scaleDomain+"("+Object(k.stringValue)(r+Hn)+", "+Object(k.stringValue)(n.encoding||null)+", "+Object(k.stringValue)(n.field||null)+("global"===i.resolve?")":", "+Object(k.stringValue)(i.resolve)+")")};Object(G.e)('Use "bind": "scales" to setup a binding for scales and selections within the same view.');return{signal:"null"}}(e,u)),t.push(h.a({name:o,type:c,domain:un(e,n)},u?{domainRaw:u}:{},{range:a},f)),t},[])}var on=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.domains=[],r.setWithExplicit("type",n),r}return h.b(t,e),t}(gt),cn=["range","rangeStep","scheme"];function fn(e){bn(e)?function(e){var t=e.component.scales;E.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.getScaleComponent(n),u=e.specifiedScales[n],a=e.fieldDef(n),o="x"===n?"width":"y"===n?"height":void 0,c=o?!!e.component.layoutSize.get(o):void 0,f=i.get("type"),s=p.contains(["point","band"],f)||!!u.rangeStep;o&&e.fit&&!c&&s&&(G.e(G.b.CANNOT_FIX_RANGE_STEP_WITH_FIT),c=!0);var l=function(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&oe(r)&&Object(k.isNumber)(r.step)&&t.push(r.step);var i=e.getScaleComponent("y"),u=i&&i.get("range");u&&oe(u)&&Object(k.isNumber)(u.step)&&t.push(u.step);return t}(e),d=function(e,t,n,r,i,u,a,o,c,f){for(var s=o||null===r.rangeStep,l=0,d=cn;l<d.length;l++){var h=d[l];if(void 0!==r[h]){var m=Object(N.scaleTypeSupportProperty)(t,h),v=Object(N.channelScalePropertyIncompatability)(e,h);if(m)if(v)G.e(v);else switch(h){case"range":return bt(r[h]);case"scheme":return bt(sn(r[h]));case"rangeStep":var g=r[h];if(null!==g){if(!o)return bt({step:g});G.e(G.b.rangeStepDropped(e))}}else G.e(G.b.scalePropertyNotWorkWithScaleType(t,h,e))}}return yt(function(e,t,n,r,i,u,a,o,c){switch(e){case E.X:case E.Y:if(p.contains(["point","band"],t)&&!c)if(e===E.X&&"text"===u){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===E.Y&&Object(N.hasContinuousDomain)(t)?[{signal:a},0]:[0,{signal:a}];case E.SIZE:var f=function(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(G.b.incompatibleChannel("size",e))}(u,i,r),s=function(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:ln(t,n.scale)-1;case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=ln(t,r);return(i-2)*(i-2)}throw new Error(G.b.incompatibleChannel("size",e))}(u,o,r);return[f,s];case E.SHAPE:return"symbol";case E.COLOR:case E.FILL:case E.STROKE:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===u||"geoshape"===u?"heatmap":"ramp";case E.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}(e,t,n,i,u,a,c,f,s))}(n,f,a.type,u,e.config,r.get("zero"),e.mark,c,e.getName(o),l);r.setWithExplicit("range",d)}})}(e):hn(e,"range")}function sn(e){if(Object(N.isExtendedScheme)(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function ln(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}function dn(e,t){bn(e)?function(e,t){var n=e.component.scales;Object(p.keys)(n).forEach(function(r){var i=e.specifiedScales[r],u=n[r],a=e.getScaleComponent(r),o=e.fieldDef(r),c=e.config,f=i[t],s=a.get("type"),l=Object(N.scaleTypeSupportProperty)(s,t),d=Object(N.channelScalePropertyIncompatability)(r,t);if(void 0!==f&&(l?d&&G.e(d):G.e(G.b.scalePropertyNotWorkWithScaleType(s,t,r))),l&&void 0===d)if(void 0!==f)u.copyKeyFromObject(t,i);else{var h=function(e,t,n,r,i,u,a,o,c){var f=c.scale;switch(e){case"nice":return function(e,t,n){if(n.bin||p.contains([N.ScaleType.TIME,N.ScaleType.UTC],e))return;return p.contains([E.X,E.Y],t)}(r,t,n);case"padding":return function(e,t,n,r,i,u){if(p.contains([E.X,E.Y],e)){if(Object(N.isContinuousToContinuous)(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,o=i.orient;if("bar"===a&&!r.bin&&("vertical"===o&&"x"===e||"horizontal"===o&&"y"===e))return u.continuousBandSize}if(t===N.ScaleType.POINT)return n.pointPadding}return}(t,r,f,n,o,c.bar);case"paddingInner":return function(e,t,n){if(void 0!==e)return;if(p.contains([E.X,E.Y],t))return n.bandPaddingInner;return}(i,t,f);case"paddingOuter":return function(e,t,n,r,i){if(void 0!==e)return;if(p.contains([E.X,E.Y],t)&&n===N.ScaleType.BAND)return void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2;return}(i,t,r,u,f);case"reverse":return function(e,t){if(Object(N.hasContinuousDomain)(e)&&"descending"===t)return!0;return}(r,n.sort);case"zero":return function(e,t,n,r){if(n&&"unaggregated"!==n)return!1;if("size"===e&&"quantitative"===t.type)return!0;if(!t.bin&&p.contains([E.X,E.Y],e)){var i=r.orient,u=r.type;return!Object(p.contains)(["bar","area","line","trail"],u)||!("horizontal"===i&&"y"===e||"vertical"===i&&"x"===e)}return!1}(t,n,a,o)}return f[e]}(t,r,o,a.get("type"),a.get("padding"),a.get("paddingInner"),i.domain,e.markDef,c);void 0!==h&&u.set(t,h,!1)}})}(e,t):hn(e,t)}function hn(e,t){for(var n=e.component.scales,r=0,i=e.children;r<i.length;r++){var u=i[r];"range"===t?fn(u):dn(u,t)}Object(p.keys)(n).forEach(function(r){for(var i,u=0,a=e.children;u<a.length;u++){var o=a[u].component.scales[r];if(o)i=_t(i,o.getWithExplicit(t),t,"scale",xt(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}n[r].setWithExplicit(t,i)})}function pn(e,t,n,r,i){var u=function(e,t,n,r){switch(t.type){case"nominal":case"ordinal":if(Object(E.isColorChannel)(e)||"discrete"===Object(E.rangeType)(e))return"shape"===e&&"ordinal"===t.type&&G.e(G.b.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(p.contains(["x","y"],e)){if(p.contains(["rect","bar","rule"],n))return"band";if("bar"===n)return"band"}return"point";case"temporal":return Object(E.isColorChannel)(e)?"sequential":"discrete"===Object(E.rangeType)(e)?(G.e(G.b.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return Object(E.isColorChannel)(e)?t.bin?"bin-ordinal":"sequential":"discrete"===Object(E.rangeType)(e)?(G.e(G.b.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear";case"latitude":case"longitude":case"geojson":return}throw new Error(G.b.invalidFieldType(t.type))}(t,n,r);return Object(E.isScaleChannel)(t)?void 0!==e?Object(N.channelSupportScaleType)(t,e)?Object(N.scaleTypeSupportDataType)(e,n.type,n.bin)?e:(G.e(G.b.scaleTypeNotWorkWithFieldDef(e,u)),u):(G.e(G.b.scaleTypeNotWorkWithChannel(t,e,u)),u):u:null}function mn(e){bn(e)?e.component.scales=function(e){var t=e.encoding,n=e.config,r=e.mark;return E.SCALE_CHANNELS.reduce(function(i,u){var a,o=void 0,c=t[u];if(Object(V.isFieldDef)(c)&&r===T.GEOSHAPE&&u===E.SHAPE&&c.type===be.GEOJSON)return i;if(Object(V.isFieldDef)(c)?(a=c,o=c.scale):Object(V.hasConditionalFieldDef)(c)?(a=c.condition,o=c.condition.scale):u===E.X?a=Object(V.getFieldDef)(t.x2):u===E.Y&&(a=Object(V.getFieldDef)(t.y2)),a&&null!==o&&!1!==o){var f=(o=o||{}).type,s=pn(o.type,u,a,r,n.scale);i[u]=new on(e.scaleName(u+"",!0),{value:s,explicit:f===s})}return i},{})}(e):e.component.scales=function(e){for(var t=e.component.scales={},n={},r=e.component.resolve,i=function(t){mn(t),Object(p.keys)(t.component.scales).forEach(function(i){if(r.scale[i]=r.scale[i]||function(e,t){if(_n(t)||yn(t))return"shared";if(wn(t)||xn(t))return Object(p.contains)(E.POSITION_SCALE_CHANNELS,e)?"independent":"shared";throw new Error("invalid model type for resolve")}(i,e),"shared"===r.scale[i]){var u=n[i],a=t.component.scales[i].getWithExplicit("type");u?Object(N.scaleCompatible)(u.value,a.value)?n[i]=_t(u,a,"type","scale",vn):(r.scale[i]="independent",delete n[i]):n[i]=a}})},u=0,a=e.children;u<a.length;u++){var o=a[u];i(o)}return Object(p.keys)(n).forEach(function(r){var i=e.scaleName(r,!0),u=n[r];t[r]=new on(i,u);for(var a=0,o=e.children;a<o.length;a++){var c=o[a],f=c.component.scales[r];f&&(c.renameScale(f.get("name"),i),f.merged=!0)}}),t}(e)}var vn=xt(function(e,t){return Object(N.scaleTypePrecedence)(e)-Object(N.scaleTypePrecedence)(t)});var gn=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e},e}();function bn(e){return e&&"unit"===e.type}function yn(e){return e&&"facet"===e.type}function xn(e){return e&&"repeat"===e.type}function wn(e){return e&&"concat"===e.type}function _n(e){return e&&"layer"===e.type}var An=function(){function e(e,t,n,r,i,u){var a=this;this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=a.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=a.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=r,this.repeater=i,this.name=e.name||n,this.title=Object(k.isString)(e.title)?{text:e.title}:e.title,this.scaleNameMap=t?t.scaleNameMap:new gn,this.projectionNameMap=t?t.projectionNameMap:new gn,this.layoutSizeNameMap=t?t.layoutSizeNameMap:new gn,this.data=e.data,this.description=e.description,this.transforms=Ar(e.transform||[]),this.layout=Object($.isUnitSpec)(e)||Object($.isLayerSpec)(e)?void 0:function(e){var t=e||{},n=t.align,r=void 0===n?void 0:n,i=t.center,u=void 0===i?void 0:i,a=t.bounds,o=void 0===a?void 0:a,c=t.spacing;return{align:r,bounds:o,center:u,spacing:void 0===c?void 0:c}}(e),this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},isFaceted:Object($.isFacetSpec)(e)||t&&t.component.data.isFaceted&&!e.data},layoutSize:new gt,layoutHeaders:{row:{},column:{}},mark:null,resolve:h.a({scale:{},axis:{},legend:{}},u||{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.getSizeSignalRef("width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getSizeSignalRef("height")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseProjection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){!function(e){mn(e),en(e);for(var t=0,n=N.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++)dn(e,n[t]);fn(e)}(this)},e.prototype.parseProjection=function(){Rt(this)},e.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},e.prototype.parseLegend=function(){Mt(this)},e.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type)return"cell"},e.prototype.assembleLayoutSize=function(){if("unit"===this.type||"layer"===this.type)return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},e.prototype.assembleLayout=function(){if(this.layout){var e=this.layout,t=e.align,n=e.bounds,r=e.center,i=e.spacing,u=void 0===i?{}:i;return h.a({padding:Object(k.isNumber)(u)?u:{row:u.row||10,column:u.column||10}},this.assembleDefaultLayout(),t?{align:t}:{},n?{bounds:n}:{},r?{center:r}:{})}},e.prototype.assembleDefaultLayout=function(){return{}},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=ut;n<r.length;n++){e[a=r[n]].title&&t.push(ot(this,a))}for(var i=0,u=ut;i<u.length;i++){var a=u[i];t=t.concat(ct(this,a))}return t},e.prototype.assembleAxes=function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,u=void 0===i?[]:i;return r.map(function(e){return se(e,"main",t)}).concat(r.map(function(e){return se(e,"grid",t)}),u.map(function(e){return se(e,"main",t)}),u.map(function(e){return se(e,"grid",t)})).filter(function(e){return e})}(this.component.axes,this.config)},e.prototype.assembleLegends=function(){return jt(this)},e.prototype.assembleProjections=function(){return Tt(this)},e.prototype.assembleTitle=function(){var e=h.a({},R(this.config.title).nonMark,this.title);if(e.text)return Object(p.contains)(["unit","layer"],this.type)||(e.anchor&&"start"!==e.anchor&&G.e(G.b.cannotSetTitleAnchor(this.type)),e.anchor="start"),Object(p.keys)(e).length>0?e:void 0},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};(e=e.concat(this.assembleSelectionSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||yn(this.parent)?function e(t){return _n(t)||wn(t)||xn(t)?t.children.reduce(function(t,n){return t.concat(e(n))},an(t)):an(t)}(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var u=this.assembleLegends();return u.length>0&&(t.legends=u),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var r=n[t];if(bn(r)){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return Object(p.varName)((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){if(yn(this.parent)){var t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(Object(N.hasDiscreteDomain)(r)&&oe(i)){var u=n.get("name"),a=rn(un(this,t));return a?{signal:mt(u,n,Object(V.vgField)({aggregate:"distinct",field:a},{expr:"datum"}))}:(G.e("Unknown field for ${channel}.  Cannot calculate view size."),null)}}}return{signal:this.layoutSizeNameMap.get(this.getName(e))}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.getSizeName=function(e){return this.layoutSizeNameMap.get(e)},e.prototype.renameLayoutSize=function(e,t){this.layoutSizeNameMap.rename(e,t)},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.renameProjection=function(e,t){this.projectionNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):Object(E.isChannel)(e)&&Object(E.isScaleChannel)(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.projectionName=function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(G.b.selectionNotFound(t));return n},e}(),En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h.b(t,e),t.prototype.vgField=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return Object(V.vgField)(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return Object(ue.reduce)(this.getMapping(),function(t,n,r){var i=Object(V.getFieldDef)(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){Object(ue.forEach)(this.getMapping(),function(t,n){var r=Object(V.getFieldDef)(t);r&&e(r,n)},t)},t}(An),On={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var i=t.channel,u=e.getScaleComponent(i),a=u?u.get("type"):void 0;u&&Object(N.hasContinuousDomain)(a)&&!Object(N.isBinScale)(a)?(u.set("domainRaw",{signal:tr(n,i,"data")},!0),r.push(i),e.repeater&&e.repeater.row===e.repeater.column&&e.getScaleComponent(i===E.X?E.Y:E.X).set("domainRaw",{signal:tr(n,i,"data")},!0)):G.e(G.b.SCALE_BINDINGS_CONTINUOUS)})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===tr(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:tr(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===tr(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};function kn(e,t){return"domain("+Object(k.stringValue)(e.scaleName(t))+")"}var Cn="_scale_trigger",Dn={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,t){var n=t.name,r=On.has(t),i=[],u=[],a=[],o=[];if(t.translate&&!r){var c="!event.item || event.item.mark.name !== "+Object(k.stringValue)(n+"_brush");Fn(t,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(c)<0&&n.push(c)})}return t.project.forEach(function(n){var r=n.channel;if(r===E.X||r===E.Y){var c=function(e,t,n){var r=tr(t,n,"visual"),i=tr(t,n,"data"),u=On.has(t),a=e.scaleName(n),o=Object(k.stringValue)(a),c=e.getScaleComponent(n),f=c?c.get("type"):void 0,s=e.getSizeSignalRef(n===E.X?"width":"height").signal,l=n+"(unit)",d=Fn(t,function(e,t){return e.concat({events:t.between[0],update:"["+l+", "+l+"]"},{events:t,update:"["+r+"[0], clamp("+l+", 0, "+s+")]"})});return d.push({events:{signal:t.name+Cn},update:Object(N.hasContinuousDomain)(f)&&!Object(N.isBinScale)(f)?"[scale("+o+", "+i+"[0]), scale("+o+", "+i+"[1])]":"[0, 0]"}),u?[{name:i,on:[]}]:[{name:r,value:[],on:d},{name:i,on:[{events:{signal:r},update:r+"[0] === "+r+"[1] ? null : invert("+o+", "+r+")"}]}]}(e,t,r),f=tr(t,r,"data"),s=tr(t,r,"visual"),l=Object(k.stringValue)(e.scaleName(r)),d=e.getScaleComponent(r).get("type"),h=Object(N.hasContinuousDomain)(d)?"+":"";i.push.apply(i,c),a.push(f),u.push("{encoding: "+Object(k.stringValue)(r)+", field: "+Object(k.stringValue)(n.field)+", extent: "+f+"}"),o.push({scaleName:e.scaleName(r),expr:"(!isArray("+f+") || ("+h+"invert("+l+", "+s+")[0] === "+h+f+"[0] && "+h+"invert("+l+", "+s+")[1] === "+h+f+"[1]))"})}else Object(G.e)("Interval selections only support x and y encoding channels.")}),r||i.push({name:n+Cn,update:o.map(function(e){return e.expr}).join(" && ")+" ? "+(n+Cn)+" : {}"}),i.concat({name:n+Yn,on:[{events:a.map(function(e){return{signal:e}}),update:a.join(" && ")+" ? {unit: "+Zn(e)+", intervals: ["+u.join(", ")+"]} : null"}]})},modifyExpr:function(e,t){return t.name+Yn+", "+("global"===t.resolve?"true":"{unit: "+Zn(e)+"}")},marks:function(e,t,n){var r=t.name,i=nr(t),u=i.xi,a=i.yi,o="data("+Object(k.stringValue)(t.name+Hn)+")";if(On.has(t))return n;var c={x:null!==u?{signal:r+"_x[0]"}:{value:0},y:null!==a?{signal:r+"_y[0]"}:{value:0},x2:null!==u?{signal:r+"_x[1]"}:{field:{group:"width"}},y2:null!==a?{signal:r+"_y[1]"}:{field:{group:"height"}}};if("global"===t.resolve)for(var f=0,s=Object(p.keys)(c);f<s.length;f++){var l=s[f];c[l]=[h.a({test:o+".length && "+o+"[0].unit === "+Zn(e)},c[l]),{value:0}]}var d=t.mark,m=d.fill,v=d.fillOpacity,g=h.c(d,["fill","fillOpacity"]),b=Object(p.keys)(g).reduce(function(e,t){return e[t]=[{test:[null!==u&&r+"_x[0] !== "+r+"_x[1]",null!=a&&r+"_y[0] !== "+r+"_y[1]"].filter(function(e){return e}).join(" && "),value:g[t]},{value:null}],e},{});return[{name:r+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},fillOpacity:{value:v}},update:c}}].concat(n,{name:r+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:h.a({},c,b)}})}};function Fn(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(Object(G.e)(n+" is not an ordered event stream for interval selections"),e)},[])}var Mn={has:function(e){return"interval"!==e.type&&e.nearest},marks:function(e,t,n){var r=nr(t),i=r.x,u=r.y,a=e.mark;if(Object(T.isPathMark)(a))return G.e(G.b.nearestNotSupportForContinuous(a)),n;var o={name:e.getName("voronoi"),type:"path",from:{data:e.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:{expr:i||!i&&!u?"datum.datum.x || 0":"0"},y:{expr:u||!i&&!u?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},c=0,f=!1;return n.forEach(function(t,n){var r=t.name||"";r===e.component.mark[0].name?c=n:r.indexOf("voronoi")>=0&&(f=!0)}),f||n.splice(c+1,0,o),n}};function Sn(e,t){var n=t.project,r=Mn.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",i=[],u=n.map(function(e){return Object(k.stringValue)(e.channel)}).filter(function(e){return e}).join(", "),a=n.map(function(e){return Object(k.stringValue)(e.field)}).join(", "),o=n.map(function(t){var n=t.channel,u=e.fieldDef(n);return u&&u.bin?(i.push(t.field),"["+Object(p.accessPathWithDatum)(e.vgField(n,{}),r)+", "+Object(p.accessPathWithDatum)(e.vgField(n,{binSuffix:"end"}),r)+"]"):""+Object(p.accessPathWithDatum)(t.field,r)}).join(", ");return[{name:t.name+Yn,value:{},on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? {unit: "+Zn(e)+", encodings: ["+u+"], fields: ["+a+"], values: ["+o+"]"+(i.length?", "+i.map(function(e){return Object(k.stringValue)("bin_"+e)+": 1"}).join(", "):"")+"} : null",force:!0}]}]}var jn={predicate:"vlMulti",scaleDomain:"vlMultiDomain",signals:Sn,modifyExpr:function(e,t){return t.name+Yn+", "+("global"===t.resolve?"null":"{unit: "+Zn(e)+"}")}},Tn={predicate:"vlSingle",scaleDomain:"vlSingleDomain",signals:Sn,topLevelSignals:function(e,t,n){var r=n.filter(function(e){return e.name===t.name}),i="data("+Object(k.stringValue)(t.name+Hn)+")",u=i+"[0].values";return r.length?n:n.concat({name:t.name,update:i+".length && {"+t.project.map(function(e,t){return e.field+": "+u+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){return t.name+Yn+", "+("global"===t.resolve?"true":"{unit: "+Zn(e)+"}")}},Nn="_translate_anchor",Bn="_translate_delta",Pn={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=On.has(t),u=r+Nn,a=nr(t),o=a.x,c=a.y,f=Object(ie.a)(t.translate,"scope");return i||(f=f.map(function(e){return e.between[0].markname=r+"_brush",e})),n.push({name:u,value:{},on:[{events:f.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==o?", extent_x: "+(i?kn(e,E.X):"slice("+tr(t,"x","visual")+")"):"")+(null!==c?", extent_y: "+(i?kn(e,E.Y):"slice("+tr(t,"y","visual")+")"):"")+"}"}]},{name:r+Bn,value:{},on:[{events:f,update:"{x: "+u+".x - x(unit), y: "+u+".y - y(unit)}"}]}),null!==o&&Rn(e,t,E.X,"width",n),null!==c&&Rn(e,t,E.Y,"height",n),n}};function Rn(e,t,n,r,i){var u=t.name,a=On.has(t),o=i.filter(function(e){return e.name===tr(t,n,a?"data":"visual")})[0],c=u+Nn,f=u+Bn,s=e.getSizeSignalRef(r).signal,l=e.getScaleComponent(n),d=l.get("type"),h=a&&n===E.X?"-":"",p=c+".extent_"+n,m=(a?"log"===d?"panLog":"pow"===d?"panPow":"panLinear":"panLinear")+"("+p+", "+(""+h+f+"."+n+" / "+(a?""+s:"span("+p+")"))+(a&&"pow"===d?", "+(l.get("exponent")||1):"")+")";o.on.push({events:{signal:f},update:a?m:"clampRange("+m+", 0, "+s+")"})}var zn="_zoom_anchor",Ln="_zoom_delta",In={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=On.has(t),u=r+Ln,a=nr(t),o=a.x,c=a.y,f=Object(k.stringValue)(e.scaleName(E.X)),s=Object(k.stringValue)(e.scaleName(E.Y)),l=Object(ie.a)(t.zoom,"scope");return i||(l=l.map(function(e){return e.markname=r+"_brush",e})),n.push({name:r+zn,on:[{events:l,update:i?"{"+[f?"x: invert("+f+", x(unit))":"",s?"y: invert("+s+", y(unit))":""].filter(function(e){return!!e}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:u,on:[{events:l,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==o&&Un(e,t,"x","width",n),null!==c&&Un(e,t,"y","height",n),n}};function Un(e,t,n,r,i){var u=t.name,a=On.has(t),o=i.filter(function(e){return e.name===tr(t,n,a?"data":"visual")})[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(n),s=f.get("type"),l=a?kn(e,n):o.name,d=u+Ln,h=(a?"log"===s?"zoomLog":"pow"===s?"zoomPow":"zoomLinear":"zoomLinear")+"("+l+", "+(""+u+zn+"."+n)+", "+d+(a&&"pow"===s?", "+(f.get("exponent")||1):"")+")";o.on.push({events:{signal:d},update:a?h:"clampRange("+h+", 0, "+c+")"})}var qn={project:{has:function(e){var t=e;return void 0!==t.fields||void 0!==t.encodings},parse:function(e,t,n){var r={},i={};(t.fields||[]).forEach(function(e){return r[e]=null}),(t.encodings||[]).forEach(function(t){var n=e.fieldDef(t);if(n)if(n.timeUnit){var u=e.vgField(t);r[u]=t,i[u]={as:u,field:n.field,timeUnit:n.timeUnit}}else r[n.field]=t;else G.e(G.b.cannotProjectOnChannelWithoutField(t))});var u=n.project||(n.project=[]);for(var a in r)r.hasOwnProperty(a)&&u.push({field:a,channel:r[a]});var o=n.fields||(n.fields={});u.filter(function(e){return e.channel}).forEach(function(e){return o[e.channel]=e.field}),Object(p.keys)(i).length&&(n.timeUnit=new Ht(null,i))}},toggle:{has:function(e){return"multi"===e.type&&e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var r=t.name+Yn,i=t.name+"_toggle";return i+" ? null : "+r+", "+("global"===t.resolve?i+" ? null : true, ":i+" ? null : {unit: "+Zn(e)+"}, ")+i+" ? "+r+" : null"}},scales:On,translate:Pn,zoom:In,inputs:{has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,u=t.bind,a=Mn.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.forEach(function(e){var i=Object(p.varName)(r+"_"+e.field);n.filter(function(e){return e.name===i}).length||n.unshift({name:i,value:"",on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+Object(p.accessPathWithDatum)(e.field,a)+" : null"}],bind:u[e.field]||u[e.channel]||u})}),n},signals:function(e,t,n){var r=t.name,i=t.project,u=n.filter(function(e){return e.name===r+Yn})[0],a=i.map(function(e){return Object(k.stringValue)(e.field)}).join(", "),o=i.map(function(e){return Object(p.varName)(r+"_"+e.field)});return o.length&&(u.update=o.join(" && ")+" ? {fields: ["+a+"], values: ["+o.join(", ")+"]} : null"),delete u.value,delete u.on,n}},nearest:Mn};function Wn(e,t){for(var n in qn)qn[n].has(e)&&t(qn[n])}var Hn="_store",Yn="_tuple",Vn="_modify",Gn="_selection_domain_";function $n(e,t){return Jn(e,function(n,r){t=r.marks?r.marks(e,n,t):t,Wn(n,function(r){r.marks&&(t=r.marks(e,n,t))})}),t}function Xn(e,t,n){var r=[];var i=Object(p.logicalExpr)(t,function(t){var i=Object(p.varName)(t),u=e.getSelectionComponent(i,t),a=Object(k.stringValue)(i+Hn);if(u.timeUnit){var o=n||e.component.data.raw,c=u.timeUnit.clone();o.parent?c.insertAsParentOf(o):o.parent=c}return"none"!==u.empty&&r.push(a),Kn(u.type).predicate+"("+a+", datum"+("global"===u.resolve?")":", "+Object(k.stringValue)(u.resolve)+")")});return(r.length?"!("+r.map(function(e){return"length(data("+e+"))"}).join(" || ")+") || ":"")+"("+i+")"}function Jn(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,Kn(i.type))}}function Kn(e){switch(e){case"single":return Tn;case"multi":return jn;case"interval":return Dn}return null}function Qn(e){for(var t=e.parent;t&&!yn(t);)t=t.parent;return t}function Zn(e){var t=Object(k.stringValue)(e.name),n=Qn(e);return n&&(t+=(n.facet.row?" + '_' + ("+Object(p.accessPathWithDatum)(n.vgField("row"),"facet")+")":"")+(n.facet.column?" + '_' + ("+Object(p.accessPathWithDatum)(n.vgField("column"),"facet")+")":"")),t}function er(e){var t=!1;return Jn(e,function(e){t=t||e.project.some(function(e){return e.field===B})}),t}function tr(e,t,n){var r=e._signalNames||(e._signalNames={});if(r[t]&&r[t][n])return r[t][n];r[t]=r[t]||{};for(var i=Object(p.varName)(e.name+"_"+("visual"===n?t:e.fields[t])),u=i,a=1;r[u];)u=i+"_"+a++;return r[u]=r[t][n]=u}function nr(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,u){e.channel===E.X?(t=e,n=u):e.channel===E.Y&&(r=e,i=u)}),{x:t,xi:n,y:r,yi:i}}function rr(e){return e&&!!e.field&&void 0!==e.equal}function ir(e){return e&&!!e.field&&void 0!==e.lt}function ur(e){return e&&!!e.field&&void 0!==e.lte}function ar(e){return e&&!!e.field&&void 0!==e.gt}function or(e){return e&&!!e.field&&void 0!==e.gte}function cr(e){return!!(e&&e.field&&Object(k.isArray)(e.range)&&2===e.range.length)}function fr(e){return e&&!!e.field&&(Object(k.isArray)(e.oneOf)||Object(k.isArray)(e.in))}function sr(e){return fr(e)||rr(e)||cr(e)||ir(e)||ar(e)||ur(e)||or(e)}function lr(e,t,n){return Object(p.logicalExpr)(t,function(t){return Object(k.isString)(t)?t:function(e){return e&&e.selection}(t)?Xn(e,t.selection,n):hr(t)})}function dr(e,t){return Object(V.valueExpr)(e,{timeUnit:t,time:!0})}function hr(e,t){void 0===t&&(t=!0);var n=e.field,r=e.timeUnit,i=r?"time("+Object(ge.fieldExpr)(r,n)+")":Object(V.vgField)(e,{expr:"datum"});if(rr(e))return i+"==="+dr(e.equal,r);if(ir(e))return i+"<"+dr(o=e.lt,r);if(ar(e))return i+">"+dr(a=e.gt,r);if(ur(e))return i+"<="+dr(o=e.lte,r);if(or(e))return i+">="+dr(a=e.gte,r);if(fr(e)){var u=e.oneOf;return"indexof(["+function(e,t){return e.map(function(e){return dr(e,t)})}(u=u||e.in,r).join(",")+"], "+i+") !== -1"}if(cr(e)){var a=e.range[0],o=e.range[1];if(null!==a&&null!==o&&t)return"inrange("+i+", ["+dr(a,r)+", "+dr(o,r)+"])";var c=[];return null!==a&&c.push(i+" >= "+dr(a,r)),null!==o&&c.push(i+" <= "+dr(o,r)),c.length>0?c.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(e))}function pr(e){return sr(e)&&e.timeUnit?h.a({},e,{timeUnit:Object(ge.normalizeTimeUnit)(e.timeUnit)}):e}function mr(e){return void 0!==e.filter}function vr(e){return void 0!==e.lookup}function gr(e){return void 0!==e.window}function br(e){return void 0!==e.calculate}function yr(e){return!!e.bin}function xr(e){return void 0!==e.timeUnit}function wr(e){return void 0!==e.aggregate}function _r(e){return void 0!==e.stack}function Ar(e){return e.map(function(e){return mr(e)?{filter:Object(re.e)(e.filter,pr)}:e})}function Er(e,t){var n;n=function(e){return"as"in e}(e)?Object(k.isString)(e.as)?[e.as,e.as+"_end"]:[e.as[0],e.as[1]]:[Object(V.vgField)(e,{}),Object(V.vgField)(e,{binSuffix:"end"})];var r=Object(V.normalizeBin)(e.bin,void 0)||{},i=function(e,t){return Object(A.binToString)(e)+"_"+t}(r,e.field),u=function(e,t){return{signal:e.getName(t+"_bins"),extentSignal:e.getName(t+"_extent")}}(t,i),a=u.signal,o=u.extentSignal;return{key:i,binComponent:h.a({bin:r,field:e.field,as:n},a?{signal:a}:{},o?{extentSignal:o}:{})}}var Or=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bins=n,r}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this.bins))},t.makeFromEncoding=function(e,n){var r=n.reduceFieldDef(function(e,t,r){if(t.bin){var i=Er(t,n),u=i.key,a=i.binComponent;e[u]=h.a({},a,e[u],function(e,t,n,r){if(Ze(t,n)){var i=bn(e)&&(e.axis(n)||e.legend(n))||{},u=Object(V.vgField)(t,{expr:"datum"}),a=Object(V.vgField)(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Object(V.vgField)(t,{binSuffix:"range"}),formula:Ge(u,a,i.format,r)}}return{}}(n,t,r,n.config))}return e},{});return 0===Object(p.keys)(r).length?null:new t(e,r)},t.makeFromTransform=function(e,n,r){var i,u=Er(n,r),a=u.key,o=u.binComponent;return new t(e,((i={})[a]=o,i))},t.prototype.merge=function(e){this.bins=h.a({},this.bins,e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return Object(p.vals)(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return Object(p.vals)(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return Object(p.flatten)(Object(p.vals)(this.bins).map(function(e){var t=[],n=h.a({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(tt),kr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.model=n,i.filter=r,i.expr=lr(i.model,i.filter,i),i}return h.b(t,e),t.prototype.clone=function(){return new t(null,this.model,Object(p.duplicate)(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:this.expr}},t}(tt),Cr=function(e){function t(t,n,r,i){var u=e.call(this,t)||this;return u.fields=n,u.geojson=r,u.signal=i,u}return h.b(t,e),t.prototype.clone=function(){return new t(null,Object(p.duplicate)(this.fields),this.geojson,this.signal)},t.parseAll=function(e,n){var r=0;if([[E.LONGITUDE,E.LATITUDE],[E.LONGITUDE2,E.LATITUDE2]].forEach(function(i){var u=i.map(function(e){return n.channelHasField(e)?n.fieldDef(e).field:void 0});(u[0]||u[1])&&(e=new t(e,u,null,n.getName("geojson_"+r++)))}),n.channelHasField(E.SHAPE)){var i=n.fieldDef(E.SHAPE);i.type===be.GEOJSON&&(e=new t(e,null,i.field,n.getName("geojson_"+r++)))}return e},t.prototype.assemble=function(){return h.a({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})},t}(tt),Dr=function(e){function t(t,n,r,i){var u=e.call(this,t)||this;return u.projection=n,u.fields=r,u.as=i,u}return h.b(t,e),t.prototype.clone=function(){return new t(null,this.projection,Object(p.duplicate)(this.fields),Object(p.duplicate)(this.as))},t.parseAll=function(e,n){return n.projectionName()?([[E.LONGITUDE,E.LATITUDE],[E.LONGITUDE2,E.LATITUDE2]].forEach(function(r){var i=r.map(function(e){return n.channelHasField(e)?n.fieldDef(e).field:void 0}),u=r[0]===E.LONGITUDE2?"2":"";(i[0]||i[1])&&(e=new t(e,n.projectionName(),i,[n.getName("x"+u),n.getName("y"+u)]))}),e):e},t.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}},t}(tt),Fr=function(e){function t(t){return e.call(this,t)||this}return h.b(t,e),t.prototype.clone=function(){return new t(null)},t.prototype.producedFields=function(){var e;return(e={})[B]=!0,e},t.prototype.assemble=function(){return{type:"identifier",as:B}},t}(tt),Mr=function(e){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r=!1);var i=e.call(this,t,n)||this;return i.explicit=t,i.implicit=n,i.parseNothing=r,i}return h.b(t,e),t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t.parseNothing=this.parseNothing,t},t}(gt),Sr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.transform=n,i.secondary=r,i}return h.b(t,e),t.make=function(e,n,r,i){var u=n.component.data.sources,a=new Wt(r.from.data),o=u[a.hash()];o||(u[a.hash()]=a,o=a);var c=n.getName("lookup_"+i),f=new nt(o,c,"lookup",n.component.data.outputNodeRefCounts);return n.component.data.outputNodes[c]=f,new t(e,r,f.getSource())},t.prototype.producedFields=function(){return Object(k.toSet)(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=h.a({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;Object(k.isString)(t)||(G.e(G.b.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return h.a({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(tt);function jr(e){var t=0;return function n(r,i){r instanceof Wt&&(Q(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]}));if(r instanceof qt&&(r.parent instanceof Wt&&!i.source?(i.format=h.a({},i.format||{},{parse:r.assembleFormatParse()}),i.transform=i.transform.concat(r.assembleTransforms(!0))):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof Lt)return i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});(r instanceof kr||r instanceof rt||r instanceof Dr||r instanceof Cr||r instanceof zt||r instanceof Sr||r instanceof Hr||r instanceof Fr)&&i.transform.push(r.assemble()),(r instanceof It||r instanceof Or||r instanceof Ht||r instanceof Xt)&&(i.transform=i.transform.concat(r.assemble())),r instanceof zt&&(i.name||(i.name="data_"+t++)),r instanceof nt&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof nt?r.setSource(i.name):(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()&&(e.push(i),i={name:null,source:i.name,transform:[]})));switch(r.numChildren()){case 0:r instanceof nt&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_"+t++);var u=i.name;!i.source||i.transform.length>0?e.push(i):u=i.source,r.children.forEach(function(e){n(e,{name:null,source:u,transform:[]})})}}}function Tr(e){Br(e);var t=e.component.layoutSize;t.setWithExplicit("width",Pr(e,"width")),t.setWithExplicit("height",Pr(e,"height"))}var Nr=Tr;function Br(e){for(var t=0,n=e.children;t<n.length;t++){n[t].parseLayoutSize()}}function Pr(e,t){for(var n,r="width"===t?"x":"y",i=e.component.resolve,u=0,a=e.children;u<a.length;u++){var o=(l=a[u]).component.layoutSize.getWithExplicit(t),c=i.scale[r];if("independent"===c&&"range-step"===o.value){n=void 0;break}if(n){if("independent"===c&&n.value!==o.value){n=void 0;break}n=_t(n,o,t,"")}else n=o}if(n){for(var f=0,s=e.children;f<s.length;f++){var l=s[f];e.renameLayoutSize(l.getName(t),e.getName(t)),l.component.layoutSize.set(t,"merged",!1)}return n}return{explicit:!1,value:void 0}}function Rr(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var u=i.get("type"),a=i.get("range");return Object(N.hasDiscreteDomain)(u)&&oe(a)?"range-step":r.view[t]}return e.hasProjection?r.view[t]:"width"===t&&"text"===e.mark?r.scale.textXRangeStep:r.scale.rangeStep||N.defaultScaleConfig.rangeStep}function zr(e,t){return Object(V.isRepeatRef)(e.field)?e.field.repeat in t?h.a({},e,{field:t[e.field.repeat]}):void G.e(G.b.noSuchRepeatedValue(e.field.repeat)):e}function Lr(e,t){if(void 0!==(e=zr(e,t))){if(e.sort&&me(e.sort)){var n=zr(e.sort,t);e=h.a({},e,n?{sort:n}:{})}return e}}function Ir(e,t){if(!Object(V.isFieldDef)(e)){if(Object(V.hasConditionalFieldDef)(e)){if(n=Lr(e.condition,t))return h.a({},e,{condition:n});e.condition;return h.c(e,["condition"])}return e}var n;return(n=Lr(e,t))?n:Object(V.isConditionalDef)(e)?{condition:e.condition}:void 0}function Ur(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(Object(k.isArray)(i))n[r]=i.map(function(e){return Ir(e,t)}).filter(function(e){return e});else{var u=Ir(i,t);u&&(n[r]=u)}}return n}function qr(e,t,n){return Object(V.vgField)(t,{expr:n,suffix:"by_"+Object(V.vgField)(e)})}var Wr=function(e){function t(t,n,r,i,u){var a=e.call(this,t,n,r,u,i,t.resolve)||this;a.type="facet",a.child=pi(t.spec,a,a.getName("child"),void 0,i,u,!1),a.children=[a.child];var o=function(e,t){return Ur(e,t)}(t.facet,i);return a.facet=a.initFacet(o),a}return h.b(t,e),t.prototype.initFacet=function(e){return Object(ue.reduce)(e,function(e,t,n){return Object(p.contains)([E.ROW,E.COLUMN],n)?void 0===t.field?(G.e(G.b.emptyFieldDef(t,n)),e):(e[n]=Object(V.normalize)(t,n),e):(G.e(G.b.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=Yr(this),this.child.parseData()},t.prototype.parseLayoutSize=function(){Br(this)},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==t.title?t.title:void 0!==n.title?n.title:Object(V.title)(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,facetFieldDef:t,header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.component.layoutSize.get(n)?this.child.getSizeSignalRef(n):void 0,axes:[]}},t.prototype.mergeChildAxis=function(e){var t,n=this.child;if(n.component.axes[e]){var r=this.component,i=r.layoutHeaders,u=r.resolve;if(u.axis[e]=vt(u,e),"shared"===u.axis[e])for(var a="x"===e?"column":"row",o=i[a],c=0,f=n.component.axes[e];c<f.length;c++){var s=f[c],l="top"===(t=s.get("orient"))||"left"===t?"header":"footer";o[l]=o[l]||[this.makeHeaderComponent(a,!1)];var d=se(s,"main",this.config,{header:!0});o[l][0].axes.push(d),s.mainExtracted=!0}}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.getHeaderLayoutMixins=function(){var e=this,t={};return["row","column"].forEach(function(n){["header","footer"].forEach(function(r){var i=e.component.layoutHeaders[n],u=i[r];if(u&&u[0]){var a="row"===n?"height":"width",o="header"===r?"headerBand":"footerBand";e.child.component.layoutSize.get(a)||(t[o]=t[o]||{},t[o][n]=.5),i.title&&(t.offset=t.offset||{},t.offset["row"===n?"rowTitle":"columnTitle"]=10)}})}),t},t.prototype.assembleDefaultLayout=function(){var e=this.channelHasField("column")?this.columnDistinctSignal():1;return h.a({},this.getHeaderLayoutMixins(),{columns:e,bounds:"full",align:"all"})},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof t))return{signal:"length(data('"+this.getName("column_domain")+"'))"}},t.prototype.assembleGroup=function(n){return this.parent&&this.parent instanceof t?h.a({},this.channelHasField("column")?{encode:{update:{columns:{field:Object(V.vgField)(this.facet.column,{prefix:"distinct"})}}}}:{},e.prototype.assembleGroup.call(this,n)):e.prototype.assembleGroup.call(this,n)},t.prototype.getCardinalityAggregateForChild=function(){var e=[],n=[],r=[];if(this.child instanceof t){if(this.child.channelHasField("column")){var i=Object(V.vgField)(this.child.facet.column);e.push(i),n.push("distinct"),r.push("distinct_"+i)}}else for(var u=0,a=["x","y"];u<a.length;u++){var o=a[u],c=this.child.component.scales[o];if(c&&!c.merged){var f=c.get("type"),s=c.get("range");if(Object(N.hasDiscreteDomain)(f)&&oe(s))(i=rn(un(this.child,o)))?(e.push(i),n.push("distinct"),r.push("distinct_"+i)):G.e("Unknown field for ${channel}.  Cannot calculate view size.")}}return{fields:e,ops:n,as:r}},t.prototype.assembleFacet=function(){var e=this,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,u=i.row,a=i.column,o=this.getCardinalityAggregateForChild(),c=o.fields,f=o.ops,s=o.as,l=[];["row","column"].forEach(function(t){var n=e.facet[t];if(n){l.push(Object(V.vgField)(n));var r=n.sort;if(me(r)){var i=r.field,o=r.op,d=qr(n,r);u&&a?(c.push(d),f.push("max"),s.push(d)):(c.push(i),f.push(o),s.push(d))}else if(Object(k.isArray)(r)){d=it(n,t);c.push(d),f.push("max"),s.push(d)}}});var d=!!u&&!!a;return h.a({name:n,data:r,groupby:l},d||c.length?{aggregate:h.a({},d?{cross:d}:{},c.length?{fields:c,ops:f,as:s}:{})}:{})},t.prototype.headerSortFields=function(e){var t=this.facet[e];return t?me(t.sort)?[qr(t,t.sort,"datum")]:Object(k.isArray)(t.sort)?[it(t,e,"datum")]:[Object(V.vgField)(t,{expr:"datum"})]:[]},t.prototype.headerSortOrder=function(e){var t=this.facet[e];if(t){var n=t.sort;return[(me(n)?n.order:!Object(k.isArray)(n)&&n)||"ascending"]}return[]},t.prototype.assembleMarks=function(){var e=this.child,t=function(e){var t=[],n=jr(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}(this.component.data.facetRoot),n=e.assembleLayoutSize(),r=e.assembleTitle(),i=e.assembleGroupStyle();return[h.a({name:this.getName("cell"),type:"group"},r?{title:r}:{},i?{style:i}:{},{from:{facet:this.assembleFacet()},sort:{field:this.headerSortFields("row").concat(this.headerSortFields("column")),order:this.headerSortOrder("row").concat(this.headerSortOrder("column"))}},t.length>0?{data:t}:{},n?{encode:{update:n}}:{},e.assembleGroup())]},t.prototype.getMapping=function(){return this.facet},t}(En),Hr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.transform=n,r}return h.b(t,e),t.makeFromFacet=function(e,n){var r=n.row,i=n.column;if(r&&i){for(var u=null,a=0,o=[r,i];a<o.length;a++){var c=o[a];if(me(c.sort)){var f=c.sort,s=f.field;e=u=new t(e,{window:[{op:f.op,field:s,as:qr(c,c.sort)}],groupby:[Object(V.vgField)(c)],frame:[null,null]})}}return u}return null},t.prototype.clone=function(){return new t(this.parent,Object(p.duplicate)(this.transform))},t.prototype.producedFields=function(){var e=this,t={};return this.transform.window.forEach(function(n){t[e.getDefaultName(n)]=!0}),t},t.prototype.getDefaultName=function(e){return e.as||Object(V.vgField)(e)},t.prototype.assemble=function(){for(var e=[],t=[],n=[],r=[],i=0,u=this.transform.window;i<u.length;i++){var a=u[i];t.push(a.op),n.push(this.getDefaultName(a)),r.push(void 0===a.param?null:a.param),e.push(void 0===a.field?null:a.field)}var o=this.transform.frame,c=this.transform.groupby,f=[],s=[];if(void 0!==this.transform.sort)for(var l=0,d=this.transform.sort;l<d.length;l++){var h=d[l];f.push(h.field),s.push(h.order||"ascending")}var p={field:f,order:s},m=this.transform.ignorePeers,v={type:"window",params:r,as:n,ops:t,fields:e,sort:p};return void 0!==m&&(v.ignorePeers=m),void 0!==c&&(v.groupby=c),void 0!==o&&(v.frame=o),v},t}(tt);function Yr(e){var t=function(e,t){if(e.data||!e.parent){var n=new Wt(e.data),r=n.hash();return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources),n=e.component.data,r=n.outputNodes,i=n.outputNodeRefCounts,u=e.parent?e.parent.component.data.ancestorParse.clone():new Mr;e.data&&e.data.format&&null===e.data.format.parse&&(u.parseNothing=!0),t=qt.makeExplicit(t,e,u)||t,er(e)&&(bn(e)||_n(e))&&(t=new Fr(t));var a=e.parent&&_n(e.parent);(bn(e)||yn(e))&&a&&(t=Or.makeFromEncoding(t,e)||t),e.transforms.length>0&&(t=function(e,t,n){var r=0;return t.transforms.forEach(function(i){if(br(i))e=new rt(e,i),n.set(i.as,"derived",!1);else if(mr(i))e=qt.makeImplicitFromFilterTransform(e,i,n)||e,e=new kr(e,t,i.filter);else if(yr(i))for(var u=e=Or.makeFromTransform(e,i,t),a=0,o=Object(p.keys)(u.producedFields());a<o.length;a++){var c=o[a];n.set(c,"number",!1)}else if(xr(i))e=Ht.makeFromTransform(e,i),n.set(i.as,"date",!1);else if(wr(i)){var f=e=zt.makeFromTransform(e,i);er(t)&&(e=new Fr(e));for(var s=0,l=Object(p.keys)(f.producedFields());s<l.length;s++)c=l[s],n.set(c,"derived",!1)}else if(vr(i))for(var d=e=Sr.make(e,t,i,r++),h=0,m=Object(p.keys)(d.producedFields());h<m.length;h++)c=m[h],n.set(c,"derived",!1);else if(gr(i))for(var v=e=new Hr(e,i),g=0,b=Object(p.keys)(v.producedFields());g<b.length;g++)c=b[g],n.set(c,"derived",!1);else{if(!_r(i))return void G.e(G.b.invalidTransformIgnored(i));for(var y=e=Xt.makeFromTransform(e,i),x=0,w=Object(p.keys)(y.producedFields());x<w.length;x++)c=w[x],n.set(c,"derived",!1)}}),e}(t,e,u)),t=qt.makeImplicitFromEncoding(t,e,u)||t,bn(e)&&(t=Cr.parseAll(t,e),t=Dr.parseAll(t,e)),(bn(e)||yn(e))&&(a||(t=Or.makeFromEncoding(t,e)||t),t=Ht.makeFromEncoding(t,e)||t,t=rt.parseAllForSortIndex(t,e));var o=e.getName(ne),c=new nt(t,o,ne,i);if(r[o]=c,t=c,bn(e)){var f=zt.makeFromEncoding(t,e);f&&(t=f,er(e)&&(t=new Fr(t))),t=Xt.makeFromEncoding(t,e)||t}bn(e)&&(t=It.make(t,e)||t);var s=e.getName(te),l=new nt(t,s,te,i);r[s]=l,t=l;var d=null;if(yn(e)){var m=e.getName("facet");t=rt.parseAllForSortIndex(t,e),t=Hr.makeFromFacet(t,e.facet)||t,d=new Lt(t,e,m,l.getSource()),r[m]=d,t=d}return h.a({},e.component.data,{outputNodes:r,outputNodeRefCounts:i,raw:c,main:l,facetRoot:d,ancestorParse:u})}var Vr=function(e){function t(t,n,r,i,u,a){return e.call(this,t,n,r,i,u,a)||this}return h.b(t,e),t.prototype.parseData=function(){this.component.data=Yr(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),Object(p.keys)(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){t(r[n])}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseAxisAndHeader()}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},dt(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},e)},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleLayoutSize();return h.a({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},r?{encode:{update:r}}:{},e.assembleGroup())})},t}(An),Gr=function(e){function t(t,n,r,i,u){var a=e.call(this,t,n,r,u,i,t.resolve)||this;return a.type="concat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&G.e(G.b.CONCAT_CANNOT_SHARE_AXIS),a.isVConcat=Object($.isVConcatSpec)(t),a.children=(Object($.isVConcatSpec)(t)?t.vconcat:t.hconcat).map(function(e,t){return pi(e,a,a.getName("concat_"+t),void 0,i,u,!1)}),a}return h.b(t,e),t.prototype.parseLayoutSize=function(){!function(e){Br(e);var t=e.component.layoutSize,n=e.isVConcat?"width":"height";t.setWithExplicit(n,Pr(e,n))}(this)},t.prototype.parseAxisGroup=function(){return null},t.prototype.assembleDefaultLayout=function(){return h.a({},this.isVConcat?{columns:1}:{},{bounds:"full",align:"each"})},t}(Vr);var $r=function(e){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r=!1);var i=e.call(this)||this;return i.explicit=t,i.implicit=n,i.mainExtracted=r,i}return h.b(t,e),t.prototype.clone=function(){return new t(Object(p.duplicate)(this.explicit),Object(p.duplicate)(this.implicit),this.mainExtracted)},t.prototype.hasAxisPart=function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t},t}(gt);function Xr(e,t,n,r,i){void 0===r&&(r="");for(var u=0,a=("band"===i?["axisBand"]:[]).concat(["x"===n?"axisX":"axisY","axis"+r.substr(0,1).toUpperCase()+r.substr(1),"axis"]);u<a.length;u++){var o=a[u];if(t[o]&&void 0!==t[o][e])return t[o][e]}}function Jr(e,t,n,r){var i=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),u=e.axis(t),a=e.config,o={};if(Object(V.isTimeFieldDef)(i)){var c=e.getScaleComponent(t).get("type")===N.ScaleType.UTC,f=$e("datum.value",i.timeUnit,u.format,a.axis.shortTimeLabels,a.timeFormat,c);f&&(o.text={signal:f})}var s=Xr("labelAngle",e.config,t,r,e.getScaleComponent(t).get("type"));if(void 0===s&&(s=function(e,t,n){if(void 0!==e.labelAngle)return(e.labelAngle%360+360)%360;if(t===E.X&&Object(p.contains)([be.NOMINAL,be.ORDINAL],n.type))return 270;return}(u,t,i))&&(o.angle={value:s}),void 0!==s){var l=function(e,t){return e=(e%360+360)%360,"top"===t||"bottom"===t?e%180===0?"center":0<e&&e<180?"top"===t?"right":"left":"top"===t?"left":"right":(e+90)%180===0?"center":90<=e&&e<270?"left"===t?"left":"right":"left"===t?"right":"left"}(s,r);l&&(o.align={value:l}),o.baseline=function(e,t){return"top"===t||"bottom"===t?e<=45||315<=e?{value:"top"===t?"bottom":"top"}:135<=e&&e<=225?{value:"top"===t?"top":"bottom"}:{value:"middle"}:e<=45||315<=e||135<=e&&e<=225?{value:"middle"}:45<=e&&e<=135?{value:"left"===t?"top":"bottom"}:{value:"left"===t?"bottom":"top"}}(s,r)}return o=h.a({},o,n),0===Object(p.keys)(o).length?void 0:o}var Kr={bottom:"top",top:"bottom",left:"right",right:"left"};function Qr(e,t){if(!e)return t.map(function(e){return e.clone()});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],u=t[r];if(!!i!==!!u)return;if(i&&u){var a=i.getWithExplicit("orient"),o=u.getWithExplicit("orient");if(a.explicit&&o.explicit&&a.value!==o.value)return;e[r]=Zr(i,u)}}return e}}function Zr(e,t){for(var n=function(n){var r=_t(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return Qe(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return wt(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=w;r<i.length;r++){n(i[r])}return e}function ei(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),u=r?r.title:void 0,a=i?i.title:void 0;return u&&a?Ke(u,a):u||(a||(void 0!==u?u:void 0!==a?a:void 0))}function ti(e,t){var n=t.axis(e),r=new $r;w.forEach(function(i){var u=function(e,t,n,r){var i=r.fieldDef(n);switch(e){case"scale":return r.scaleName(n);case"gridScale":return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(r,n);case"format":return He(i,t.format,r.config);case"grid":var u=r.getScaleComponent(n).get("type");return We(t.grid,function(e,t){return!Object(N.hasDiscreteDomain)(e)&&!t.bin}(u,i));case"labelFlush":return function(e,t,n){return void 0!==n.labelFlush?n.labelFlush:!("x"!==t||!Object(p.contains)(["quantitative","temporal"],e.type))||void 0}(i,n,t);case"labelOverlap":var u=r.getScaleComponent(n).get("type");return function(e,t,n,r){return void 0!==t.labelOverlap?t.labelOverlap:"nominal"!==e.type?"log"!==r||"greedy":void 0}(i,t,0,u);case"orient":return We(t.orient,function(e){switch(e){case E.X:return"bottom";case E.Y:return"left"}throw new Error(G.b.INVALID_CHANNEL_FOR_AXIS)}(n));case"tickCount":var u=r.getScaleComponent(n).get("type"),a="x"===n?"width":"y"===n?"height":void 0,o=a?r.getSizeSignalRef(a):void 0;return We(t.tickCount,function(e,t,n,r){if(!Object(N.hasDiscreteDomain)(n)&&"log"!==n&&!Object(p.contains)(["month","hours","day","quarter"],t.timeUnit))return t.bin?{signal:"ceil("+r.signal+"/20)"}:{signal:"ceil("+r.signal+"/40)"}}(0,i,u,o));case"title":var c="x"===n?"x2":"y2",f=r.fieldDef(c),s=ei(r,n),l=void 0!==s?s:void 0===t.title?void 0:t.title;return We(l,Je([Object(V.toFieldDefBase)(i)],f?[Object(V.toFieldDefBase)(f)]:[]));case"values":return function(e,t,n,r){var i=e.values;if(i)return Object(V.valueArray)(n,i);if(n.bin&&n.type===be.QUANTITATIVE){var u=t.scaleDomain(r);if(u&&"unaggregated"!==u&&!Object(N.isSelectionDomain)(u))return;var a=t.getName(Object(A.binToString)(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+a+".start, "+a+".stop + "+a+".step, "+a+".step)"}}}(t,r,i,n)}return x(e)?t[e]:void 0}(i,n,e,t);if(void 0!==u){var a="values"===i?!!n.values:"encode"===i?!!n.encoding||!!n.labelAngle:"title"===i&&u===ei(t,e)||u===n[i],o=Xr(i,t.config,e,r.get("orient"),t.getScaleComponent(e).get("type"));a||void 0===o?r.set(i,u,a):"grid"===i&&o&&r.set(i,o,!1)}});var i=n.encoding||{},u=m.reduce(function(n,u){if(!r.hasAxisPart(u))return n;var a=et(i[u]||{},t),o="labels"===u?Jr(t,e,a,r.get("orient")):a;return void 0!==o&&Object(p.keys)(o).length>0&&(n[u]={update:o}),n},{});return Object(p.keys)(u).length>0&&r.set("encode",u,!!n.encoding||void 0!==n.labelAngle),r}var ni=n(53);function ri(e,t,n){var r=Object(T.isMarkDef)(e)?h.a({},e):{type:e},i=r.orient||Ue("orient",r,n);return r.orient=function(e,t,n){switch(e){case T.POINT:case T.CIRCLE:case T.SQUARE:case T.TEXT:case T.RECT:return}var r=t.y2,i=t.x2;switch(e){case T.BAR:if(r||i){if(n)return n;var u=t.x;if(!i&&Object(V.isFieldDef)(u)&&u.type===be.QUANTITATIVE&&!u.bin)return"horizontal";var a=t.y;if(!r&&Object(V.isFieldDef)(a)&&a.type===be.QUANTITATIVE&&!a.bin)return"vertical"}case T.RULE:if(i&&r)return;case T.AREA:if(r)return"vertical";if(i)return"horizontal";if(e===T.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case T.LINE:case T.TICK:var o=Object(V.isFieldDef)(t.x)&&Object(V.isContinuous)(t.x),c=Object(V.isFieldDef)(t.y)&&Object(V.isContinuous)(t.y);if(o&&!c)return"tick"!==e?"horizontal":"vertical";if(!o&&c)return"tick"!==e?"vertical":"horizontal";if(o&&c){var u=t.x,a=t.y,f=u.type===be.TEMPORAL,s=a.type===be.TEMPORAL;return f&&!s?"tick"!==e?"vertical":"horizontal":!f&&s?"tick"!==e?"horizontal":"vertical":!u.aggregate&&a.aggregate?"tick"!==e?"vertical":"horizontal":u.aggregate&&!a.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(r.type,t,i),void 0!==i&&i!==r.orient&&G.e(G.b.orientOverridden(r.orient,i)),void 0===(void 0!==r.opacity?r.opacity:Ue("opacity",r,n))&&(r.opacity=function(e,t){if(Object(p.contains)([T.POINT,T.TICK,T.CIRCLE,T.SQUARE],e)&&!Object(ue.isAggregate)(t))return.7;return}(r.type,t)),void 0===r.filled&&(r.filled=function(e,t){var n=Ue("filled",e,t),r=e.type;return void 0!==n?n:r!==T.POINT&&r!==T.LINE&&r!==T.RULE}(r,n)),void 0===(r.cursor||Ue("cursor",r,n))&&(r.cursor=function(e,t,n){if(t.href||e.href||Ue("href",e,n))return"pointer";return e.cursor}(r,t,n)),r}function ii(e,t,n,r){if(void 0!==e.size)return{value:e.size};if(r.bar.discreteBandSize)return{value:r.bar.discreteBandSize};if(n){var i=n.get("type");if(i!==N.ScaleType.POINT)return i===N.ScaleType.BAND?_e(t):{value:r.bar.continuousBandSize};var u=n.get("range");if(oe(u)&&Object(k.isNumber)(u.step))return{value:u.step-1};G.e(G.b.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}else if(r.scale.rangeStep&&null!==r.scale.rangeStep)return{value:r.scale.rangeStep-1};return{value:20}}function ui(e,t){var n=e.config,r=e.width,i=e.height;return h.a({},De(e,{size:"include",orient:"ignore"}),ze("x",e,Oe(r)),ze("y",e,Oe(i)),Se("size",e),function(e,t,n){if(n)return{shape:{value:n}};return Se("shape",e,{defaultValue:Ue("shape",e.markDef,t)})}(e,n,t))}function ai(e){var t=e.config,n=e.markDef,r=n.orient,i=e.getScaleComponent("horizontal"===r?"x":"y");if(void 0!==n.size)return n.size;if(void 0!==t.tick.bandSize)return t.tick.bandSize;var u=i?i.get("range"):void 0,a=u&&oe(u)?u.step:t.scale.rangeStep;if("number"!==typeof a)throw new Error("Function does not handle non-numeric rangeStep");return a/1.5}var oi={area:{vgMark:"area",encodeEntry:function(e){return h.a({},De(e,{size:"ignore",orient:"include"}),ze("x",e,"zeroOrMin"),ze("y",e,"zeroOrMin"),Le(e,"zeroOrMin","horizontal"===e.markDef.orient?"x2":"y2"),Me(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return h.a({},De(e,{size:"ignore",orient:"ignore"}),function(e){var t=e.config,n=e.encoding,r=e.markDef,i=e.width,u=r.orient,a=n.size,o=n.x,c=n.x2,f=e.scaleName(E.X),s=e.getScaleComponent(E.X);if("horizontal"===u||c)return h.a({},ze("x",e,"zeroOrMin"),Le(e,"zeroOrMin","x2"));if(Object(V.isFieldDef)(o)){var l=s.get("type");if(o.bin&&!a&&!Object(N.hasDiscreteDomain)(l))return Re(o,"x",e.scaleName("x"),void 0===r.binSpacing?t.bar.binSpacing:r.binSpacing,s.get("reverse"));if(l===N.ScaleType.BAND)return Be(o,"x",e)}return Pe("x",e,h.a({},Oe(i)),ii(r,f,s,t))}(e),function(e){var t=e.config,n=e.encoding,r=e.height,i=e.markDef,u=i.orient,a=n.size,o=n.y,c=n.y2,f=e.scaleName(E.Y),s=e.getScaleComponent(E.Y);if("vertical"===u||c)return h.a({},ze("y",e,"zeroOrMin"),Le(e,"zeroOrMin","y2"));if(Object(V.isFieldDef)(o)){var l=s.get("type");if(o.bin&&!a&&!Object(N.hasDiscreteDomain)(l))return Re(o,"y",e.scaleName("y"),void 0===i.binSpacing?t.bar.binSpacing:i.binSpacing,s.get("reverse"));if(l===N.ScaleType.BAND)return Be(o,"y",e)}return Pe("y",e,Oe(r),ii(i,f,s,t))}(e))}},circle:{vgMark:"symbol",encodeEntry:function(e){return ui(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return h.a({},De(e,{size:"ignore",orient:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[h.a({type:"geoshape",projection:e.projectionName()},t&&Object(V.isFieldDef)(t)&&t.type===be.GEOJSON?{field:Object(V.vgField)(t,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:function(e){var t=e.width,n=e.height;return h.a({},De(e,{size:"ignore",orient:"ignore"}),ze("x",e,Oe(t)),ze("y",e,Oe(n)),Se("size",e,{vgChannel:"strokeWidth"}),Me(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return ui(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return h.a({},De(e,{size:"ignore",orient:"ignore"}),function(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(E.X),i=r?r.get("type"):void 0;if(Object(V.isFieldDef)(t)&&t.bin&&!n)return Re(t,"x",e.scaleName("x"),0,r.get("reverse"));if(Object(V.isFieldDef)(t)&&r&&Object(N.hasDiscreteDomain)(i)){if(i===N.ScaleType.BAND)return Be(t,"x",e);throw new Error(G.b.scaleTypeNotWorkWithMark(T.RECT,i))}return h.a({},ze("x",e,"zeroOrMax"),Le(e,"zeroOrMin","x2"))}(e),function(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(E.Y),i=r?r.get("type"):void 0;if(Object(V.isFieldDef)(t)&&t.bin&&!n)return Re(t,"y",e.scaleName("y"),0,r.get("reverse"));if(Object(V.isFieldDef)(t)&&r&&Object(N.hasDiscreteDomain)(i)){if(i===N.ScaleType.BAND)return Be(t,"y",e);throw new Error(G.b.scaleTypeNotWorkWithMark(T.RECT,i))}return h.a({},ze("y",e,"zeroOrMax"),Le(e,"zeroOrMin","y2"))}(e))}},rule:{vgMark:"rule",encodeEntry:function(e){e.config;var t=e.markDef,n=e.width,r=e.height,i=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?h.a({},De(e,{size:"ignore",orient:"ignore"}),ze("x",e,"horizontal"===i?"zeroOrMin":Oe(n)),ze("y",e,"vertical"===i?"zeroOrMin":Oe(r)),"vertical"!==i?Le(e,"zeroOrMax","x2"):{},"horizontal"!==i?Le(e,"zeroOrMax","y2"):{},Se("size",e,{vgChannel:"strokeWidth",defaultValue:t.size})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return ui(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config,n=(e.encoding,e.width),r=e.height,i=e.markDef;return h.a({},De(e,{size:"ignore",orient:"ignore"}),ze("x",e,Oe(n)),ze("y",e,Oe(r)),Te(e),Se("size",e,h.a({},i.size?{defaultValue:i.size}:{},{vgChannel:"fontSize"})),function(e,t){var n;if(void 0!==t)return(n={})[e]={value:t},n}("align",function(e,t,n){if(void 0===(e.align||Ue("align",e,n)))return"center";return}(e.markDef,0,t)))}},tick:{vgMark:"rect",encodeEntry:function(e){var t,n=e.config,r=e.markDef,i=e.width,u=e.height,a=r.orient,o="horizontal"===a?"width":"height",c="horizontal"===a?"height":"width";return h.a({},De(e,{size:"ignore",orient:"ignore"}),ze("x",e,Oe(i),"xc"),ze("y",e,Oe(u),"yc"),Se("size",e,{defaultValue:ai(e),vgChannel:o}),((t={})[c]={value:r.thickness||n.tick.thickness},t))}},trail:{vgMark:"trail",encodeEntry:function(e){var t=e.width,n=e.height;return h.a({},De(e,{size:"include",orient:"ignore"}),ze("x",e,Oe(t)),ze("y",e,Oe(n)),Se("size",e),Me(e))}}};function ci(e){return Object(p.contains)([T.LINE,T.AREA,T.TRAIL],e.mark)?function(e){var t=(r=e.mark,i=e.encoding,Object(p.keys)(i).reduce(function(e,t){switch(t){case"x":case"y":case"order":case"tooltip":case"href":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":return e;case"detail":case"key":var n=i[t];return n&&(Object(k.isArray)(n)?n:[n]).forEach(function(t){t.aggregate||e.push(Object(V.vgField)(t,{}))}),e;case"size":if("trail"===r)return e;case"color":case"fill":case"stroke":case"opacity":var u=Object(V.getFieldDef)(i[t]);return u&&!u.aggregate&&e.push(Object(V.vgField)(u,{})),e;default:throw new Error("Bug: Channel "+t+" unimplemented for line mark")}},[])),n=si(e,{fromPrefix:t.length>0?fi:""});var r,i;return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:fi+e.requestDataName(te),data:e.requestDataName(te),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):si(e)}var fi="faceted_path_";function si(e,t){void 0===t&&(t={fromPrefix:""});var n=e.mark,r=void 0!==e.markDef.clip?!!e.markDef.clip:function(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))}(e),i=Ie(e.markDef),u=e.encoding.key,a=function(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,u=t.order;if(Object(k.isArray)(u)||!Object(V.isValueDef)(u)){if((Object(k.isArray)(u)||Object(V.isFieldDef)(u))&&!n)return Xe(u,{expr:"datum"});if(Object(T.isPathMark)(r)){var a=t["horizontal"===i.orient?"y":"x"];if(Object(V.isFieldDef)(a)){var o=a.sort;return{field:me(o)?Object(V.vgField)({aggregate:Object(ue.isAggregate)(e.encoding)?o.op:void 0,field:o.field},{expr:"datum"}):Object(V.vgField)(a,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"}),order:"descending"}}}}}(e),o=oi[n].postEncodingTransform?oi[n].postEncodingTransform(e):null;return[h.a({name:e.getName("marks"),type:oi[n].vgMark},r?{clip:!0}:{},i?{style:i}:{},u?{key:{field:u.field}}:{},a?{sort:a}:{},{from:{data:t.fromPrefix+e.requestDataName(te)},encode:{update:oi[n].encodeEntry(e)}},o?{transform:o}:{})]}var li=function(e){function t(t,n,r,i,u,a,o){void 0===i&&(i={});var c=e.call(this,t,n,r,a,u,void 0)||this;c.fit=o,c.type="unit",c.specifiedScales={},c.specifiedAxes={},c.specifiedLegends={},c.specifiedProjection={},c.selection={},c.children=[],c.initSize(h.a({},i,t.width?{width:t.width}:{},t.height?{height:t.height}:{}));var f=Object(T.isMarkDef)(t.mark)?t.mark.type:t.mark,s=c.encoding=Object(ue.normalizeEncoding)(function(e,t){return Ur(e,t)}(t.encoding||{},u),f);return c.markDef=ri(t.mark,s,a),c.stack=Object(ni.stack)(f,s,c.config.stack),c.specifiedScales=c.initScales(f,s),c.specifiedAxes=c.initAxes(s),c.specifiedLegends=c.initLegend(s),c.specifiedProjection=t.projection,c.selection=t.selection,c}return h.b(t,e),Object.defineProperty(t.prototype,"hasProjection",{get:function(){var e=this.encoding,t=this.mark===T.GEOSHAPE,n=e&&E.GEOPOSITION_CHANNELS.some(function(t){return Object(V.isFieldDef)(e[t])});return t||n},enumerable:!0,configurable:!0}),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initScales=function(e,t){return E.SCALE_CHANNELS.reduce(function(e,n){var r,i,u=t[n];return Object(V.isFieldDef)(u)?(r=u,i=u.scale):Object(V.hasConditionalFieldDef)(u)?(r=u.condition,i=u.condition.scale):"x"===n?r=Object(V.getFieldDef)(t.x2):"y"===n&&(r=Object(V.getFieldDef)(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[E.X,E.Y].reduce(function(t,n){var r=e[n];if(Object(V.isFieldDef)(r)||n===E.X&&Object(V.isFieldDef)(e.x2)||n===E.Y&&Object(V.isFieldDef)(e.y2)){var i=Object(V.isFieldDef)(r)?r.axis:null;null!==i&&!1!==i&&(t[n]=h.a({},i))}return t},{})},t.prototype.initLegend=function(e){return E.NONPOSITION_SCALE_CHANNELS.reduce(function(t,n){var r=e[n];if(r){var i=Object(V.isFieldDef)(r)?r.legend:Object(V.hasConditionalFieldDef)(r)?r.condition.legend:null;null!==i&&!1!==i&&(t[n]=h.a({},i))}return t},{})},t.prototype.parseData=function(){this.component.data=Yr(this)},t.prototype.parseLayoutSize=function(){!function(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=Rr(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=Rr(e,"height");t.set("height",r,!1)}}(this)},t.prototype.parseSelection=function(){this.component.selection=function(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var u=t[i],a=r[u.type];for(var o in a)"encodings"===o&&u.fields||"fields"===o&&u.encodings||("mark"===o&&(u[o]=h.a({},a[o],u[o])),void 0!==u[o]&&!0!==u[o]||(u[o]=a[o]||u[o]));i=Object(p.varName)(i);var c=n[i]=h.a({},u,{name:i,events:Object(k.isString)(u.on)?Object(ie.a)(u.on,"scope"):u.on});Wn(c,function(t){t.parse&&t.parse(e,u,c)})};for(var u in t)i(u);return n}(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=ci(this)},t.prototype.parseAxisAndHeader=function(){var e;this.component.axes=(e=this,E.POSITION_SCALE_CHANNELS.reduce(function(t,n){return e.component.scales[n]&&e.axis(n)&&(t[n]=[ti(n,e)]),t},{}))},t.prototype.assembleSelectionTopLevelSignals=function(e){return function(e,t){var n=!1;return Jn(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),Wn(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n&&(t.filter(function(e){return"unit"===e.name}).length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})),t}(this,e)},t.prototype.assembleSelectionSignals=function(){return function(e,t){Jn(e,function(n,r){var i=n.name,u=r.modifyExpr(e,n);t.push.apply(t,r.signals(e,n)),Wn(n,function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(u=r.modifyExpr(e,n,u))}),t.push({name:i+Vn,on:[{events:{signal:i+Yn},update:"modify("+Object(k.stringValue)(n.name+Hn)+", "+u+")"}]})});var n=Qn(e);if(t.length&&n){var r=Object(k.stringValue)(n.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Object(ie.a)("mousemove","scope"),update:"isTuple(facet) ? facet : group("+r+").datum"}]})}return t}(this,[])},t.prototype.assembleSelectionData=function(e){return function(e,t){return Jn(e,function(e){t.filter(function(t){return t.name===e.name+Hn}).length||t.push({name:e.name+Hn})}),t}(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return dt(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&_n(this.parent)||(e=$n(this,e)),e.map(this.correctDataNames)},t.prototype.assembleLayoutSize=function(){return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=Object(p.duplicate)(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=Object(p.duplicate)(this.config)),t||(n.data=Object(p.duplicate)(this.data)),n},Object.defineProperty(t.prototype,"mark",{get:function(){return this.markDef.type},enumerable:!0,configurable:!0}),t.prototype.channelHasField=function(e){return ue.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return Object(V.getFieldDef)(t)},t}(En),di=function(e){function t(n,r,i,u,a,o,c){var f=e.call(this,n,r,i,o,a,n.resolve)||this;f.type="layer";var s=h.a({},u,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return f.initSize(s),f.children=n.layer.map(function(e,n){if(Object($.isLayerSpec)(e))return new t(e,f,f.getName("layer_"+n),s,a,o,c);if(Object($.isUnitSpec)(e))return new li(e,f,f.getName("layer_"+n),s,a,o,c);throw new Error(G.b.INVALID_SPEC)}),f}return h.b(t,e),t.prototype.parseData=function(){this.component.data=Yr(this);for(var e=0,t=this.children;e<t.length;e++){t[e].parseData()}},t.prototype.parseLayoutSize=function(){Tr(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),Object(p.keys)(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){t(r[n])}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){!function(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},u=0,a=e.children;u<a.length;u++){(m=a[u]).parseAxisAndHeader();for(var o=0,c=Object(p.keys)(m.component.axes);o<c.length;o++){var f=c[o];r.axis[f]=vt(e.component.resolve,f),"shared"===r.axis[f]&&(n[f]=Qr(n[f],m.component.axes[f]),n[f]||(r.axis[f]="independent",delete n[f]))}}for(var s=0,l=[E.X,E.Y];s<l.length;s++){f=l[s];for(var d=0,h=e.children;d<h.length;d++){var m;if((m=h[d]).component.axes[f]){if("independent"===r.axis[f]){n[f]=(n[f]||[]).concat(m.component.axes[f]);for(var v=0,g=m.component.axes[f];v<g.length;v++){var b=g[v],y=b.getWithExplicit("orient"),x=y.value,w=y.explicit;if(i[x]>0&&!w){var _=Kr[x];i[x]>i[_]&&b.set("orient",_,!1)}i[x]++}}delete m.component.axes[f]}}}}(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},dt(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},e)},t.prototype.assembleTitle=function(){var t=e.prototype.assembleTitle.call(this);if(t)return t;for(var n=0,r=this.children;n<r.length;n++){if(t=r[n].assembleTitle())return t}},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return e=this,t=Object(p.flatten)(this.children.map(function(e){return e.assembleMarks()})),e.children.forEach(function(e){bn(e)&&(t=$n(e,t))}),t;var e,t},t.prototype.assembleLegends=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLegends())},jt(this))},t}(An),hi=function(e){function t(t,n,r,i,u){var a=e.call(this,t,n,r,u,i,t.resolve)||this;return a.type="repeat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&G.e(G.b.REPEAT_CANNOT_SHARE_AXIS),a.repeat=t.repeat,a.children=a._initChildren(t,a.repeat,i,u),a}return h.b(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],u=t.row||[n?n.row:null],a=t.column||[n?n.column:null],o=0,c=u;o<c.length;o++)for(var f=c[o],s=0,l=a;s<l.length;s++){var d=l[s],h=(f?"_"+f:"")+(d?"_"+d:""),p={row:f,column:d};i.push(pi(e.spec,this,this.getName("child"+h),void 0,p,r,!1))}return i},t.prototype.parseLayoutSize=function(){Nr(this)},t.prototype.assembleDefaultLayout=function(){return{columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t}(Vr);function pi(e,t,n,r,i,u,a){if(Object($.isFacetSpec)(e))return new Wr(e,t,n,i,u);if(Object($.isLayerSpec)(e))return new di(e,t,n,r,i,u,a);if(Object($.isUnitSpec)(e))return new li(e,t,n,r,i,u,a);if(Object($.isRepeatSpec)(e))return new hi(e,t,n,i,u);if(Object($.isConcatSpec)(e))return new Gr(e,t,n,i,u);throw new Error(G.b.INVALID_SPEC)}function mi(e,t){void 0===t&&(t={}),t.logger&&G.d(t.logger),t.fieldTitle&&V.setTitleFormatter(t.fieldTitle);try{var n=I(Object(p.mergeDeep)({},t.config,e.config)),r=Object($.normalize)(e,n),i=function(e,t,n){void 0===n&&(n=!0);var r=h.a({type:"pad"},X(t),X(e));return"fit"===r.type&&(n||(G.e(G.b.FIT_NON_SINGLE),r.type="pad")),r}(e.autosize,n.autosize,Object($.isLayerSpec)(r)||Object($.isUnitSpec)(r)),u=pi(r,null,"",void 0,void 0,n,"fit"===i.type);return u.parse(),function(e){var t=Object(p.vals)(e.sources);t.forEach(Qt),Zt(t=t.filter(function(e){return e.numChildren()>0})).forEach(Yt(Gt)),Zt(t=t.filter(function(e){return e.numChildren()>0})).forEach(Yt(Vt)),Zt(t).forEach($t),t.forEach(Kt),Object(p.keys)(e.sources).forEach(function(t){0===e.sources[t].numChildren()&&delete e.sources[t]})}(u.component.data),function(e,t){var n=e.config?H(e.config):void 0,r=[].concat(e.assembleSelectionData([]),function(e,t){var n=Object(p.vals)(e.sources),r=[],i=jr(r),u=0;n.forEach(function(e){e.hasName()||(e.dataName="source_"+u++);var t=e.assemble();i(e,t)}),r.forEach(function(e){0===e.transform.length&&delete e.transform});for(var a=0,o=0;o<r.length;o++)0!==((v=r[o]).transform||[]).length||v.source||r.splice(a++,0,r.splice(o,1)[0]);for(var c=0,f=r;c<f.length;c++)for(var s=0,l=(v=f[c]).transform||[];s<l.length;s++){var d=l[s];"lookup"===d.type&&(d.from=e.outputNodes[d.from].getSource())}for(var h=0,m=r;h<m.length;h++){var v;(v=m[h]).name in t&&(v.values=t[v.name])}return r}(e.component.data,t.datasets||{}));delete t.datasets;var i=e.assembleProjections(),u=e.assembleTitle(),a=e.assembleGroupStyle(),o=e.assembleLayoutSignals();return o=o.filter(function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}),{spec:h.a({$schema:"https://vega.github.io/schema/vega/v3.json"},e.description?{description:e.description}:{},t,u?{title:u}:{},a?{style:a}:{},{data:r},i.length>0?{projections:i}:{},e.assembleGroup(o.concat(e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{})}}(u,function(e,t,n){return h.a({autosize:1===Object(p.keys)(n).length&&n.type?n.type:n},K(t),K(e))}(e,n,i))}finally{t.logger&&G.c(),t.fieldTitle&&V.resetTitleFormatter()}}var vi=n(89),gi={text:["text"],line:["x","y"],trail:["x","y"],area:["x","y"]},bi={bar:Object(k.toSet)(["row","column","x","y","size","color","fill","stroke","detail"]),line:Object(k.toSet)(["row","column","x","y","color","fill","stroke","color","detail"]),trail:Object(k.toSet)(["row","column","x","y","color","fill","stroke","color","detail","size"]),area:Object(k.toSet)(["row","column","x","y","color","fill","stroke","detail"]),tick:Object(k.toSet)(["row","column","x","y","color","fill","stroke","detail"]),circle:Object(k.toSet)(["row","column","x","y","color","fill","stroke","size","detail"]),square:Object(k.toSet)(["row","column","x","y","color","fill","stroke","size","detail"]),point:Object(k.toSet)(["row","column","x","y","color","fill","stroke","size","detail","shape"]),geoshape:Object(k.toSet)(["row","column","color","fill","stroke","detail","shape"]),text:Object(k.toSet)(["row","column","size","color","fill","stroke","text"])};function yi(e,t,n){void 0===t&&(t=gi),void 0===n&&(n=bi);var r=Object(T.isMarkDef)(e.mark)?e.mark.type:e.mark,i=e.encoding,u=t[r],a=n[r];for(var o in u)if(!(u[o]in i))return'Missing encoding channel "'+u[o]+'" for mark "'+r+'"';for(var c in i)if(!a[c])return'Encoding channel "'+c+'" is not supported by mark type "'+r+'"';return r!==T.BAR||i.x||i.y?null:"Missing both x and y for bar"}var xi=n(100);n.d(t,"version",function(){return wi}),n.d(t,"compile",function(){return mi}),n.d(t,"aggregate",function(){return d}),n.d(t,"axis",function(){return r}),n.d(t,"bin",function(){return A}),n.d(t,"channel",function(){return E}),n.d(t,"compositeMark",function(){return O}),n.d(t,"config",function(){return u}),n.d(t,"data",function(){return a}),n.d(t,"datetime",function(){return Ut}),n.d(t,"encoding",function(){return ue}),n.d(t,"facet",function(){return vi}),n.d(t,"fieldDef",function(){return V}),n.d(t,"header",function(){return o}),n.d(t,"legend",function(){return i}),n.d(t,"mark",function(){return T}),n.d(t,"scale",function(){return N}),n.d(t,"sort",function(){return c}),n.d(t,"spec",function(){return $}),n.d(t,"stack",function(){return ni}),n.d(t,"timeUnit",function(){return ge}),n.d(t,"transform",function(){return s}),n.d(t,"type",function(){return be}),n.d(t,"util",function(){return p}),n.d(t,"validate",function(){return l});var wi=xi.version}]]);
//# sourceMappingURL=1.2fa6451c.chunk.js.map